# Spec-Kit ä½¿ç”¨æ•™å­¸æ‰‹å†Š

> **ç‰ˆæœ¬**: 1.0  
> **æœ€å¾Œæ›´æ–°**: 2025å¹´10æœˆ29æ—¥  
> **é©ç”¨æ–¼**: Spec-Kit v0.0.79+
> **Created by**: Eric Cheng

---

## ğŸ“š ç›®éŒ„

### [å‰è¨€](#å‰è¨€)
- [ç›®çš„èˆ‡é©ç”¨å°è±¡](#ç›®çš„èˆ‡é©ç”¨å°è±¡)
- [èƒŒæ™¯èªªæ˜:ç‚ºä½•æ¡ç”¨ SDD + Spec-Kit â†’ AI åŠ©æ‰‹æµç¨‹](#èƒŒæ™¯èªªæ˜ç‚ºä½•æ¡ç”¨-sdd--spec-kit--ai-åŠ©æ‰‹æµç¨‹)
- [æœ¬æ‰‹å†Šä½¿ç”¨å‡è¨­](#æœ¬æ‰‹å†Šä½¿ç”¨å‡è¨­)

### [ç¬¬ä¸€ç« :æ¦‚å¿µç†è§£](#ç¬¬ä¸€ç« æ¦‚å¿µç†è§£)
- [1.1 SDD æ˜¯ä»€éº¼?](#11-sdd-æ˜¯ä»€éº¼)
- [1.2 Spec-Kit æ¦‚è¦½](#12-spec-kit-æ¦‚è¦½)
- [1.3 SDD ä¸­çš„é—œéµ artefacts(å·¥ä»¶)](#13-sdd-ä¸­çš„é—œéµ-artefactså·¥ä»¶)
- [1.4 æµç¨‹æ¦‚è¦½:SDD çš„éšæ®µ/æ­¥é©Ÿ](#14-æµç¨‹æ¦‚è¦½sdd-çš„éšæ®µæ­¥é©Ÿ)
- [1.5 ç‚ºä»€éº¼é€™å°æˆ‘å€‘åœ˜éšŠ/å…±ç”¨å¹³å°é–‹ç™¼ç‰¹åˆ¥æœ‰åƒ¹å€¼](#15-ç‚ºä»€éº¼é€™å°æˆ‘å€‘åœ˜éšŠå…±ç”¨å¹³å°é–‹ç™¼ç‰¹åˆ¥æœ‰åƒ¹å€¼)

### [ç¬¬äºŒç« :ç’°å¢ƒæº–å‚™](#ç¬¬äºŒç« ç’°å¢ƒæº–å‚™)
- [2.1 å‰ç½®æ¢ä»¶](#21-å‰ç½®æ¢ä»¶)
- [2.2 å®‰è£ Spec-Kit CLI](#22-å®‰è£-spec-kit-cli)
- [2.3 å»ºç«‹å°ˆæ¡ˆèˆ‡åˆå§‹åŒ–](#23-å»ºç«‹å°ˆæ¡ˆèˆ‡åˆå§‹åŒ–)
- [2.4 å»ºç«‹åœ˜éšŠå®ˆå‰‡ (Constitution)](#24-å»ºç«‹åœ˜éšŠå®ˆå‰‡-constitution)
- [2.5 æ¨¡æ¿èˆ‡æç¤ºæ–‡ä»¶èªªæ˜](#25-æ¨¡æ¿èˆ‡æç¤ºæ–‡ä»¶èªªæ˜)
- [2.6 GitHub å€‰åº«åˆ†æ”¯èˆ‡ç‰ˆæœ¬æ§åˆ¶å»ºè­°](#26-github-å€‰åº«åˆ†æ”¯èˆ‡ç‰ˆæœ¬æ§åˆ¶å»ºè­°)

### [ç¬¬ä¸‰ç« :ä½¿ç”¨æµç¨‹è©³ç´°èªªæ˜](#ç¬¬ä¸‰ç« ä½¿ç”¨æµç¨‹è©³ç´°èªªæ˜)
- [3.1 Step 1:æ’°å¯« Spec (/speckit.specify)](#31-step-1æ’°å¯«-spec-speckitspecify)
- [3.2 Step 1a:æ¾„æ¸…æ¨¡ç³Šéœ€æ±‚ (/speckit.clarify)](#32-step-1aæ¾„æ¸…æ¨¡ç³Šéœ€æ±‚-speckitclarify)
- [3.3 Step 2:æ’°å¯« Plan (/speckit.plan)](#33-step-2æ’°å¯«-plan-speckitplan)
- [3.4 Step 3:æ‹†åˆ† Tasks (/speckit.tasks)](#34-step-3æ‹†åˆ†-tasks-speckittasks)
- [3.5 Step 4:é å¯¦ä½œæª¢æŸ¥ (/speckit.analyze + /speckit.checklist)](#35-step-4é å¯¦ä½œæª¢æŸ¥-speckitanalyze--speckitchecklist)
- [3.6 Step 5:å¯¦ä½œ (/speckit.implement)](#36-step-5å¯¦ä½œ-speckitimplement)
- [3.7 Step 6:è¿­ä»£ç¶­è­·](#37-step-6è¿­ä»£ç¶­è­·)

### [ç¬¬å››ç« :å¯¦å‹™æ¡ˆä¾‹èˆ‡æ‡‰ç”¨æŒ‡å¼•](#ç¬¬å››ç« å¯¦å‹™æ¡ˆä¾‹èˆ‡æ‡‰ç”¨æŒ‡å¼•)
- [4.1 æ¡ˆä¾‹ä¸€:Greenfield é–‹ç™¼ - æ–°å»ºäº¤æ˜“è¨˜éŒ„å¾®æœå‹™](#41-æ¡ˆä¾‹ä¸€greenfield-é–‹ç™¼---æ–°å»ºäº¤æ˜“è¨˜éŒ„å¾®æœå‹™)
- [4.2 æ¡ˆä¾‹äºŒ:Brownfield æ•´åˆ - ç‚ºæ—¢æœ‰ç³»çµ±æ–°å¢åŠŸèƒ½](#42-æ¡ˆä¾‹äºŒbrownfield-æ•´åˆ---ç‚ºæ—¢æœ‰ç³»çµ±æ–°å¢åŠŸèƒ½)
- [4.3 åœ˜éšŠå”ä½œ:å¤šäººé–‹ç™¼](#43-åœ˜éšŠå”ä½œå¤šäººé–‹ç™¼)
- [4.4 AI åŠ©æ‰‹æœ€ä½³å¯¦è¸](#44-ai-åŠ©æ‰‹æœ€ä½³å¯¦è¸)
- [4.5 å¹³å°å°å…¥å»ºè­°](#45-å¹³å°å°å…¥å»ºè­°)

### [ç¬¬äº”ç« :å¸¸è¦‹å•é¡Œèˆ‡é™·é˜±](#ç¬¬äº”ç« å¸¸è¦‹å•é¡Œèˆ‡é™·é˜±)
- [5.1 å¸¸è¦‹å•é¡Œ(FAQ)](#51-å¸¸è¦‹å•é¡Œfaq)
- [5.2 å¸¸è¦‹é™·é˜±èˆ‡é¿å…æ–¹æ³•](#52-å¸¸è¦‹é™·é˜±èˆ‡é¿å…æ–¹æ³•)

### [ç¬¬å…­ç« :é™„éŒ„](#ç¬¬å…­ç« é™„éŒ„)
- [6.1 å®Œæ•´æ¨¡æ¿ç¯„ä¾‹](#61-å®Œæ•´æ¨¡æ¿ç¯„ä¾‹)
- [6.2 æª¢æŸ¥æ¸…å–®](#62-æª¢æŸ¥æ¸…å–®)
- [6.3 åƒè€ƒè³‡æº](#63-åƒè€ƒè³‡æº)
- [6.4 è¡“èªè¡¨](#64-è¡“èªè¡¨)
- [6.5 å¿«é€ŸæŒ‡ä»¤åƒè€ƒ](#65-å¿«é€ŸæŒ‡ä»¤åƒè€ƒ)

### [çµèª](#çµèª)

---

## å‰è¨€

### ç›®çš„èˆ‡é©ç”¨å°è±¡

æœ¬æ‰‹å†Šæ—¨åœ¨å¹«åŠ©é–‹ç™¼åœ˜éšŠå¿«é€ŸæŒæ¡ **Spec-Driven Development (SDD)** æ–¹æ³•è«–,ä¸¦é€é **Spec-Kit** å·¥å…·çµ„èˆ‡ AI åŠ©æ‰‹å”ä½œ,å»ºç«‹é«˜å“è³ªã€å¯ç¶­è­·çš„è»Ÿé«”ç³»çµ±ã€‚

**é©ç”¨å°è±¡:**

- **æ–°é€²é–‹ç™¼äººå“¡** - å¸Œæœ›äº†è§£ç¾ä»£åŒ–è¦æ ¼é©…å‹•é–‹ç™¼æµç¨‹
- **å°ˆæ¡ˆç¶“ç†/ç”¢å“è² è²¬äºº** - éœ€è¦å»ºç«‹æ¸…æ™°çš„éœ€æ±‚èˆ‡æŠ€è¡“æºé€šæ©‹æ¨‘
- **æ¶æ§‹å¸«/æŠ€è¡“é ˜å°** - å¸Œæœ›å»ºç«‹åœ˜éšŠçµ±ä¸€çš„é–‹ç™¼è¦ç¯„èˆ‡æœ€ä½³å¯¦å‹™
- **DevOps/æ¸¬è©¦å·¥ç¨‹å¸«** - éœ€è¦ç†è§£å¾è¦æ ¼åˆ°å¯¦ä½œçš„å®Œæ•´æµç¨‹
- **AI è¼”åŠ©é–‹ç™¼æ¨å»£è€…** - å¸Œæœ›è®“ AI å·¥å…·ç™¼æ®æ›´å¤§åƒ¹å€¼çš„åœ˜éšŠ

### èƒŒæ™¯èªªæ˜:ç‚ºä½•æ¡ç”¨ SDD + Spec-Kit â†’ AI åŠ©æ‰‹æµç¨‹

#### å‚³çµ±é–‹ç™¼çš„ç—›é»

åœ¨å‚³çµ±è»Ÿé«”é–‹ç™¼ä¸­,**ç¨‹å¼ç¢¼ä¸€ç›´æ˜¯ç‹é“**ã€‚æˆ‘å€‘æ’°å¯«éœ€æ±‚æ–‡ä»¶(PRD)ã€è¨­è¨ˆæ–‡ä»¶ã€æ¶æ§‹åœ–ä¾†ã€ŒæŒ‡å°ã€é–‹ç™¼,ä½†é€™äº›æ–‡ä»¶å¾€å¾€:

- âŒ **å¾ˆå¿«éæ™‚** - ç¨‹å¼ç¢¼æ”¹äº†,æ–‡ä»¶æ²’æ›´æ–°
- âŒ **è¦æ ¼èˆ‡å¯¦ä½œè„«ç¯€** - é–‹ç™¼äººå“¡æŒ‰è‡ªå·±ç†è§£å¯¦ä½œ,èˆ‡åŸå§‹æ„åœ–åé›¢
- âŒ **æºé€šæˆæœ¬é«˜** - PMã€æ¶æ§‹å¸«ã€é–‹ç™¼è€…ä¹‹é–“éœ€è¦å¤§é‡æœƒè­°å°é½Š
- âŒ **é›£ä»¥è¿½è¹¤æ±ºç­–** - ç‚ºä»€éº¼ç•¶åˆé€™æ¨£è¨­è¨ˆ?æ²’äººè¨˜å¾—æ¸…æ¥š
- âŒ **AI åŠ©æ‰‹æ•ˆæœä¸ä½³** - çµ¦ AI æ¨¡ç³ŠæŒ‡ä»¤,ç”¢å‡ºå“è³ªä¸ç©©å®š

#### SDD çš„æ ¸å¿ƒæ”¹è®Š:è¦æ ¼å³çœŸç›¸

**Spec-Driven Development åè½‰äº†é€™å€‹æ¬ŠåŠ›çµæ§‹**:

```
å‚³çµ±:éœ€æ±‚æ–‡ä»¶ â†’ è¨­è¨ˆæ–‡ä»¶ â†’ ç¨‹å¼ç¢¼(çœŸç›¸)
SDD: è¦æ ¼(çœŸç›¸)â†’ å¯¦ä½œè¨ˆç•« â†’ ç¨‹å¼ç¢¼(ç”Ÿæˆç”¢ç‰©)
```

æ ¸å¿ƒç†å¿µ:
- âœ… **è¦æ ¼æ˜¯å¯åŸ·è¡Œçš„** - ä¸åªæ˜¯æ–‡ä»¶,è€Œæ˜¯å¯ä»¥ç”¢ç”Ÿç¨‹å¼ç¢¼çš„ã€Œè—åœ–ã€
- âœ… **è¦æ ¼èˆ‡ç¨‹å¼ç¢¼åŒæ­¥** - æ”¹è¦æ ¼å°±é‡æ–°ç”¢ç”Ÿ,æ²’æœ‰è„«ç¯€å•é¡Œ
- âœ… **AI åŠ©æ‰‹æ›´æœ‰æ•ˆ** - æœ‰çµæ§‹åŒ–è¦æ ¼,AI ç”¢å‡ºå“è³ªæ›´ç©©å®š
- âœ… **æ±ºç­–å¯è¿½æº¯** - æ¯å€‹æŠ€è¡“é¸æ“‡éƒ½é—œè¯å›éœ€æ±‚
- âœ… **åœ˜éšŠå”ä½œæ›´é †æš¢** - ç”¨è‡ªç„¶èªè¨€æè¿°ã€Œæ„åœ–ã€,è€Œéç›´æ¥å¯«ç¨‹å¼ç¢¼

#### ç‚ºä»€éº¼ç¾åœ¨æ˜¯å°å…¥çš„æœ€ä½³æ™‚æ©Ÿ

ä¸‰å¤§è¶¨å‹¢è®“ SDD è®Šå¾—ä¸åƒ…å¯è¡Œ,è€Œä¸”å¿…è¦:

1. **AI èƒ½åŠ›çªç ´**  
   ç¾ä»£ AI(å¦‚ GitHub Copilotã€Claudeã€Gemini)å·²èƒ½ç†è§£è¤‡é›œè¦æ ¼ä¸¦ç”¢ç”Ÿé«˜å“è³ªç¨‹å¼ç¢¼ã€‚é€™ä¸æ˜¯å–ä»£é–‹ç™¼è€…,è€Œæ˜¯å°‡æ©Ÿæ¢°æ€§ç¿»è­¯è‡ªå‹•åŒ–,è®“é–‹ç™¼è€…å°ˆæ³¨å‰µé€ åŠ›èˆ‡é—œéµæ€è€ƒã€‚

2. **ç³»çµ±è¤‡é›œåº¦çˆ†ç‚¸**  
   ç¾ä»£æ‡‰ç”¨æ•´åˆæ•¸åå€‹æœå‹™ã€æ¡†æ¶ã€ä¾è³´é …(å¦‚ä½ ç®¡ç†çš„å…±ç”¨å¹³å°:å¤šè³‡æ–™åº«ã€å¾®æœå‹™ã€å¾®å‰ç«¯ã€æ‰¹æ¬¡å·¥ä½œã€SFTP/FTPS...)ã€‚é€éæ‰‹å‹•æµç¨‹ä¿æŒå°é½Šè¶Šä¾†è¶Šå›°é›£ã€‚SDD æä¾›ç³»çµ±åŒ–çš„å°é½Šæ©Ÿåˆ¶ã€‚

3. **è®Šæ›´é€Ÿåº¦åŠ å¿«**  
   éœ€æ±‚è®Šæ›´ä¸å†æ˜¯ä¾‹å¤–,è€Œæ˜¯å¸¸æ…‹ã€‚SDD è®“éœ€æ±‚è®Šæ›´å¾ã€Œç ´å£æ€§é‡å¯«ã€è®Šæˆã€Œç³»çµ±åŒ–é‡æ–°ç”Ÿæˆã€:
   - æ”¹è®Šæ ¸å¿ƒéœ€æ±‚ â†’ å¯¦ä½œè¨ˆç•«è‡ªå‹•æ›´æ–°
   - ä¿®æ”¹ User Story â†’ å°æ‡‰ API è‡ªå‹•é‡æ–°ç”¢ç”Ÿ
   - æ”¯æ´ã€ŒWhat-ifã€å¯¦é©—:ã€Œå¦‚æœæ¥­å‹™è¦è½‰å‹è³£ T-shirt,æŠ€è¡“æ€éº¼èª¿æ•´?ã€

#### Spec-Kit çš„è§’è‰²

**Spec-Kit** æ˜¯ GitHub é–‹æºçš„å·¥å…·çµ„,æä¾›:

- ğŸ“ **çµæ§‹åŒ–æ¨¡æ¿** - ç¢ºä¿è¦æ ¼å®Œæ•´ã€ç„¡æ­§ç¾©
- ğŸ¤– **AI æ•´åˆæŒ‡ä»¤** - `/speckit.*` æŒ‡ä»¤èˆ‡ AI åŠ©æ‰‹ç„¡ç¸«å”ä½œ
- ğŸ¯ **å“è³ªæŠŠé—œæ©Ÿåˆ¶** - é€é Constitution(å®ˆå‰‡)ã€Checklist ç¢ºä¿è¼¸å‡ºå“è³ª
- ğŸ”„ **å®Œæ•´å·¥ä½œæµç¨‹** - å¾è¦æ ¼ â†’ è¨ˆç•« â†’ ä»»å‹™ â†’ å¯¦ä½œçš„ç«¯å°ç«¯æµç¨‹

### æœ¬æ‰‹å†Šä½¿ç”¨å‡è¨­

é–±è®€æœ¬æ‰‹å†Šå‰,å‡è¨­ä½ å·²å…·å‚™:

#### åŸºç¤èƒ½åŠ›
- âœ… åŸºæœ¬è»Ÿé«”é–‹ç™¼æµç¨‹(éœ€æ±‚åˆ†æã€è¨­è¨ˆã€é–‹ç™¼ã€æ¸¬è©¦)
- âœ… ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ä½¿ç”¨ç¶“é©—(Gitã€GitHub)
- âœ… å‘½ä»¤åˆ—ä»‹é¢(CLI)åŸºæœ¬æ“ä½œ
- âœ… è‡³å°‘ä¸€ç¨®ç¨‹å¼èªè¨€é–‹ç™¼ç¶“é©—

#### åœ˜éšŠæº–å‚™åº¦
- âœ… åœ˜éšŠæœ‰æ„é¡˜å°å…¥ AI è¼”åŠ©é–‹ç™¼
- âœ… å¯å­˜å– AI ç·¨ç¢¼åŠ©æ‰‹(GitHub Copilot / Claude / Gemini / Cursor ç­‰)
- âœ… æœ‰åŸºæœ¬çš„ CI/CD æµç¨‹(æˆ–æº–å‚™å»ºç«‹)
- âœ… é¡˜æ„èª¿æ•´æ—¢æœ‰å·¥ä½œæµç¨‹

#### æŠ€è¡“ç’°å¢ƒ
- âœ… Windows / macOS / Linux ä½œæ¥­ç³»çµ±
- âœ… å·²å®‰è£æˆ–å¯å®‰è£:Python 3.11+ã€Gitã€uv å¥—ä»¶ç®¡ç†å·¥å…·
- âœ… ç¶²è·¯å¯é€£æ¥ GitHub èˆ‡ AI æœå‹™

#### ä¸éœ€è¦å…·å‚™(ä½†æœ‰æœƒæ›´å¥½)
- âšª æ·±å…¥çš„ AI/ML çŸ¥è­˜
- âšª ç‰¹å®šæ¡†æ¶å°ˆå®¶(SDD èˆ‡æŠ€è¡“æ£§ç„¡é—œ)
- âšª å¤§å‹ä¼æ¥­é–‹ç™¼ç¶“é©—

---

**âœ¨ æç¤º**:æœ¬æ‰‹å†Šæ¡ç”¨æ¼¸é€²å¼æ•™å­¸,å¾æ¦‚å¿µâ†’ç’°å¢ƒâ†’å¯¦ä½œâ†’æ¡ˆä¾‹â†’é€²éš,å»ºè­°ä¾åºé–±è®€ã€‚æ¯ç« çµå°¾éƒ½æœ‰å¯¦å‹™å»ºè­°èˆ‡æ³¨æ„äº‹é …,å¯ä½œç‚ºå¿«é€Ÿåƒè€ƒã€‚

---

## ç¬¬ä¸€ç« :æ¦‚å¿µç†è§£

### 1.1 SDD æ˜¯ä»€éº¼?

#### å‚³çµ±é–‹ç™¼ vs Spec-Driven é–‹ç™¼çš„å·®ç•°

**å‚³çµ±é–‹ç™¼æµç¨‹ (Code-First)**

```mermaid
%%{init: {'theme':'dark'}}%%
graph LR
    A[éœ€æ±‚è¨è«–] --> B[æ’°å¯«æ–‡ä»¶]
    B --> C[è¨­è¨ˆæœƒè­°]
    C --> D[é–‹å§‹å¯«ç¨‹å¼]
    D --> E[ç¨‹å¼ç¢¼=çœŸç›¸]
    E --> F[æ–‡ä»¶éæ™‚]
    F --> G[æŠ€è¡“å‚µç´¯ç©]
```

åœ¨å‚³çµ±é–‹ç™¼ä¸­:

- ğŸ“„ **æ–‡ä»¶æœå‹™æ–¼ç¨‹å¼ç¢¼** - PRDã€è¨­è¨ˆæ–‡ä»¶æ˜¯ã€ŒæŒ‡å—ã€,ç¨‹å¼ç¢¼æ‰æ˜¯ã€ŒçœŸç›¸ã€
- âš ï¸ **è¦æ ¼èˆ‡å¯¦ä½œåˆ†é›¢** - é–‹ç™¼è€…æŒ‰è‡ªå·±ç†è§£å¯¦ä½œ,å®¹æ˜“åé›¢åŸæ„
- ğŸ”„ **è®Šæ›´æˆæœ¬é«˜** - éœ€æ±‚æ”¹è®Šæ™‚,éœ€æ‰‹å‹•æ›´æ–°æ–‡ä»¶â†’è¨­è¨ˆâ†’ç¨‹å¼ç¢¼
- ğŸ“‰ **æ–‡ä»¶è¡°é€€** - ç¨‹å¼ç¢¼æŒçºŒæ¼”é€²,æ–‡ä»¶å¾ˆå°‘åŒæ­¥æ›´æ–°

**Spec-Driven é–‹ç™¼æµç¨‹ (Spec-First)**

```mermaid
%%{init: {'theme':'dark'}}%%
graph LR
    A[è¦æ ¼ Spec] --> B[å¯¦ä½œè¨ˆç•« Plan]
    B --> C[ä»»å‹™ Tasks]
    C --> D[ç¨‹å¼ç¢¼ç”Ÿæˆ]
    D --> E[è¦æ ¼=çœŸç›¸]
    E --> F[ç¨‹å¼ç¢¼=ç”¢ç‰©]
    F --> G[å§‹çµ‚åŒæ­¥]
```

åœ¨ SDD ä¸­:

- ğŸ¯ **ç¨‹å¼ç¢¼æœå‹™æ–¼è¦æ ¼** - è¦æ ¼æ˜¯ã€ŒçœŸç›¸ã€,ç¨‹å¼ç¢¼æ˜¯ã€Œè¡¨é”ã€
- âœ… **è¦æ ¼å³å¯åŸ·è¡Œ** - è¦æ ¼ç²¾ç¢ºåˆ°å¯ä»¥ç›´æ¥ç”¢ç”Ÿå·¥ä½œç¨‹å¼ç¢¼
- ğŸš€ **è®Šæ›´æˆæœ¬ä½** - æ”¹è¦æ ¼â†’é‡æ–°ç”¢ç”Ÿ,å¹¾åˆ†é˜å®Œæˆ
- ğŸ“ˆ **æŒçºŒåŒæ­¥** - è¦æ ¼èˆ‡ç¨‹å¼ç¢¼æ°¸é å°é½Š,å› ç‚ºç¨‹å¼ç¢¼ã€Œä¾†è‡ªã€è¦æ ¼

#### æ ¸å¿ƒå·®ç•°å°ç…§è¡¨

| å±¤é¢ | å‚³çµ±é–‹ç™¼ | Spec-Driven é–‹ç™¼ |
|------|---------|------------------|
| **ä¸»è¦å·¥ä»¶** | ç¨‹å¼ç¢¼ | è¦æ ¼æ–‡ä»¶ |
| **æ–‡ä»¶è§’è‰²** | æŒ‡å—(å¸¸éæ™‚) | å¯åŸ·è¡Œçš„è—åœ– |
| **ç¶­è­·ç„¦é»** | ä¿®æ”¹ç¨‹å¼ç¢¼ | æ¼”åŒ–è¦æ ¼ |
| **é™¤éŒ¯æ–¹å¼** | æ‰¾ç¨‹å¼ç¢¼ bug | ä¿®æ­£è¦æ ¼ä¸­çš„éŒ¯èª¤å®šç¾© |
| **é‡æ§‹å®šç¾©** | æ”¹å–„ç¨‹å¼çµæ§‹ | é‡çµ„è¦æ ¼ä»¥æ›´æ¸…æ™° |
| **è®Šæ›´æµç¨‹** | æ–‡ä»¶â†’è¨­è¨ˆâ†’ç¨‹å¼ç¢¼(æ‰‹å‹•) | è¦æ ¼â†’é‡æ–°ç”¢ç”Ÿ(è‡ªå‹•) |
| **AI è§’è‰²** | ç¨‹å¼ç¢¼è£œå…¨åŠ©æ‰‹ | è¦æ ¼ç†è§£èˆ‡å¯¦ä½œå¼•æ“ |
| **çœŸç›¸ä¾†æº** | Git ä¸­çš„ç¨‹å¼ç¢¼ | ç‰ˆæœ¬æ§åˆ¶çš„è¦æ ¼ |

#### ç‚ºä½•åœ¨ AI åŠ©æ‰‹è¼”åŠ©é–‹ç™¼ä¸­æ›´é‡è¦

**å•é¡Œ:å‚³çµ± AI è¼”åŠ©çš„å›°å¢ƒ**

ç•¶ä½ å° AI èªª:ã€Œå¹«æˆ‘åšä¸€å€‹ä½¿ç”¨è€…ç™»å…¥åŠŸèƒ½ã€

âŒ AI å¯èƒ½ç”¢ç”Ÿ:
- ä½¿ç”¨ email/password(ä½ æƒ³è¦çš„æ˜¯ SSO)
- æ²’æœ‰ MFA é›™å› å­é©—è­‰
- å­˜æ˜æ–‡å¯†ç¢¼(å®‰å…¨ç½é›£!)
- ä¸ç¬¦åˆå…¬å¸çš„èº«ä»½é©—è­‰æ¨™æº–

**åŸå› **:AI åœ¨ã€ŒçŒœæ¸¬ã€ä½ çš„æ„åœ–,è€ŒéåŸºæ–¼æ˜ç¢ºè¦æ ¼ã€‚

**è§£æ±º:SDD + AI çš„å”åŒæ•ˆæ‡‰**

```mermaid
%%{init: {'theme':'dark'}}%%
graph TD
    A[æ˜ç¢ºè¦æ ¼] --> B[AI ç†è§£ä¸Šä¸‹æ–‡]
    B --> C[éµå¾ª Constitution]
    C --> D[ç”¢ç”Ÿç¬¦åˆæ¨™æº–çš„ç¨‹å¼ç¢¼]
    D --> E[å¯é æ¸¬çš„é«˜å“è³ªè¼¸å‡º]
    
    F[æ¨¡ç³ŠæŒ‡ä»¤] --> G[AI è‡ªç”±ç™¼æ®]
    G --> H[ä¸ä¸€è‡´çš„è¼¸å‡º]
    H --> I[éœ€è¦å¤§é‡ä¿®æ”¹]
    
    style A fill:#2d5016,stroke:#4a7c23,color:#fff
    style E fill:#2d5016,stroke:#4a7c23,color:#fff
    style F fill:#6b1f2d,stroke:#a02f45,color:#fff
    style I fill:#6b1f2d,stroke:#a02f45,color:#fff
```

**SDD è®“ AI åŠ©æ‰‹ç™¼æ®çš„é—œéµ**:

1. **çµæ§‹åŒ–è¼¸å…¥** â†’ AI æœ‰æ¸…æ™°ä¸Šä¸‹æ–‡,ä¸éœ€çŒœæ¸¬
2. **å®ˆå‰‡ç´„æŸ** â†’ é€é Constitution ç¢ºä¿æ¶æ§‹ä¸€è‡´æ€§
3. **æ¨¡æ¿å¼•å°** â†’ å¼·åˆ¶ AI è€ƒæ…®æ‰€æœ‰å¿…è¦é¢å‘(å®‰å…¨ã€æ•ˆèƒ½ã€æ¸¬è©¦...)
4. **å¯é©—è­‰ç”¢å‡º** â†’ è¦æ ¼å®šç¾©é©—æ”¶æ¨™æº–,AI ç”¢å‡ºå¯è‡ªå‹•é©—è­‰

**å¯¦ä¾‹å°æ¯”**

| å‚³çµ± AI äº’å‹• | SDD + AI äº’å‹• |
|-------------|--------------|
| ã€Œåšä¸€å€‹èŠå¤©åŠŸèƒ½ã€ | `/speckit.specify` å®šç¾©:å³æ™‚è¨Šæ¯ã€æ­·å²è¨˜éŒ„ã€å·²è®€ç‹€æ…‹ã€é›¢ç·šè¨Šæ¯ |
| AI è‡ªç”±ç™¼æ®æŠ€è¡“é¸æ“‡ | `/speckit.plan` æ˜ç¢º:WebSocketã€PostgreSQLã€Redis |
| çµæœ:å¯èƒ½ä¸ç¬¦é æœŸ | çµæœ:å¯é æ¸¬ã€å¯é‡ç¾ã€ç¬¦åˆåœ˜éšŠæ¨™æº– |

---

### 1.2 Spec-Kit æ¦‚è¦½

#### Spec-Kit çš„å®šä½

**Spec-Kit** æ˜¯ GitHub é–‹æºçš„å·¥å…·çµ„,æ—¨åœ¨:

- ğŸ¯ **æ¨™æº–åŒ– SDD æµç¨‹** - æä¾›å¾è¦æ ¼åˆ°å¯¦ä½œçš„ç«¯å°ç«¯å·¥ä½œæµç¨‹
- ğŸ¤– **èˆ‡ AI åŠ©æ‰‹ç„¡ç¸«æ•´åˆ** - é€é `/speckit.*` æŒ‡ä»¤èˆ‡å¤šç¨® AI å·¥å…·å”ä½œ
- ğŸ“‹ **ç¢ºä¿å“è³ªä¸€è‡´æ€§** - é€éæ¨¡æ¿ã€å®ˆå‰‡ã€æª¢æŸ¥æ¸…å–®å¼·åˆ¶æœ€ä½³å¯¦å‹™
- ğŸ”„ **æ”¯æ´è¿­ä»£æ¼”é€²** - å¾ Greenfield(å…¨æ–°é–‹ç™¼)åˆ° Brownfield(æ—¢æœ‰ç³»çµ±)

#### å·¥å…·çµ„æˆ

**1. Specify CLI (å‘½ä»¤åˆ—å·¥å…·)**

```bash
# å®‰è£ Spec-Kit CLI
uv tool install specify-cli --from git+https://github.com/github/spec-kit.git

# åˆå§‹åŒ–å°ˆæ¡ˆ
specify init my-project --ai copilot

# æª¢æŸ¥ç’°å¢ƒ
specify check
```

**åŠŸèƒ½**:
- å°ˆæ¡ˆåˆå§‹åŒ–èˆ‡ç›®éŒ„çµæ§‹ç”Ÿæˆ
- æª¢æŸ¥ç³»çµ±å‰ç½®æ¢ä»¶(Gitã€AI å·¥å…·)
- æ•´åˆå¤šç¨® AI åŠ©æ‰‹çš„è¨­å®š

**2. çµæ§‹åŒ–æ¨¡æ¿**

Spec-Kit æä¾›äº”å¤§æ ¸å¿ƒæ¨¡æ¿:

| æ¨¡æ¿ | æª”æ¡ˆ | ç”¨é€” |
|------|-----|------|
| **è¦æ ¼æ¨¡æ¿** | `spec-template.md` | å®šç¾©ã€Œä»€éº¼ã€å’Œã€Œç‚ºä»€éº¼ã€ |
| **è¨ˆç•«æ¨¡æ¿** | `plan-template.md` | å®šç¾©ã€Œå¦‚ä½•ã€åš(æŠ€è¡“é¸æ“‡) |
| **ä»»å‹™æ¨¡æ¿** | `tasks-template.md` | æ‹†åˆ†å¯åŸ·è¡Œå·¥ä½œå–®å…ƒ |
| **æª¢æŸ¥æ¸…å–®æ¨¡æ¿** | `checklist-template.md` | å“è³ªæª¢æŸ¥èˆ‡ä¸€è‡´æ€§é©—è­‰ |
| **Agent æª”æ¡ˆæ¨¡æ¿** | `agent-file-template.md` | AI ä»£ç†é…ç½®èˆ‡æŒ‡å¼• |

**3. AI æ•´åˆæŒ‡ä»¤ (Slash Commands)**

æ ¸å¿ƒæŒ‡ä»¤:

```bash
/speckit.constitution  # å»ºç«‹å°ˆæ¡ˆå®ˆå‰‡
/speckit.specify       # å‰µå»ºåŠŸèƒ½è¦æ ¼
/speckit.plan          # ç”¢ç”Ÿå¯¦ä½œè¨ˆç•«
/speckit.tasks         # æ‹†åˆ†ä»»å‹™æ¸…å–®
/speckit.implement     # åŸ·è¡Œå¯¦ä½œ
```

è¼”åŠ©æŒ‡ä»¤:

```bash
/speckit.clarify       # æ¾„æ¸…æ¨¡ç³Šéœ€æ±‚
/speckit.analyze       # ä¸€è‡´æ€§åˆ†æ
/speckit.checklist     # ç”¢ç”Ÿå“è³ªæª¢æŸ¥æ¸…å–®
```

**4. å“è³ªæŠŠé—œæ©Ÿåˆ¶**

- **Constitution(å®ˆå‰‡)** - å®šç¾©ä¸å¯é•åçš„é–‹ç™¼åŸå‰‡
- **Pre-Implementation Gates** - å¯¦ä½œå‰çš„æª¢æŸ¥é»
- **Checklist é©—è­‰** - ç¢ºä¿è¦æ ¼å®Œæ•´æ€§

#### æ”¯æ´çš„ AI åŠ©æ‰‹ / æ™ºèƒ½ä»£ç†

Spec-Kit æ”¯æ´å¤šç¨®ä¸»æµ AI ç·¨ç¢¼åŠ©æ‰‹:

| AI åŠ©æ‰‹ | æ”¯æ´ç‹€æ…‹ | èªªæ˜ |
|---------|---------|------|
| **GitHub Copilot** | âœ… å®Œæ•´æ”¯æ´ | VS Code æ•´åˆ,ä¼æ¥­ç´šæ”¯æ´ |
| **Claude Code** | âœ… å®Œæ•´æ”¯æ´ | Anthropic Claude,æ¨ç†èƒ½åŠ›å¼· |
| **Cursor** | âœ… å®Œæ•´æ”¯æ´ | AI-first ç·¨è¼¯å™¨ |
| **Windsurf** | âœ… å®Œæ•´æ”¯æ´ | æ–°èˆˆ AI ç·¨ç¢¼å·¥å…· |
| **Gemini CLI** | âœ… å®Œæ•´æ”¯æ´ | Google Gemini å‘½ä»¤åˆ—ç‰ˆ |
| **Qwen Code** | âœ… å®Œæ•´æ”¯æ´ | é˜¿é‡Œé›²é€šç¾©åƒå• |
| **Amazon Q Developer** | âš ï¸ éƒ¨åˆ†æ”¯æ´ | ä¸æ”¯æ´è‡ªè¨‚åƒæ•¸ |

**é¸æ“‡å»ºè­°**:
- ğŸ¢ **ä¼æ¥­ç’°å¢ƒ** â†’ GitHub Copilot(å·²æ•´åˆè‡³ä¼æ¥­å·¥å…·éˆ)
- ğŸ§  **è¤‡é›œæ¨ç†** â†’ Claude Code(ç†è§£åŠ›æœ€å¼·)
- ğŸš€ **å¿«é€Ÿé–‹ç™¼** â†’ Cursor(å°ˆç‚º AI è¨­è¨ˆçš„ç·¨è¼¯å™¨)

---

### 1.3 SDD ä¸­çš„é—œéµ artefacts(å·¥ä»¶)

åœ¨ SDD æµç¨‹ä¸­,æœ‰äº”å€‹æ ¸å¿ƒå·¥ä»¶,æ¯å€‹å·¥ä»¶éƒ½æœ‰æ˜ç¢ºè§’è‰²:

```mermaid
%%{init: {'theme':'dark'}}%%
graph TD
    A[Constitution å®ˆå‰‡] --> B[Spec è¦æ ¼]
    B --> C[Plan è¨ˆç•«]
    C --> D[Tasks ä»»å‹™]
    D --> E[Implementation å¯¦ä½œ]
    
    A -.ç´„æŸ.-> C
    A -.ç´„æŸ.-> D
    A -.ç´„æŸ.-> E
    
    style A fill:#6b5419,stroke:#ffd966,stroke-width:3px,color:#fff
    style B fill:#1a4d5c,stroke:#66b3ff,stroke-width:3px,color:#fff
    style C fill:#2d5016,stroke:#7fff00,stroke-width:3px,color:#fff
    style D fill:#4a2d5c,stroke:#da70d6,stroke-width:3px,color:#fff
    style E fill:#6b5d19,stroke:#ffed4e,stroke-width:3px,color:#fff
```

#### 1. Constitution (é …ç›®å®ˆå‰‡)

**å®šç¾©**:å°ˆæ¡ˆçš„ã€Œæ†²æ³•ã€,å®šç¾©ä¸å¯é•åçš„é–‹ç™¼åŸå‰‡èˆ‡æ¶æ§‹ç´„æŸã€‚

**å…§å®¹åŒ…å«**:
- ğŸ—ï¸ **æ¶æ§‹åŸå‰‡** - Library-Firstã€CLI ä»‹é¢å¼·åˆ¶è¦æ±‚
- ğŸ§ª **æ¸¬è©¦ç­–ç•¥** - TDD å¼·åˆ¶ã€æ¸¬è©¦å„ªå…ˆé †åº
- ğŸ“¦ **æŠ€è¡“ç´„æŸ** - å…è¨±çš„æŠ€è¡“æ£§ã€æ¡†æ¶é¸æ“‡
- ğŸ”’ **å®‰å…¨è¦æ±‚** - èº«ä»½é©—è­‰ã€æˆæ¬Šã€è³‡æ–™ä¿è­·æ¨™æº–
- ğŸ“ **ç¨‹å¼ç¢¼å“è³ª** - é¢¨æ ¼æŒ‡å—ã€è¤‡é›œåº¦é™åˆ¶

**ç¯„ä¾‹ç‰‡æ®µ**:

```markdown
## Article I: Library-First Principle
æ¯å€‹åŠŸèƒ½å¿…é ˆå…ˆå¯¦ä½œç‚ºç¨ç«‹å‡½å¼åº«,ç¦æ­¢ç›´æ¥åœ¨æ‡‰ç”¨ç¨‹å¼ç¢¼ä¸­å¯¦ä½œã€‚

## Article III: Test-First Imperative  
éå”å•†æ¢æ¬¾:æ‰€æœ‰å¯¦ä½œå¿…é ˆéµå¾ªåš´æ ¼çš„ TDD
1. å…ˆå¯«å–®å…ƒæ¸¬è©¦
2. æ¸¬è©¦ç¶“ç”¨æˆ¶æ‰¹å‡†
3. ç¢ºèªæ¸¬è©¦å¤±æ•—(Red Phase)
4. æ‰èƒ½å¯«å¯¦ä½œç¨‹å¼ç¢¼
```

**ç‚ºä½•é‡è¦**:
- ç¢ºä¿ä¸åŒ AI ç”¢å‡ºçš„ç¨‹å¼ç¢¼éµå¾ªç›¸åŒæ¶æ§‹åŸå‰‡
- é˜²æ­¢éåº¦å·¥ç¨‹åŒ–(over-engineering)
- å»ºç«‹åœ˜éšŠå…±åŒèªè¨€

#### 2. Spec (è¦æ ¼:ä»€éº¼è¦åš & ç‚ºä»€éº¼)

**å®šç¾©**:æè¿°ã€Œè¦å»ºç«‹ä»€éº¼ã€ä»¥åŠã€Œç‚ºä»€éº¼éœ€è¦ã€,å°ˆæ³¨æ–¼æ¥­å‹™éœ€æ±‚èˆ‡ä½¿ç”¨è€…å ´æ™¯ã€‚

**æ ¸å¿ƒåŸå‰‡**:
- âœ… æè¿° **WHAT**(åšä»€éº¼)å’Œ **WHY**(ç‚ºä½•åš)
- âŒ ä¸æè¿° **HOW**(æ€éº¼åš,é‚£æ˜¯ Plan çš„è·è²¬)

**å…§å®¹çµæ§‹**:

```markdown
# Feature Specification

## 1. Overview
ç°¡çŸ­æ‘˜è¦èˆ‡ç›®æ¨™

## 2. User Stories  
- ä½œç‚º[è§’è‰²],æˆ‘å¸Œæœ›[åŠŸèƒ½],ä»¥ä¾¿[åƒ¹å€¼]

## 3. Acceptance Criteria
- [ ] ä½¿ç”¨è€…å¯ä»¥...
- [ ] ç³»çµ±æ‡‰è©²...

## 4. Success Metrics
å¦‚ä½•è¡¡é‡æˆåŠŸ?(KPIã€æ€§èƒ½æŒ‡æ¨™)

## 5. Out of Scope
æ˜ç¢ºæ’é™¤çš„é …ç›®

## 6. [NEEDS CLARIFICATION]
æ¨™è¨˜æ¨¡ç³Šæˆ–æœªå®šç¾©çš„éƒ¨åˆ†
```

**å¯¦ä¾‹**:

```markdown
# User Story: ç…§ç‰‡ç›¸ç°¿ç®¡ç†

## Overview
ä½¿ç”¨è€…éœ€è¦çµ„ç¹”ç…§ç‰‡åˆ°ç›¸ç°¿ä¸­,ç›¸ç°¿æŒ‰æ—¥æœŸåˆ†çµ„,å¯æ‹–æ”¾é‡æ–°æ’åºã€‚

## Acceptance Criteria
- [ ] ä½¿ç”¨è€…å¯åœ¨ä¸»é é¢çœ‹åˆ°æ‰€æœ‰ç›¸ç°¿(é è¦½åœ–+æ—¥æœŸ)
- [ ] ä½¿ç”¨è€…å¯æ‹–æ”¾ç›¸ç°¿æ”¹è®Šé †åº
- [ ] ç›¸ç°¿å…§ç…§ç‰‡ä»¥ç“·ç£šä»‹é¢é¡¯ç¤º
- [ ] ç›¸ç°¿ä¸èƒ½å·¢ç‹€(æ‰å¹³çµæ§‹)

## Out of Scope
- âŒ ç…§ç‰‡ä¸Šå‚³åˆ°é›²ç«¯(åƒ…æœ¬æ©Ÿ)
- âŒ ç›¸ç°¿åˆ†äº«åŠŸèƒ½
```

**æ³¨æ„äº‹é …**:
- ğŸš« **ä¸è¦æå‰æ±ºå®šæŠ€è¡“** - ä¸è¦å¯«ã€Œä½¿ç”¨ React å¯¦ä½œã€
- ğŸ” **ä½¿ç”¨ `[NEEDS CLARIFICATION]`** - é‡åˆ°æ¨¡ç³Šè™•å¿…é ˆæ¨™è¨˜
- ğŸ“ **å¯æ¸¬è©¦** - æ¯å€‹éœ€æ±‚éƒ½æ‡‰å¯é©—è­‰

#### 3. Plan (å¦‚ä½•åš/æŠ€è¡“è¦åŠƒ)

**å®šç¾©**:å°‡ Spec ç¿»è­¯æˆæŠ€è¡“å¯¦ä½œæ–¹æ¡ˆ,å®šç¾©ã€Œå¦‚ä½•ã€å¯¦ç¾éœ€æ±‚ã€‚

**å…§å®¹åŒ…å«**:
- ğŸ› ï¸ **æŠ€è¡“æ£§é¸æ“‡** - èªè¨€ã€æ¡†æ¶ã€å‡½å¼åº«
- ğŸ›ï¸ **æ¶æ§‹è¨­è¨ˆ** - ç³»çµ±çµæ§‹ã€æ¨¡çµ„åŠƒåˆ†
- ğŸ’¾ **è³‡æ–™æ¨¡å‹** - è³‡æ–™åº« schemaã€å¯¦é«”é—œä¿‚
- ğŸ”Œ **ä»‹é¢å¥‘ç´„** - API è¦æ ¼ã€äº‹ä»¶å®šç¾©
- ğŸš¦ **éåŠŸèƒ½éœ€æ±‚** - æ•ˆèƒ½ã€å®‰å…¨ã€å¯æ“´å±•æ€§

**Plan çš„éšæ®µåŠƒåˆ†**:

```markdown
## Phase -1: Pre-Implementation Gates
å¯¦ä½œå‰æª¢æŸ¥é»:
- [ ] Simplicity Gate: ä½¿ç”¨ â‰¤3 å€‹å°ˆæ¡ˆ?
- [ ] Anti-Abstraction Gate: ç›´æ¥ä½¿ç”¨æ¡†æ¶?
- [ ] Integration-First Gate: å¥‘ç´„å·²å®šç¾©?

## Phase 0: Environment Setup
ç’°å¢ƒæº–å‚™

## Phase 1: Core Implementation  
æ ¸å¿ƒåŠŸèƒ½å¯¦ä½œ

## Phase 2: Integration
æ•´åˆèˆ‡æ¸¬è©¦

## Phase 3: Production Readiness
ä¸Šç·šæº–å‚™
```

**å¯¦ä¾‹**:

```markdown
# Implementation Plan: ç…§ç‰‡ç›¸ç°¿ç®¡ç†

## Technology Stack
- **Frontend**: Vite + Vanilla JS(æœ€å°åŒ–ä¾è³´)
- **Database**: SQLite(æœ¬æ©Ÿå­˜å„²)
- **File System**: ç›´æ¥å­˜å–,ç„¡ä¸Šå‚³

## Data Model
\`\`\`sql
CREATE TABLE albums (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  date TEXT NOT NULL,
  sort_order INTEGER
);

CREATE TABLE photos (
  id INTEGER PRIMARY KEY,
  album_id INTEGER,
  file_path TEXT NOT NULL,
  FOREIGN KEY (album_id) REFERENCES albums(id)
);
\`\`\`

## Architecture
- å–®é æ‡‰ç”¨(SPA)
- IndexedDB å¿«å– metadata
- æ‹–æ”¾ä½¿ç”¨ HTML5 Drag & Drop API
```

**èˆ‡ Spec çš„å°æ‡‰**:
- Spec èªªã€Œç›¸ç°¿å¯æ‹–æ”¾æ’åºã€ â†’ Plan èªªã€Œä½¿ç”¨ HTML5 Drag & Drop APIã€
- Spec èªªã€ŒæŒ‰æ—¥æœŸåˆ†çµ„ã€ â†’ Plan èªªã€Œalbums.date æ¬„ä½ + ORDER BYã€

#### 4. Tasks (å¯åŸ·è¡Œå·¥ä½œå–®å…ƒ)

**å®šç¾©**:å°‡ Plan æ‹†è§£æˆé–‹ç™¼è€…å¯é€é …åŸ·è¡Œçš„å…·é«”ä»»å‹™ã€‚

**ä»»å‹™ç‰¹æ€§**:
- ğŸ¯ **åŸå­æ€§** - æ¯å€‹ä»»å‹™ç¨ç«‹å®Œæˆä¸€å€‹å°ç›®æ¨™
- â±ï¸ **å¯ä¼°æ™‚** - é€šå¸¸ 2-8 å°æ™‚å¯å®Œæˆ
- âœ… **å¯é©—è­‰** - æœ‰æ˜ç¢ºçš„å®Œæˆæ¨™æº–
- ğŸ”— **ä¾è³´æ˜ç¢º** - æ¨™ç¤ºå“ªäº›ä»»å‹™å¿…é ˆå…ˆå®Œæˆ

**ä»»å‹™çµæ§‹**:

```markdown
## Task 1: [P] å»ºç«‹è³‡æ–™åº« Schema
**Depends on**: ç„¡  
**Parallel Safe**: æ˜¯

**Description**:
å»ºç«‹ SQLite è³‡æ–™åº«èˆ‡ tables

**Acceptance**:
- [ ] albums èˆ‡ photos tables å‰µå»ºæˆåŠŸ
- [ ] å¯åŸ·è¡ŒåŸºæœ¬ CRUD æ“ä½œ
- [ ] Schema ç‰ˆæœ¬æ§åˆ¶å·²å»ºç«‹

**Estimated**: 3 hours
```

**ä¸¦è¡Œæ¨™è¨˜ `[P]`**:
- `[P]` = å¯èˆ‡å…¶ä»– `[P]` ä»»å‹™ä¸¦è¡Œ
- ç„¡æ¨™è¨˜ = å¿…é ˆä¾åºåŸ·è¡Œ

**å¯¦ä¾‹ä»»å‹™æ¸…å–®**:

```markdown
# Tasks: ç…§ç‰‡ç›¸ç°¿ç®¡ç†

## Phase 0: Setup
- [P] Task 1: åˆå§‹åŒ– Vite å°ˆæ¡ˆ
- [P] Task 2: å»ºç«‹è³‡æ–™åº« Schema
- Task 3: è¨­å®šé–‹ç™¼ç’°å¢ƒ

## Phase 1: Core Features  
- Task 4: å¯¦ä½œç›¸ç°¿åˆ—è¡¨é¡¯ç¤º
- [P] Task 5: å¯¦ä½œæ‹–æ”¾æ’åº
- [P] Task 6: å¯¦ä½œç…§ç‰‡ç“·ç£šé¡¯ç¤º

## Phase 2: Integration
- Task 7: æ•´åˆæ¸¬è©¦
- Task 8: æ•ˆèƒ½å„ªåŒ–
```

#### 5. Implementation (å¯¦ä½œ)

**å®šç¾©**:æ ¹æ“š Tasks ç”¢ç”Ÿçš„å¯¦éš›ç¨‹å¼ç¢¼ã€æ¸¬è©¦ã€é…ç½®æª”ã€‚

**éµå¾ªåŸå‰‡**:
- ğŸ“ **Test-First** - å…ˆå¯«æ¸¬è©¦,å¾Œå¯«å¯¦ä½œ
- ğŸ” **Contract-First** - API å¥‘ç´„å„ªå…ˆå®šç¾©
- ğŸ§© **Incremental** - é€ä»»å‹™å®Œæˆ,æŒçºŒæ•´åˆ

**å¯¦ä½œç”¢å‡º**:
- âœ… åŸå§‹ç¢¼æª”æ¡ˆ
- âœ… å–®å…ƒæ¸¬è©¦èˆ‡æ•´åˆæ¸¬è©¦
- âœ… API æ–‡ä»¶
- âœ… é…ç½®æª”(databaseã€buildã€deploy)
- âœ… README èˆ‡ Quickstart æŒ‡å—

**å“è³ªæª¢æŸ¥**:

```markdown
## Implementation Checklist
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé(Green Phase)
- [ ] ç¬¦åˆ Constitution å®ˆå‰‡
- [ ] API å¥‘ç´„å·²é©—è­‰
- [ ] ç„¡å®‰å…¨æ¼æ´(ä¾è³´æƒæ)
- [ ] æ•ˆèƒ½ç¬¦åˆ Plan å®šç¾©çš„æŒ‡æ¨™
```

---

### 1.4 æµç¨‹æ¦‚è¦½:SDD çš„éšæ®µ/æ­¥é©Ÿ

å®Œæ•´çš„ SDD æµç¨‹åŒ…å«å…­å€‹ä¸»è¦æ­¥é©Ÿ:

```mermaid
%%{init: {'theme':'dark'}}%%
graph TB
    Start[é–‹å§‹:æœ‰ä¸€å€‹æƒ³æ³•] --> Step0[Step 0: Constitution<br/>å»ºç«‹å°ˆæ¡ˆå®ˆå‰‡]
    Step0 --> Step1[Step 1: Specify<br/>å®šç¾©è¦æ ¼]
    Step1 --> Step1a{éœ€è¦æ¾„æ¸…?}
    Step1a -->|æ˜¯| Clarify[Clarify<br/>æ¾„æ¸…éœ€æ±‚]
    Clarify --> Step1
    Step1a -->|å¦| Step2[Step 2: Plan<br/>æŠ€è¡“è¦åŠƒ]
    Step2 --> Step3[Step 3: Tasks<br/>æ‹†åˆ†ä»»å‹™]
    Step3 --> Step4[Step 4: Analyze<br/>ä¸€è‡´æ€§æª¢æŸ¥]
    Step4 --> Step4a{ç™¼ç¾å•é¡Œ?}
    Step4a -->|æ˜¯| Fix[ä¿®æ­£ Spec/Plan]
    Fix --> Step3
    Step4a -->|å¦| Step5[Step 5: Implement<br/>åŸ·è¡Œå¯¦ä½œ]
    Step5 --> Step6[Step 6: Iterate<br/>è¿­ä»£å„ªåŒ–]
    Step6 --> Step6a{éœ€è¦æ–°åŠŸèƒ½?}
    Step6a -->|æ˜¯| Step1
    Step6a -->|å¦| End[å®Œæˆ]
    
    style Start fill:#2d5016,stroke:#4a7c23,color:#fff
    style Step0 fill:#6b5419,stroke:#a08028,color:#fff
    style Step1 fill:#1a4d5c,stroke:#2d7a8f,color:#fff
    style Step2 fill:#2d5016,stroke:#4a7c23,color:#fff
    style Step3 fill:#4a2d5c,stroke:#6f4389,color:#fff
    style Step5 fill:#6b5d19,stroke:#a08f28,color:#fff
    style End fill:#2d5016,stroke:#4a7c23,color:#fff
```

#### å„éšæ®µè©³ç´°èªªæ˜

| éšæ®µ | æŒ‡ä»¤ | ä¸»è¦ç”¢å‡º | åƒèˆ‡è§’è‰² | æ™‚é–“ä¼°è¨ˆ |
|------|------|---------|---------|---------|
| **Step 0: Constitution** | `/speckit.constitution` | `constitution.md` | æ¶æ§‹å¸«ã€æŠ€è¡“é ˜å° | 2-4 å°æ™‚(é¦–æ¬¡) |
| **Step 1: Specify** | `/speckit.specify` | `spec.md` | PMã€ç”¢å“è² è²¬äºº | 30 åˆ†é˜-2 å°æ™‚ |
| **Step 1a: Clarify** | `/speckit.clarify` | è£œå……çš„ `spec.md` | PM + AI å°è©± | 15-30 åˆ†é˜ |
| **Step 2: Plan** | `/speckit.plan` | `plan.md`ã€`data-model.md`ã€`contracts/` | æ¶æ§‹å¸«ã€è³‡æ·±é–‹ç™¼ | 1-3 å°æ™‚ |
| **Step 3: Tasks** | `/speckit.tasks` | `tasks.md` | é–‹ç™¼é ˜å° | 30 åˆ†é˜-1 å°æ™‚ |
| **Step 4: Analyze** | `/speckit.analyze` | åˆ†æå ±å‘Š | å“è³ªä¿è­‰ | 15 åˆ†é˜ |
| **Step 5: Implement** | `/speckit.implement` | ç¨‹å¼ç¢¼ã€æ¸¬è©¦ | é–‹ç™¼åœ˜éšŠ + AI | ä¾ä»»å‹™é‡ |
| **Step 6: Iterate** | å›åˆ° Step 1 | æ›´æ–°çš„å·¥ä»¶ | å…¨åœ˜éšŠ | æŒçºŒé€²è¡Œ |

#### äººå“¡èˆ‡ AI è§’è‰²äº’å‹•

**äººå“¡è§’è‰²**:
- ğŸ¯ **å®šç¾©æ„åœ–** - æ˜ç¢ºè¡¨é”ã€Œè¦åšä»€éº¼ã€å’Œã€Œç‚ºä»€éº¼ã€
- ğŸ” **å¯©æŸ¥å“è³ª** - ç¢ºä¿ AI ç”¢å‡ºç¬¦åˆéœ€æ±‚èˆ‡æ¨™æº–
- ğŸ’¡ **é—œéµæ±ºç­–** - æ¶æ§‹é¸æ“‡ã€æŠ€è¡“å–æ¨ã€å„ªå…ˆé †åº
- ğŸ§ª **é©—è­‰çµæœ** - æ¸¬è©¦ã€ä»£ç¢¼å¯©æŸ¥ã€ä½¿ç”¨è€…é©—æ”¶

**AI è§’è‰²**:
- ğŸ“ **çµæ§‹åŒ–ç”¢å‡º** - æ ¹æ“šæ¨¡æ¿ç”Ÿæˆå®Œæ•´æ–‡ä»¶
- ğŸ¤– **ç¨‹å¼ç¢¼ç”Ÿæˆ** - å°‡è¦æ ¼ç¿»è­¯æˆå¯åŸ·è¡Œç¨‹å¼ç¢¼
- ğŸ” **ä¸€è‡´æ€§æª¢æŸ¥** - åˆ†æ Spec â†” Plan â†” Tasks æ˜¯å¦å°é½Š
- ğŸ’¡ **å»ºè­°èˆ‡è£œå……** - æå‡ºæŠ€è¡“é¸é …ã€è­˜åˆ¥éºæ¼é …ç›®

**å”ä½œæ¨¡å¼**:

```text
äººå“¡:ã€Œæˆ‘è¦åšç…§ç‰‡ç›¸ç°¿åŠŸèƒ½ã€
    â†“
AI: ç”¢ç”Ÿçµæ§‹åŒ– Spec(åŒ…å« User Storiesã€Acceptance Criteria)
    â†“
äººå“¡:å¯©æŸ¥ã€è£œå……ã€æ¾„æ¸…æ¨¡ç³Šè™•
    â†“
AI: æ ¹æ“š Spec ç”¢ç”Ÿ Plan(æŠ€è¡“é¸æ“‡ã€æ¶æ§‹è¨­è¨ˆ)
    â†“
äººå“¡:ç¢ºèªæŠ€è¡“é¸æ“‡ç¬¦åˆåœ˜éšŠæ¨™æº–
    â†“
AI: æ‹†åˆ† Tasksã€ç”Ÿæˆç¨‹å¼ç¢¼
    â†“
äººå“¡:ä»£ç¢¼å¯©æŸ¥ã€æ¸¬è©¦é©—è­‰
```

---

### 1.5 ç‚ºä»€éº¼é€™å°æˆ‘å€‘åœ˜éšŠ/å…±ç”¨å¹³å°é–‹ç™¼ç‰¹åˆ¥æœ‰åƒ¹å€¼

æ ¹æ“šæ‚¨çš„èƒŒæ™¯(å¤šç³»çµ±ã€å¤šè³‡æ–™åº«ã€å¤šæ¨¡çµ„ã€å¾®å‰ç«¯+å¾Œç«¯ã€AI è¼”åŠ©é–‹ç™¼),SDD ç‰¹åˆ¥é©åˆè§£æ±ºä»¥ä¸‹æŒ‘æˆ°:

#### æŒ‘æˆ° 1:å¤šç³»çµ±ã€å¤šè³‡æ–™åº«çš„è¤‡é›œæ€§

**å•é¡Œ**:
- å…±ç”¨å¹³å°éœ€æ”¯æ´å¤šå€‹è³‡æ–™åº«(Oracleã€SQL Serverã€PostgreSQL...)
- ä¸åŒå­ç³»çµ±æœ‰å„è‡ªçš„è³‡æ–™æ¨¡å‹èˆ‡æ•´åˆé»
- é–‹ç™¼è€…é›£ä»¥æŒæ¡å…¨è²Œ,å®¹æ˜“åšå‡ºä¸ä¸€è‡´çš„è¨­è¨ˆ

**SDD è§£æ±ºæ–¹æ¡ˆ**:

```markdown
## Constitution(å®ˆå‰‡)ä¸­å®šç¾©
### è³‡æ–™å­˜å–æ¨™æº–
- æ‰€æœ‰è³‡æ–™åº«å­˜å–å¿…é ˆé€éçµ±ä¸€çš„ Repository å±¤
- å¤šè³‡æ–™åº«åˆ‡æ›é€éç­–ç•¥æ¨¡å¼
- ç¦æ­¢åœ¨æ¥­å‹™é‚è¼¯ä¸­ç›´æ¥å¯« SQL

## Plan ä¸­æ˜ç¢º
### Data Model
- å®šç¾©è·¨è³‡æ–™åº«çš„çµ±ä¸€ä»‹é¢
- æ¨™è¨»å„è³‡æ–™åº«çš„ç‰¹æ®Šè™•ç†(å¦‚ Oracle çš„åˆ†é )
```

**åƒ¹å€¼**:
- âœ… æ–°é€²é–‹ç™¼è€…é€é Spec å¿«é€Ÿç†è§£è³‡æ–™å­˜å–è¦ç¯„
- âœ… AI ç”¢ç”Ÿçš„ç¨‹å¼ç¢¼è‡ªå‹•éµå¾ªçµ±ä¸€æ¨™æº–
- âœ… æ¶æ§‹æ¼”é€²æ™‚,æ›´æ–° Constitution å³å¯å½±éŸ¿æ‰€æœ‰æ–°åŠŸèƒ½

#### æŒ‘æˆ° 2:å¾®å‰ç«¯ + å¾®æœå‹™æ¶æ§‹ç¶­è­·

**å•é¡Œ**:
- å‰ç«¯æ¨¡çµ„ç¨ç«‹é–‹ç™¼,å®¹æ˜“å‡ºç¾ UI/UX ä¸ä¸€è‡´
- å¾®æœå‹™é–“çš„ API å¥‘ç´„å®¹æ˜“åé›¢
- æ•´åˆæ¸¬è©¦æˆæœ¬é«˜

**SDD è§£æ±ºæ–¹æ¡ˆ**:

```markdown
## Constitution å®šç¾©
### UI ä¸€è‡´æ€§åŸå‰‡
- æ‰€æœ‰å¾®å‰ç«¯å¿…é ˆä½¿ç”¨å…±ç”¨è¨­è¨ˆç³»çµ±
- è·¯ç”±å‘½åè¦ç¯„:/{module}/{feature}/{action}

### API å¥‘ç´„å„ªå…ˆ
- å¾®æœå‹™é–“é€šè¨Šå¿…é ˆå…ˆå®šç¾© OpenAPI è¦æ ¼
- å¥‘ç´„è®Šæ›´éœ€ç‰ˆæœ¬åŒ–(v1ã€v2...)

## Plan ç”¢ç”Ÿ
### contracts/ ç›®éŒ„
- api-gateway.yaml (API Gateway å¥‘ç´„)
- event-schema.json (äº‹ä»¶è¨Šæ¯æ ¼å¼)
- service-dependencies.md (æœå‹™ä¾è³´åœ–)
```

**åƒ¹å€¼**:
- âœ… å¥‘ç´„å…ˆè¡Œ,å‰å¾Œç«¯ä¸¦è¡Œé–‹ç™¼ä¸é˜»å¡
- âœ… å¾®å‰ç«¯è‡ªå‹•éµå¾ªè¨­è¨ˆç³»çµ±(é€é Constitution å¼·åˆ¶)
- âœ… æ•´åˆæ¸¬è©¦åŸºæ–¼å¥‘ç´„è‡ªå‹•ç”¢ç”Ÿ

#### æŒ‘æˆ° 3:æ‰¹æ¬¡å·¥ä½œã€SFTP/FTPS ç­‰è¤‡é›œæ•´åˆ

**å•é¡Œ**:
- æ‰¹æ¬¡ä½œæ¥­é‚è¼¯æ•£è½å„è™•,é›£ä»¥ç¶­è­·
- SFTP/FTPS é€£ç·šè¨­å®šä¸ä¸€è‡´
- éŒ¯èª¤è™•ç†èˆ‡é‡è©¦æ©Ÿåˆ¶å„è‡ªå¯¦ä½œ

**SDD è§£æ±ºæ–¹æ¡ˆ**:

```markdown
## Spec æ˜ç¢ºå®šç¾©
### Batch Job: æ—¥çµ‚å°å¸³
**Trigger**: æ¯æ—¥ 23:00  
**Input**: SFTP ä¸‹è¼‰ /reconciliation/*.csv  
**Processing**: æ¯”å°äº¤æ˜“è¨˜éŒ„  
**Output**: ç”¢ç”Ÿå·®ç•°å ±å‘Šè‡³è³‡æ–™åº«  
**Error Handling**: å¤±æ•—é‡è©¦ 3 æ¬¡,é–“éš” 5 åˆ†é˜

## Plan æŠ€è¡“å¯¦ä½œ
### Batch Framework
- ä½¿ç”¨ Spring Batch
- SFTP è¨­å®šçµ±ä¸€ç®¡ç†æ–¼ application.yml
- é‡è©¦ç­–ç•¥:ExponentialBackoffRetryPolicy

### ç›£æ§
- æ¯å€‹ Job å¿…é ˆè¨˜éŒ„åŸ·è¡Œæ™‚é–“ã€æˆåŠŸ/å¤±æ•—ç‹€æ…‹
- å¤±æ•—æ™‚è§¸ç™¼å‘Šè­¦(Email + Slack)
```

**åƒ¹å€¼**:
- âœ… æ‰¹æ¬¡ä½œæ¥­è¦æ ¼åŒ–,æ–°å¢ä½œæ¥­æœ‰æ¨™æº–ç¯„æœ¬
- âœ… SFTP é€£ç·šè¨­å®šé›†ä¸­ç®¡ç†
- âœ… éŒ¯èª¤è™•ç†çµ±ä¸€,å¯é æ€§æå‡

#### æŒ‘æˆ° 4:åœ˜éšŠå”ä½œèˆ‡çŸ¥è­˜å‚³æ‰¿

**å•é¡Œ**:
- æ–°é€²æˆå“¡éœ€è¦æ•¸é€±æ‰èƒ½ä¸Šæ‰‹
- è³‡æ·±æˆå“¡é›¢è·,çŸ¥è­˜æµå¤±
- ä¸åŒé–‹ç™¼è€…é¢¨æ ¼å·®ç•°å¤§

**SDD è§£æ±ºæ–¹æ¡ˆ**:

**é€é Constitution å»ºç«‹åœ˜éšŠå…±åŒèªè¨€**:

```markdown
## å°ˆæ¡ˆå®ˆå‰‡(constitution.md)

### Article: ç¨‹å¼ç¢¼å“è³ªæ¨™æº–
- æ¯å€‹ public method å¿…é ˆæœ‰ Javadoc
- è¤‡é›œåº¦(Cyclomatic Complexity)ä¸å¾—è¶…é 10
- æ¸¬è©¦è¦†è“‹ç‡æœ€ä½ 80%

### Article: æŠ€è¡“æ£§ç´„æŸ
- å¾Œç«¯:Spring Boot 3.x + Java 17
- å‰ç«¯:Vue 3 + TypeScript
- è³‡æ–™åº«:å„ªå…ˆä½¿ç”¨ JPA,è¤‡é›œæŸ¥è©¢ç”¨ MyBatis
```

**é€é Spec/Plan è¨˜éŒ„æ±ºç­–è„ˆçµ¡**:

```markdown
## Plan: ç‚ºä½•é¸æ“‡ Redis ä½œç‚º Session Store

### æ±ºç­–ç†ç”±
1. éœ€æ”¯æ´åˆ†æ•£å¼éƒ¨ç½²(å¤šå€‹æ‡‰ç”¨ä¼ºæœå™¨)
2. Session è³‡æ–™é‡å°(< 1KB),é©åˆè¨˜æ†¶é«”å­˜å„²
3. åœ˜éšŠå·²æœ‰ Redis ç¶­é‹ç¶“é©—

### æ›¿ä»£æ–¹æ¡ˆ
- âŒ Database: æ•ˆèƒ½ä¸è¶³(æ¯å€‹è«‹æ±‚éƒ½æŸ¥ DB)
- âŒ Sticky Session: ä¸åˆ©æ–¼æ“´å±•èˆ‡å®¹éŒ¯
```

**åƒ¹å€¼**:
- âœ… æ–°é€²æˆå“¡è®€ Constitution å³äº†è§£åœ˜éšŠæ¨™æº–
- âœ… è®€ Spec/Plan å°±èƒ½ç†è§£ã€Œç‚ºä»€éº¼é€™æ¨£è¨­è¨ˆã€
- âœ… AI åŠ©æ‰‹åŸºæ–¼ç›¸åŒå®ˆå‰‡,ç”¢å‡ºé¢¨æ ¼ä¸€è‡´

#### æŒ‘æˆ° 5:AI è¼”åŠ©é–‹ç™¼çš„å¯ä¿¡åº¦æå‡

**å•é¡Œ**:
- AI ç”¢ç”Ÿçš„ç¨‹å¼ç¢¼å“è³ªä¸ç©©å®š
- é›£ä»¥ç¢ºä¿ AI éµå¾ªå…¬å¸å®‰å…¨æ”¿ç­–
- å¯©æŸ¥ AI ç¨‹å¼ç¢¼è€—æ™‚

**SDD è§£æ±ºæ–¹æ¡ˆ**:

**1. é€é Constitution ç´„æŸ AI è¡Œç‚º**:

```markdown
## Article: å®‰å…¨é–‹ç™¼ç”Ÿå‘½é€±æœŸ(SSDLC)

### å¼·åˆ¶è¦æ±‚
- æ‰€æœ‰ç”¨æˆ¶è¼¸å…¥å¿…é ˆé©—è­‰èˆ‡æ¶ˆæ¯’(é˜² SQL Injectionã€XSS)
- æ•æ„Ÿè³‡æ–™(å¯†ç¢¼ã€èº«ä»½è­‰è™Ÿ)å¿…é ˆåŠ å¯†
- API å¿…é ˆæœ‰èº«ä»½é©—è­‰èˆ‡æˆæ¬Šæª¢æŸ¥

### AI ç”¢å‡ºæª¢æŸ¥é»
- [ ] æ˜¯å¦æœ‰ç”¨æˆ¶è¼¸å…¥é©—è­‰?
- [ ] æ˜¯å¦æœ‰ SQL Injection é˜²è­·?
- [ ] æ•æ„Ÿè³‡æ–™æ˜¯å¦åŠ å¯†?
```

**2. é€é Checklist ç³»çµ±åŒ–å¯©æŸ¥**:

```bash
/speckit.checklist
```

ç”¢ç”Ÿ:

```markdown
## Security Checklist
- [ ] æ‰€æœ‰ API endpoint æœ‰æˆæ¬Šæª¢æŸ¥
- [ ] å¯†ç¢¼ä½¿ç”¨ bcrypt åŠ å¯†(æˆæœ¬å› å­ â‰¥ 12)
- [ ] ç„¡ç¡¬ç·¨ç¢¼çš„æ†‘è­‰
- [ ] HTTPS å¼·åˆ¶å•Ÿç”¨

## Performance Checklist  
- [ ] è³‡æ–™åº«æŸ¥è©¢æœ‰ç´¢å¼•
- [ ] å¤§å‹åˆ—è¡¨æœ‰åˆ†é (max 100 ç­†)
- [ ] å¿«å–ç­–ç•¥å·²å®šç¾©
```

**åƒ¹å€¼**:
- âœ… AI ç”¢å‡ºè‡ªå‹•éµå¾ªå®‰å…¨æ¨™æº–
- âœ… å¯©æŸ¥æ™‚æŒ‰ Checklist é€é …é©—è­‰,æ•ˆç‡æå‡
- âœ… å¯è¿½æº¯:è‹¥å‡ºç¾å®‰å…¨å•é¡Œ,æª¢è¨ Constitution æ˜¯å¦å®Œå–„

#### ç¸½çµ:SDD ç‚ºå…±ç”¨å¹³å°å¸¶ä¾†çš„åƒ¹å€¼

| ç¶­åº¦ | å‚³çµ±æ–¹å¼ | ä½¿ç”¨ SDD |
|------|---------|---------|
| **æ¶æ§‹ä¸€è‡´æ€§** | ä¾è³´ Code Review | Constitution è‡ªå‹•ç´„æŸ |
| **çŸ¥è­˜å‚³æ‰¿** | æ–‡ä»¶ + å£é ­å‚³æˆ | Spec/Plan å®Œæ•´è¨˜éŒ„è„ˆçµ¡ |
| **æ•´åˆè¤‡é›œåº¦** | æ‰‹å‹•ç¶­è­·å¥‘ç´„ | Contract-First,è‡ªå‹•é©—è­‰ |
| **AI è¼”åŠ©å“è³ª** | ä¸ç©©å®š,éœ€å¤§é‡å¯©æŸ¥ | çµæ§‹åŒ–è¼¸å…¥,å¯é æ¸¬ç”¢å‡º |
| **è®Šæ›´é€Ÿåº¦** | æ…¢(æ‰‹å‹•æ›´æ–°å¤šè™•) | å¿«(æ”¹ Spec é‡æ–°ç”¢ç”Ÿ) |
| **æ–°äººä¸Šæ‰‹** | 2-4 é€± | 1 é€±(è®€ Constitution + Specs) |

---

**ğŸ¯ ç¬¬ä¸€ç« é‡é»å›é¡§**

1. **SDD åè½‰æ¬ŠåŠ›çµæ§‹** - è¦æ ¼æ˜¯çœŸç›¸,ç¨‹å¼ç¢¼æ˜¯ç”¢ç‰©
2. **Spec-Kit æä¾›å·¥å…·çµ„** - CLIã€æ¨¡æ¿ã€AI æŒ‡ä»¤ã€å“è³ªæŠŠé—œ
3. **äº”å¤§æ ¸å¿ƒå·¥ä»¶** - Constitution â†’ Spec â†’ Plan â†’ Tasks â†’ Implementation
4. **å…­æ­¥é©Ÿæµç¨‹** - Constitution â†’ Specify â†’ Plan â†’ Tasks â†’ Analyze â†’ Implement â†’ Iterate
5. **ç‰¹åˆ¥é©åˆè¤‡é›œç³»çµ±** - å¤šè³‡æ–™åº«ã€å¾®æœå‹™ã€æ‰¹æ¬¡ä½œæ¥­ã€åœ˜éšŠå”ä½œã€AI è¼”åŠ©

**ğŸ“Œ å¯¦å‹™å»ºè­°**

- âœ… **å…ˆå»ºç«‹ Constitution** - é€™æ˜¯æ‰€æœ‰å“è³ªçš„åŸºç¤
- âœ… **Spec ä¿æŒæŠ€è¡“ç„¡é—œ** - ä¸è¦åœ¨ Spec éšæ®µæ±ºå®šæŠ€è¡“ç´°ç¯€
- âœ… **å……åˆ†åˆ©ç”¨ AI å°è©±** - ç”¨ `/speckit.clarify` æ¾„æ¸…æ¨¡ç³Šéœ€æ±‚
- âœ… **Plan è¦å¯åŸ·è¡Œ** - æŠ€è¡“é¸æ“‡å¿…é ˆå…·é«”,ä¸è¦ã€Œå¾…è©•ä¼°ã€
- âœ… **æŒçºŒè¿­ä»£** - SDD ä¸æ˜¯ç€‘å¸ƒå¼,è€Œæ˜¯è¿­ä»£æ¼”é€²

**âš ï¸ å¸¸è¦‹é™·é˜±**

- âŒ è·³é Constitution,ç›´æ¥é–‹å§‹å¯« Spec(ç¼ºä¹ç´„æŸåŸºç¤)
- âŒ Spec å¯«å¾—å¤ªæŠ€è¡“åŒ–(é‚£æ‡‰è©²åœ¨ Plan éšæ®µ)
- âŒ æ²’æœ‰ç”¨ `[NEEDS CLARIFICATION]` æ¨™è¨˜æ¨¡ç³Šè™•
- âŒ Plan å¤ªæŠ½è±¡,ç„¡æ³•ç›´æ¥ç”¢ç”Ÿ Tasks
- âŒ æŠŠ AI ç”¢å‡ºç•¶ã€ŒçœŸç†ã€,æ²’æœ‰å¯©æŸ¥

---

**ä¸‹ä¸€ç« é å‘Š**:ç¬¬äºŒç« å°‡å¸¶ä½ å®Œæˆç’°å¢ƒæº–å‚™,åŒ…æ‹¬å®‰è£ Spec-Kit CLIã€å»ºç«‹é¦–å€‹ Constitutionã€ç†è§£æ¨¡æ¿çµæ§‹ã€‚

---

## ç¬¬äºŒç« :ç’°å¢ƒæº–å‚™

### 2.1 å‰ç½®æ¢ä»¶

åœ¨é–‹å§‹ä½¿ç”¨ Spec-Kit ä¹‹å‰,è«‹ç¢ºèªæ‚¨çš„é–‹ç™¼ç’°å¢ƒç¬¦åˆä»¥ä¸‹è¦æ±‚:

#### ä½œæ¥­ç³»çµ±éœ€æ±‚

æ”¯æ´çš„ä½œæ¥­ç³»çµ±:

| ä½œæ¥­ç³»çµ± | ç‰ˆæœ¬è¦æ±‚ | Shell æ”¯æ´ |
|---------|---------|-----------|
| **Windows** | Windows 10/11 | PowerShell 5.1+ æˆ– PowerShell Core 7+ |
| **macOS** | macOS 10.15+ | bashã€zsh |
| **Linux** | Ubuntu 20.04+ã€Debianã€RHELã€CentOS | bashã€zsh |

#### å¿…è¦è»Ÿé«”æ¸…å–®

**1. Python 3.11 æˆ–æ›´é«˜ç‰ˆæœ¬**

æª¢æŸ¥ Python ç‰ˆæœ¬:

```bash
python --version
# æˆ–
python3 --version
```

å¦‚æœªå®‰è£,è«‹è‡³ [Python å®˜ç¶²](https://www.python.org/downloads/) ä¸‹è¼‰å®‰è£ã€‚

**2. Git ç‰ˆæœ¬æ§åˆ¶**

æª¢æŸ¥ Git ç‰ˆæœ¬:

```bash
git --version
```

éœ€è¦ Git 2.30+ ç‰ˆæœ¬ã€‚ä¸‹è¼‰:[Git å®˜ç¶²](https://git-scm.com/downloads)

**3. uv å¥—ä»¶ç®¡ç†å·¥å…·**

uv æ˜¯ç¾ä»£åŒ–çš„ Python å¥—ä»¶ç®¡ç†å·¥å…·,æ¯” pip å¿« 10-100 å€ã€‚

**å®‰è£ uv (Windows - PowerShell)**:

```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

**å®‰è£ uv (macOS/Linux)**:

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

é©—è­‰å®‰è£:

```bash
uv --version
```

#### AI ç·¨ç¢¼åŠ©æ‰‹éœ€æ±‚

è‡³å°‘éœ€è¦ä»¥ä¸‹å…¶ä¸­ä¸€ç¨® AI å·¥å…·:

**æ¨è–¦é¸é …**:

| AI å·¥å…· | å–å¾—æ–¹å¼ | é©åˆå ´æ™¯ |
|---------|---------|---------|
| **GitHub Copilot** | VS Code æ“´å……å¥—ä»¶ | ä¼æ¥­ç’°å¢ƒã€åœ˜éšŠå”ä½œ |
| **Claude Code** | [Anthropic CLI](https://docs.anthropic.com/claude/docs) | è¤‡é›œé‚è¼¯æ¨ç† |
| **Cursor** | [ä¸‹è¼‰ Cursor IDE](https://cursor.sh/) | AI-first é–‹ç™¼é«”é©— |
| **Windsurf** | [ä¸‹è¼‰ Windsurf](https://codeium.com/windsurf) | æ–°èˆˆå·¥å…· |

**ä¼æ¥­ç’°å¢ƒå»ºè­°**:
- è‹¥å…¬å¸å·²æœ‰ GitHub Copilot æˆæ¬Š â†’ å„ªå…ˆä½¿ç”¨
- è‹¥éœ€è¦ç¨ç«‹éƒ¨ç½² â†’ è€ƒæ…® Claude Code CLI

#### ç¶²è·¯éœ€æ±‚

éœ€è¦å­˜å–ä»¥ä¸‹æœå‹™:

- âœ… GitHub.com (ä¸‹è¼‰ Spec-Kit æ¨¡æ¿)
- âœ… AI æœå‹™ API (GitHub Copilot / Claude / Gemini ç­‰)
- âœ… Python å¥—ä»¶å€‰åº« (PyPI)

**ä¼æ¥­é˜²ç«ç‰†æ³¨æ„äº‹é …**:
- è‹¥å…¬å¸æœ‰ Proxy,éœ€è¨­å®šç’°å¢ƒè®Šæ•¸:`HTTP_PROXY`ã€`HTTPS_PROXY`
- è‹¥æœ‰ SSL æ†‘è­‰å•é¡Œ,å¯ä½¿ç”¨ `--skip-tls` åƒæ•¸(ä¸å»ºè­°)

#### å¿«é€Ÿæª¢æŸ¥è…³æœ¬

ä½¿ç”¨ä»¥ä¸‹è…³æœ¬å¿«é€Ÿæª¢æŸ¥ç’°å¢ƒ:

**Windows (PowerShell)**:

```powershell
Write-Host "=== Spec-Kit ç’°å¢ƒæª¢æŸ¥ ===" -ForegroundColor Cyan

# æª¢æŸ¥ Python
if (Get-Command python -ErrorAction SilentlyContinue) {
    $pythonVer = python --version
    Write-Host "âœ… Python: $pythonVer" -ForegroundColor Green
} else {
    Write-Host "âŒ Python æœªå®‰è£" -ForegroundColor Red
}

# æª¢æŸ¥ Git
if (Get-Command git -ErrorAction SilentlyContinue) {
    $gitVer = git --version
    Write-Host "âœ… Git: $gitVer" -ForegroundColor Green
} else {
    Write-Host "âŒ Git æœªå®‰è£" -ForegroundColor Red
}

# æª¢æŸ¥ uv
if (Get-Command uv -ErrorAction SilentlyContinue) {
    $uvVer = uv --version
    Write-Host "âœ… uv: $uvVer" -ForegroundColor Green
} else {
    Write-Host "âŒ uv æœªå®‰è£" -ForegroundColor Red
}
```

**macOS/Linux (bash)**:

```bash
#!/bin/bash
echo "=== Spec-Kit ç’°å¢ƒæª¢æŸ¥ ==="

# æª¢æŸ¥ Python
if command -v python3 &> /dev/null; then
    echo "âœ… Python: $(python3 --version)"
else
    echo "âŒ Python æœªå®‰è£"
fi

# æª¢æŸ¥ Git
if command -v git &> /dev/null; then
    echo "âœ… Git: $(git --version)"
else
    echo "âŒ Git æœªå®‰è£"
fi

# æª¢æŸ¥ uv
if command -v uv &> /dev/null; then
    echo "âœ… uv: $(uv --version)"
else
    echo "âŒ uv æœªå®‰è£"
fi
```

---

### 2.2 å®‰è£ Spec-Kit CLI

Spec-Kit CLI æä¾›å°ˆæ¡ˆåˆå§‹åŒ–èˆ‡ç’°å¢ƒæª¢æŸ¥åŠŸèƒ½ã€‚

#### å®‰è£æ–¹å¼é¸æ“‡

**æ–¹å¼ä¸€:æŒä¹…å®‰è£(æ¨è–¦)**

é©åˆ:ç¶“å¸¸ä½¿ç”¨ Spec-Kit çš„åœ˜éšŠ

```bash
uv tool install specify-cli --from git+https://github.com/github/spec-kit.git
```

**å„ªé»**:
- âœ… ä¸€æ¬¡å®‰è£,å…¨åŸŸå¯ç”¨
- âœ… `specify` æŒ‡ä»¤åŠ å…¥ PATH
- âœ… ä½¿ç”¨ `uv tool upgrade` è¼•é¬†æ›´æ–°

**æ–¹å¼äºŒ:ä¸€æ¬¡æ€§åŸ·è¡Œ**

é©åˆ:è©¦ç”¨æˆ–å¶çˆ¾ä½¿ç”¨

```bash
uvx --from git+https://github.com/github/spec-kit.git specify init my-project
```

**å„ªé»**:
- âœ… ä¸éœ€å®‰è£,ç›´æ¥åŸ·è¡Œ
- âœ… æ¯æ¬¡ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
- âœ… ä¸ä½”ç”¨ç³»çµ±ç©ºé–“

#### å®‰è£æ­¥é©Ÿ(æŒä¹…å®‰è£)

**Step 1: åŸ·è¡Œå®‰è£æŒ‡ä»¤**

```bash
uv tool install specify-cli --from git+https://github.com/github/spec-kit.git
```

é æœŸè¼¸å‡º:

```text
Installed 1 executable: specify
```

**Step 2: é©—è­‰å®‰è£**

```bash
specify --help
```

æ‡‰è©²çœ‹åˆ°:

```text
Usage: specify [OPTIONS] COMMAND [ARGS]...

Commands:
  init   Initialize a new Specify project
  check  Check for installed tools
```

**Step 3: æª¢æŸ¥ç³»çµ±å·¥å…·**

```bash
specify check
```

é€™æœƒæª¢æŸ¥:
- âœ… Git æ˜¯å¦å®‰è£
- âœ… AI å·¥å…·æ˜¯å¦å¯ç”¨(claudeã€codeã€cursor ç­‰)
- âœ… Shell ç’°å¢ƒ

#### æ›´æ–° Spec-Kit

å®šæœŸæ›´æ–°ä»¥ç²å¾—æœ€æ–°åŠŸèƒ½èˆ‡ä¿®å¾©:

```bash
uv tool install specify-cli --force --from git+https://github.com/github/spec-kit.git
```

`--force` åƒæ•¸æœƒè¦†è“‹ç¾æœ‰å®‰è£ã€‚

#### å¸è¼‰(å¦‚éœ€è¦)

```bash
uv tool uninstall specify-cli
```

---

### 2.3 å»ºç«‹å°ˆæ¡ˆèˆ‡åˆå§‹åŒ–

#### åˆå§‹åŒ–æ–°å°ˆæ¡ˆ

**åŸºæœ¬ç”¨æ³•**:

```bash
specify init my-project --ai copilot
```

**åƒæ•¸èªªæ˜**:

| åƒæ•¸ | èªªæ˜ | ç¯„ä¾‹ |
|------|-----|------|
| `<project-name>` | å°ˆæ¡ˆåç¨± | `my-project` æˆ– `.`(ç•¶å‰ç›®éŒ„) |
| `--ai <tool>` | æŒ‡å®š AI å·¥å…· | `copilot`ã€`claude`ã€`cursor`ã€`windsurf` |
| `--script <type>` | è…³æœ¬é¡å‹ | `sh`(bash/zsh)ã€`ps`(PowerShell) |
| `--here` | åœ¨ç•¶å‰ç›®éŒ„åˆå§‹åŒ– | - |
| `--force` | å¼·åˆ¶è¦†è“‹(éç©ºç›®éŒ„) | - |
| `--no-git` | è·³é Git åˆå§‹åŒ– | - |

**å¸¸è¦‹ä½¿ç”¨å ´æ™¯**:

**å ´æ™¯ 1:å…¨æ–°å°ˆæ¡ˆ(é è¨­)**

```bash
specify init photo-album-app --ai copilot
cd photo-album-app
```

**å ´æ™¯ 2:åœ¨ç¾æœ‰å°ˆæ¡ˆä¸­åŠ å…¥ Spec-Kit**

```bash
cd existing-project
specify init . --ai copilot --force
```

**å ´æ™¯ 3:ä¼æ¥­ç’°å¢ƒ(ä½¿ç”¨ PowerShell)**

```bash
specify init enterprise-app --ai copilot --script ps
```

**å ´æ™¯ 4:ç„¡ Git ç’°å¢ƒ**

```bash
specify init temp-project --ai claude --no-git
```

#### ç”¢ç”Ÿçš„ç›®éŒ„çµæ§‹

åˆå§‹åŒ–å¾Œæœƒç”Ÿæˆä»¥ä¸‹çµæ§‹:

```text
my-project/
â”œâ”€â”€ .specify/                    # Spec-Kit é…ç½®ç›®éŒ„
â”‚   â”œâ”€â”€ templates/              # æ¨¡æ¿æª”æ¡ˆ
â”‚   â”‚   â”œâ”€â”€ spec-template.md   # è¦æ ¼æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ plan-template.md   # è¨ˆç•«æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ tasks-template.md  # ä»»å‹™æ¨¡æ¿
â”‚   â””â”€â”€ scripts/                # è…³æœ¬å·¥å…·
â”‚       â”œâ”€â”€ init.sh             # bash åˆå§‹åŒ–è…³æœ¬
â”‚       â””â”€â”€ init.ps1            # PowerShell åˆå§‹åŒ–è…³æœ¬
â”œâ”€â”€ .github/                     # GitHub æ•´åˆ(å¯é¸)
â”‚   â””â”€â”€ copilot-instructions.md # Copilot æŒ‡ä»¤èªªæ˜
â”œâ”€â”€ memory/                      # å°ˆæ¡ˆè¨˜æ†¶é«”(Context)
â”‚   â””â”€â”€ constitution.md         # å°ˆæ¡ˆå®ˆå‰‡(å¾…å»ºç«‹)
â”œâ”€â”€ specs/                       # è¦æ ¼æ–‡ä»¶ç›®éŒ„
â”‚   â””â”€â”€ .gitkeep
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

**é—œéµç›®éŒ„èªªæ˜**:

- **`.specify/templates/`** - æ‰€æœ‰æ¨¡æ¿å­˜æ”¾è™•,å¯è‡ªè¨‚
- **`memory/`** - AI åŠ©æ‰‹çš„ã€Œé•·æœŸè¨˜æ†¶ã€,å­˜æ”¾ Constitution ç­‰
- **`specs/`** - æ‰€æœ‰åŠŸèƒ½è¦æ ¼ã€è¨ˆç•«ã€ä»»å‹™æ–‡ä»¶
- **`.github/`** - GitHub ç›¸é—œæ•´åˆ(å¦‚ Copilot è¨­å®š)

#### é©—è­‰åˆå§‹åŒ–

æª¢æŸ¥æ˜¯å¦æˆåŠŸåˆå§‹åŒ–:

```bash
# ç¢ºèªç›®éŒ„çµæ§‹
ls -la

# ç¢ºèª Git å€‰åº«
git status

# æŸ¥çœ‹ AI æŒ‡ä»¤èªªæ˜
cat .github/copilot-instructions.md  # (å¦‚ä½¿ç”¨ GitHub Copilot)
```

---

### 2.4 å»ºç«‹åœ˜éšŠå®ˆå‰‡ (Constitution)

Constitution æ˜¯ Spec-Kit æœ€é‡è¦çš„å·¥ä»¶,å®šç¾©å°ˆæ¡ˆçš„ã€Œä¸å¯é•åã€åŸå‰‡ã€‚

#### ç‚ºä»€éº¼éœ€è¦ Constitution?

**æ²’æœ‰ Constitution çš„å•é¡Œ**:
- âŒ AI åŠ©æ‰‹è‡ªç”±ç™¼æ®,ç”¢å‡ºä¸ä¸€è‡´
- âŒ é–‹ç™¼è€…å„è‡ªè§£è®€éœ€æ±‚,é¢¨æ ¼æ··äº‚
- âŒ æ¶æ§‹æ±ºç­–æ²’æœ‰è¨˜éŒ„,é‡è¤‡çŠ¯éŒ¯
- âŒ æ–°äººä¸çŸ¥é“åœ˜éšŠæ¨™æº–

**æœ‰ Constitution çš„å¥½è™•**:
- âœ… AI ç”¢å‡ºè‡ªå‹•éµå¾ªåœ˜éšŠæ¨™æº–
- âœ… æ‰€æœ‰æ±ºç­–å¯è¿½æº¯ã€æœ‰ä¾æ“š
- âœ… æ–°äººè®€ Constitution å³äº†è§£è¦ç¯„
- âœ… æ¶æ§‹ä¸€è‡´æ€§è‡ªå‹•ç¶­è­·

#### ä½¿ç”¨ AI åŠ©æ‰‹å»ºç«‹ Constitution

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„,å•Ÿå‹• AI åŠ©æ‰‹(å¦‚ VS Code ä¸­çš„ GitHub Copilot Chat),åŸ·è¡Œ:

```text
/speckit.constitution Create principles focused on code quality, testing standards, user experience consistency, and performance requirements
```

**æˆ–ç”¨ä¸­æ–‡æè¿°**:

```text
/speckit.constitution å»ºç«‹å°ˆæ¡ˆå®ˆå‰‡,é‡é»åŒ…å«:
- ç¨‹å¼ç¢¼å“è³ªæ¨™æº–(æ¸¬è©¦è¦†è“‹ç‡ã€è¤‡é›œåº¦é™åˆ¶)
- æŠ€è¡“æ£§ç´„æŸ(å¾Œç«¯ Spring Bootã€å‰ç«¯ Vue 3)
- å®‰å…¨è¦æ±‚(èº«ä»½é©—è­‰ã€è³‡æ–™åŠ å¯†)
- æ•ˆèƒ½æŒ‡æ¨™(API å›æ‡‰æ™‚é–“ < 200ms)
```

AI æœƒç”¢ç”Ÿ `memory/constitution.md` æª”æ¡ˆã€‚

#### Constitution ç¯„æœ¬çµæ§‹

ä¸€å€‹å®Œæ•´çš„ Constitution æ‡‰åŒ…å«ä»¥ä¸‹ç« ç¯€:

```markdown
# Project Constitution

## Preamble (å‰è¨€)
æœ¬å®ˆå‰‡å®šç¾©å°ˆæ¡ˆçš„æ ¸å¿ƒåŸå‰‡èˆ‡é–‹ç™¼ç´„æŸ,æ‰€æœ‰é–‹ç™¼æ´»å‹•å¿…é ˆéµå¾ªã€‚

---

## Article I: Architecture Principles (æ¶æ§‹åŸå‰‡)

### Section 1.1: Modularity (æ¨¡çµ„åŒ–)
- æ¯å€‹åŠŸèƒ½å¿…é ˆå¯¦ä½œç‚ºç¨ç«‹æ¨¡çµ„
- æ¨¡çµ„é–“é€éæ˜ç¢ºä»‹é¢æºé€š
- ç¦æ­¢å¾ªç’°ä¾è³´

### Section 1.2: Technology Stack (æŠ€è¡“æ£§)
- **Backend**: Spring Boot 3.x + Java 17
- **Frontend**: Vue 3 + TypeScript + Vite
- **Database**: PostgreSQL 14+ (ä¸»è¦)ã€Redis(å¿«å–)
- **Message Queue**: RabbitMQ

---

## Article II: Code Quality Standards (ç¨‹å¼ç¢¼å“è³ª)

### Section 2.1: Testing Requirements (æ¸¬è©¦è¦æ±‚)
- å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡æœ€ä½ 80%
- æ‰€æœ‰ public API å¿…é ˆæœ‰æ•´åˆæ¸¬è©¦
- é—œéµæ¥­å‹™é‚è¼¯å¿…é ˆæœ‰ E2E æ¸¬è©¦

### Section 2.2: Code Complexity (è¤‡é›œåº¦é™åˆ¶)
- å–®ä¸€æ–¹æ³• Cyclomatic Complexity â‰¤ 10
- å–®ä¸€é¡åˆ¥è¡Œæ•¸ â‰¤ 300 è¡Œ
- æ–¹æ³•åƒæ•¸å€‹æ•¸ â‰¤ 5 å€‹

### Section 2.3: Documentation (æ–‡ä»¶è¦æ±‚)
- æ‰€æœ‰ public method å¿…é ˆæœ‰ Javadoc/JSDoc
- è¤‡é›œæ¼”ç®—æ³•å¿…é ˆæœ‰è¨»è§£èªªæ˜
- README å¿…é ˆåŒ…å«:å®‰è£ã€é…ç½®ã€ä½¿ç”¨ç¯„ä¾‹

---

## Article III: Security Requirements (å®‰å…¨è¦æ±‚)

### Section 3.1: Authentication & Authorization (èº«ä»½é©—è­‰)
- æ‰€æœ‰ API å¿…é ˆæœ‰èº«ä»½é©—è­‰(é™¤å…¬é–‹ç«¯é»)
- ä½¿ç”¨ JWT token,æœ‰æ•ˆæœŸ 1 å°æ™‚
- æ•æ„Ÿæ“ä½œéœ€äºŒæ¬¡é©—è­‰

### Section 3.2: Data Protection (è³‡æ–™ä¿è­·)
- å¯†ç¢¼ä½¿ç”¨ bcrypt åŠ å¯†(cost factor â‰¥ 12)
- æ•æ„Ÿè³‡æ–™(èº«ä»½è­‰è™Ÿã€ä¿¡ç”¨å¡)å‚³è¼¸å¿…é ˆåŠ å¯†
- è³‡æ–™åº«é€£ç·šå­—ä¸²ä¸å¾—ç¡¬ç·¨ç¢¼

### Section 3.3: Input Validation (è¼¸å…¥é©—è­‰)
- æ‰€æœ‰ç”¨æˆ¶è¼¸å…¥å¿…é ˆé©—è­‰
- ä½¿ç”¨ç™½åå–®(å…è¨±æ¸…å–®)è€Œéé»‘åå–®
- é˜²æ­¢ SQL Injectionã€XSSã€CSRF

---

## Article IV: Performance Standards (æ•ˆèƒ½æ¨™æº–)

### Section 4.1: Response Time (å›æ‡‰æ™‚é–“)
- API å›æ‡‰æ™‚é–“ P95 < 200ms
- é é¢é¦–æ¬¡è¼‰å…¥ < 2 ç§’
- è³‡æ–™åº«æŸ¥è©¢ < 100ms

### Section 4.2: Scalability (å¯æ“´å±•æ€§)
- ç³»çµ±å¿…é ˆæ”¯æ´æ°´å¹³æ“´å±•
- ç„¡ç‹€æ…‹è¨­è¨ˆ(Session å­˜ Redis)
- è³‡æ–™åº«è®€å¯«åˆ†é›¢

---

## Article V: Development Workflow (é–‹ç™¼æµç¨‹)

### Section 5.1: Test-Driven Development (TDD)
- éå”å•†æ¢æ¬¾:å¯¦ä½œå‰å¿…é ˆå…ˆå¯«æ¸¬è©¦
- æ¸¬è©¦å¿…é ˆå…ˆå¤±æ•—(Red Phase)
- å¯¦ä½œä½¿æ¸¬è©¦é€šé(Green Phase)
- é‡æ§‹å„ªåŒ–(Refactor Phase)

### Section 5.2: Code Review (ä»£ç¢¼å¯©æŸ¥)
- æ‰€æœ‰ç¨‹å¼ç¢¼å¿…é ˆç¶“éè‡³å°‘ä¸€äºº Review
- Review æª¢æŸ¥:åŠŸèƒ½æ­£ç¢ºæ€§ã€æ¸¬è©¦å®Œæ•´æ€§ã€å®‰å…¨æ€§
- ä½¿ç”¨ Pull Request å·¥ä½œæµç¨‹

### Section 5.3: Version Control (ç‰ˆæœ¬æ§åˆ¶)
- ä½¿ç”¨ Git Flow åˆ†æ”¯ç­–ç•¥
- Commit message éµå¾ª Conventional Commits
- ç¦æ­¢ç›´æ¥ push åˆ° main/master

---

## Article VI: Database Standards (è³‡æ–™åº«æ¨™æº–)

### Section 6.1: Schema Design (Schema è¨­è¨ˆ)
- æ‰€æœ‰è³‡æ–™è¡¨å¿…é ˆæœ‰ä¸»éµ(Primary Key)
- å¤–éµé—œä¿‚å¿…é ˆæ˜ç¢ºå®šç¾©
- æ•æ„Ÿè³‡æ–™æ¬„ä½å¿…é ˆåŠ å¯†

### Section 6.2: Query Optimization (æŸ¥è©¢å„ªåŒ–)
- æ‰€æœ‰æŸ¥è©¢æ¬„ä½å¿…é ˆæœ‰é©ç•¶ç´¢å¼•
- é¿å… N+1 æŸ¥è©¢å•é¡Œ
- å¤§é‡è³‡æ–™å¿…é ˆåˆ†é (max 100 ç­†)

---

## Article VII: Error Handling (éŒ¯èª¤è™•ç†)

### Section 7.1: Exception Management (ä¾‹å¤–ç®¡ç†)
- ä½¿ç”¨çµ±ä¸€çš„ä¾‹å¤–è™•ç†æ©Ÿåˆ¶
- éŒ¯èª¤è¨Šæ¯ä¸å¾—æš´éœ²ç³»çµ±è³‡è¨Š
- é—œéµéŒ¯èª¤å¿…é ˆè¨˜éŒ„æ—¥èªŒ

### Section 7.2: Logging Standards (æ—¥èªŒæ¨™æº–)
- ä½¿ç”¨çµæ§‹åŒ–æ—¥èªŒ(JSON æ ¼å¼)
- æ—¥èªŒç­‰ç´š:ERRORã€WARNã€INFOã€DEBUG
- ç”Ÿç”¢ç’°å¢ƒé è¨­ INFO ç­‰ç´š

---

## Article VIII: API Design (API è¨­è¨ˆ)

### Section 8.1: RESTful Standards (RESTful æ¨™æº–)
- ä½¿ç”¨æ¨™æº– HTTP æ–¹æ³•(GETã€POSTã€PUTã€DELETE)
- URL ä½¿ç”¨åè©è¤‡æ•¸(å¦‚ /usersã€/orders)
- ç‹€æ…‹ç¢¼æ­£ç¢ºä½¿ç”¨(200ã€201ã€400ã€404ã€500)

### Section 8.2: Versioning (ç‰ˆæœ¬æ§åˆ¶)
- API å¿…é ˆç‰ˆæœ¬åŒ–(å¦‚ /api/v1/users)
- å‘ä¸‹ç›¸å®¹è‡³å°‘ä¿ç•™å…©å€‹ç‰ˆæœ¬
- å»¢æ£„ API æå‰ 3 å€‹æœˆé€šçŸ¥

---

## Article IX: Deployment & Operations (éƒ¨ç½²èˆ‡ç¶­é‹)

### Section 9.1: Continuous Integration (æŒçºŒæ•´åˆ)
- æ¯æ¬¡ push è‡ªå‹•åŸ·è¡Œæ¸¬è©¦
- æ¸¬è©¦å¤±æ•—ç¦æ­¢åˆä½µ
- è‡ªå‹•åŒ–ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥(SonarQube)

### Section 9.2: Monitoring (ç›£æ§)
- æ‰€æœ‰æœå‹™å¿…é ˆæœ‰å¥åº·æª¢æŸ¥ç«¯é»(/health)
- é—œéµæŒ‡æ¨™å¿…é ˆç›£æ§(CPUã€è¨˜æ†¶é«”ã€å›æ‡‰æ™‚é–“)
- ç•°å¸¸å‘Šè­¦é€é Email + Slack

---

## Amendment Process (ä¿®è¨‚æµç¨‹)

æœ¬å®ˆå‰‡çš„ä¿®æ”¹éœ€ç¶“é:
1. æå‡ºä¿®æ”¹ææ¡ˆ(Pull Request)
2. åœ˜éšŠè¨è«–èˆ‡è©•å¯©
3. è‡³å°‘ 2/3 æˆå“¡åŒæ„
4. è¨˜éŒ„ä¿®æ”¹ç†ç”±èˆ‡æ—¥æœŸ
```

#### é‡å°å…±ç”¨å¹³å°çš„ Constitution ç¯„ä¾‹

æ ¹æ“šæ‚¨çš„èƒŒæ™¯(å¤šè³‡æ–™åº«ã€å¾®æœå‹™ã€æ‰¹æ¬¡ä½œæ¥­),å¯åŠ å…¥:

```markdown
## Article X: Multi-Database Support (å¤šè³‡æ–™åº«æ”¯æ´)

### Section 10.1: Database Abstraction (è³‡æ–™åº«æŠ½è±¡)
- æ‰€æœ‰è³‡æ–™å­˜å–é€é Repository ä»‹é¢
- ä½¿ç”¨ç­–ç•¥æ¨¡å¼æ”¯æ´å¤šç¨®è³‡æ–™åº«(Oracleã€PostgreSQLã€SQL Server)
- ç¦æ­¢åœ¨æ¥­å‹™é‚è¼¯ä¸­ç›´æ¥å¯« SQL

### Section 10.2: Connection Management (é€£ç·šç®¡ç†)
- ä½¿ç”¨é€£ç·šæ± (HikariCP)
- é€£ç·šé€¾æ™‚è¨­å®š:30 ç§’
- æœ€å¤§é€£ç·šæ•¸:ä¾è³‡æ–™åº«èª¿æ•´(Oracle=20ã€PostgreSQL=50)

---

## Article XI: Batch Job Standards (æ‰¹æ¬¡ä½œæ¥­æ¨™æº–)

### Section 11.1: Job Design (ä½œæ¥­è¨­è¨ˆ)
- ä½¿ç”¨ Spring Batch æ¡†æ¶
- æ‰€æœ‰ Job å¿…é ˆå¯é‡æ–°åŸ·è¡Œ(Idempotent)
- å¤±æ•—å¿…é ˆè¨˜éŒ„è©³ç´°éŒ¯èª¤è³‡è¨Š

### Section 11.2: Scheduling (æ’ç¨‹)
- ä½¿ç”¨ Quartz æˆ– Spring Scheduler
- æ’ç¨‹æ™‚é–“é¿é–‹é«˜å³°æ™‚æ®µ(12:00-13:00ã€18:00-19:00)
- Job åŸ·è¡Œç‹€æ…‹å¿…é ˆå¯æŸ¥è©¢

### Section 11.3: SFTP/FTPS Integration (æª”æ¡ˆå‚³è¼¸)
- é€£ç·šè³‡è¨Šçµ±ä¸€ç®¡ç†æ–¼ application.yml
- å¤±æ•—é‡è©¦ 3 æ¬¡,é–“éš” 5 åˆ†é˜
- å‚³è¼¸æª”æ¡ˆå¿…é ˆé©—è­‰å®Œæ•´æ€§(Checksum)

---

## Article XII: Microservices Standards (å¾®æœå‹™æ¨™æº–)

### Section 12.1: Service Communication (æœå‹™é€šè¨Š)
- åŒæ­¥é€šè¨Šä½¿ç”¨ REST API
- éåŒæ­¥é€šè¨Šä½¿ç”¨ Message Queue(RabbitMQ)
- æœå‹™é–“å‘¼å«å¿…é ˆæœ‰é€¾æ™‚è¨­å®š(5 ç§’)

### Section 12.2: Contract-First (å¥‘ç´„å„ªå…ˆ)
- æœå‹™ä»‹é¢å…ˆå®šç¾© OpenAPI è¦æ ¼
- å¥‘ç´„è®Šæ›´å¿…é ˆç‰ˆæœ¬åŒ–
- ä½¿ç”¨ Pact é€²è¡Œå¥‘ç´„æ¸¬è©¦

### Section 12.3: Resilience (éŸŒæ€§)
- å¯¦ä½œ Circuit Breaker(Resilience4j)
- é—œéµæœå‹™é™ç´šæ–¹æ¡ˆ
- åˆ†æ•£å¼è¿½è¹¤(Zipkin/Jaeger)
```

#### å¯¦å‹™å»ºè­°

**1. å…ˆå¾ç°¡å–®é–‹å§‹**
- åˆæœŸä¸è¦å¯«å¤ªè¤‡é›œ,å…ˆæ¶µè“‹ 5-7 å€‹æ ¸å¿ƒåŸå‰‡
- éš¨åœ˜éšŠæˆç†Ÿåº¦é€æ­¥è£œå……

**2. å®šæœŸå¯©è¦–æ›´æ–°**
- æ¯å­£åº¦æª¢è¦–ä¸€æ¬¡ Constitution
- è¨˜éŒ„ä¿®æ”¹æ­·å²èˆ‡åŸå› 

**3. è®“åœ˜éšŠåƒèˆ‡åˆ¶å®š**
- Constitution ä¸æ‡‰ç”±ä¸€äººæ±ºå®š
- é€éå·¥ä½œåŠæˆ–æœƒè­°å…±åŒåˆ¶å®š

**4. é€£çµåˆ°å·¥å…·**
- çµåˆ SonarQubeã€ESLint ç­‰å·¥å…·è‡ªå‹•æª¢æŸ¥
- Constitution é•åæ‡‰åœ¨ CI/CD ä¸­è¢«æ””æˆª

---

### 2.5 æ¨¡æ¿èˆ‡æç¤ºæ–‡ä»¶èªªæ˜

Spec-Kit çš„æ¨¡æ¿æ˜¯ AI åŠ©æ‰‹ç”¢ç”Ÿé«˜å“è³ªæ–‡ä»¶çš„é—œéµã€‚

#### æ¨¡æ¿ç›®éŒ„çµæ§‹

```text
.specify/templates/
â”œâ”€â”€ spec-template.md          # åŠŸèƒ½è¦æ ¼æ¨¡æ¿
â”œâ”€â”€ plan-template.md          # å¯¦ä½œè¨ˆç•«æ¨¡æ¿
â”œâ”€â”€ tasks-template.md         # ä»»å‹™æ¸…å–®æ¨¡æ¿
â”œâ”€â”€ data-model-template.md    # è³‡æ–™æ¨¡å‹æ¨¡æ¿
â”œâ”€â”€ api-contract-template.md  # API å¥‘ç´„æ¨¡æ¿
â””â”€â”€ quickstart-template.md    # å¿«é€Ÿé–‹å§‹æ¨¡æ¿
```

#### æ ¸å¿ƒæ¨¡æ¿è©³è§£

**1. spec-template.md (è¦æ ¼æ¨¡æ¿)**

**ç”¨é€”**:å®šç¾©ã€Œåšä»€éº¼ã€å’Œã€Œç‚ºä»€éº¼ã€

**é—œéµç« ç¯€**:

```markdown
# Feature Specification: [Feature Name]

## Overview
ç°¡çŸ­æ‘˜è¦(2-3 å¥è©±)

## User Stories
- As a [role], I want [feature], so that [value]

## Acceptance Criteria
- [ ] å¯æ¸¬è©¦çš„é©—æ”¶æ¨™æº–

## Success Metrics
å¦‚ä½•è¡¡é‡æˆåŠŸ

## Out of Scope
æ˜ç¢ºä¸åšçš„é …ç›®

## [NEEDS CLARIFICATION]
æ¨™è¨˜æ¨¡ç³Šè™•
```

**æ¨¡æ¿ç´„æŸ AI è¡Œç‚ºçš„æ–¹å¼**:

- âœ… å¼·åˆ¶æ¨™è¨˜æ¨¡ç³Šè™•(`[NEEDS CLARIFICATION]`)
- âŒ ç¦æ­¢æè¿°æŠ€è¡“å¯¦ä½œ(é‚£æ˜¯ Plan çš„è·è²¬)
- âœ… å¿…é ˆæœ‰å¯æ¸¬è©¦çš„é©—æ”¶æ¨™æº–
- âœ… å¿…é ˆæ˜ç¢ºæ’é™¤é …ç›®(Out of Scope)

**2. plan-template.md (è¨ˆç•«æ¨¡æ¿)**

**ç”¨é€”**:å®šç¾©ã€Œæ€éº¼åšã€

**é—œéµç« ç¯€**:

```markdown
# Implementation Plan: [Feature Name]

## Phase -1: Pre-Implementation Gates
### Simplicity Gate
- [ ] ä½¿ç”¨ â‰¤ 3 å€‹å°ˆæ¡ˆ?
- [ ] ç„¡éåº¦è¨­è¨ˆ?

### Anti-Abstraction Gate
- [ ] ç›´æ¥ä½¿ç”¨æ¡†æ¶ç‰¹æ€§?
- [ ] å–®ä¸€æ¨¡å‹è¡¨ç¤º?

## Technology Stack
èªè¨€ã€æ¡†æ¶ã€å‡½å¼åº«é¸æ“‡

## Architecture Overview
ç³»çµ±çµæ§‹ã€æ¨¡çµ„åŠƒåˆ†

## Data Model
è³‡æ–™åº« Schema

## API Contracts
ä»‹é¢å®šç¾©

## Non-Functional Requirements
æ•ˆèƒ½ã€å®‰å…¨ã€å¯æ“´å±•æ€§

## Phase 0-N: Implementation Phases
åˆ†éšæ®µå¯¦ä½œè¨ˆç•«
```

**æ¨¡æ¿çš„å“è³ªæŠŠé—œæ©Ÿåˆ¶**:

**Pre-Implementation Gates(å¯¦ä½œå‰æª¢æŸ¥é»)**:

- **Simplicity Gate** - é˜²æ­¢éåº¦è¤‡é›œåŒ–
- **Anti-Abstraction Gate** - é¿å…éæ—©æŠ½è±¡
- **Integration-First Gate** - ç¢ºä¿å¥‘ç´„å…ˆå®šç¾©

**3. tasks-template.md (ä»»å‹™æ¨¡æ¿)**

**ç”¨é€”**:å°‡ Plan æ‹†æˆå¯åŸ·è¡Œå–®å…ƒ

**é—œéµçµæ§‹**:

```markdown
# Tasks: [Feature Name]

## Task 1: [P] Task Name
**Depends on**: Task ID or None  
**Parallel Safe**: Yes/No  
**Estimated**: X hours

**Description**:
å…·é«”æè¿°

**Acceptance Criteria**:
- [ ] å®Œæˆæ¨™æº–

**Implementation Notes**:
å¯¦ä½œæ³¨æ„äº‹é …
```

**ä¸¦è¡Œæ¨™è¨˜ `[P]`**:

- `[P]` = å¯èˆ‡å…¶ä»– `[P]` ä»»å‹™ä¸¦è¡ŒåŸ·è¡Œ
- å¹«åŠ©åœ˜éšŠè­˜åˆ¥å¯å¹³è¡Œé–‹ç™¼çš„å·¥ä½œ

#### è‡ªè¨‚æ¨¡æ¿

**ç‚ºä½•éœ€è¦è‡ªè¨‚?**

- ä¸åŒå°ˆæ¡ˆé¡å‹æœ‰ä¸åŒéœ€æ±‚(Web App vs æ‰¹æ¬¡ç³»çµ± vs API æœå‹™)
- åœ˜éšŠæœ‰ç‰¹æ®Šæµç¨‹æˆ–å·¥å…·
- éœ€è¦æ•´åˆå…¬å¸æ—¢æœ‰æ–‡ä»¶æ ¼å¼

**å¦‚ä½•è‡ªè¨‚æ¨¡æ¿?**

**Step 1: è¤‡è£½åŸå§‹æ¨¡æ¿**

```bash
cd .specify/templates
cp spec-template.md spec-template-custom.md
```

**Step 2: ä¿®æ”¹æ¨¡æ¿å…§å®¹**

é‡å°å…±ç”¨å¹³å°åŠ å…¥ç‰¹å®šç« ç¯€:

```markdown
# Feature Specification: [Feature Name]

<!-- åŸæœ‰ç« ç¯€ ... -->

## Integration Points (æ•´åˆé»)
### Upstream Systems
åˆ—å‡ºæ­¤åŠŸèƒ½ä¾è³´çš„ä¸Šæ¸¸ç³»çµ±

### Downstream Systems
åˆ—å‡ºæœƒä½¿ç”¨æ­¤åŠŸèƒ½çš„ä¸‹æ¸¸ç³»çµ±

## Database Impact (è³‡æ–™åº«å½±éŸ¿)
### Tables to Create
æ–°å¢çš„è³‡æ–™è¡¨

### Tables to Modify
éœ€ä¿®æ”¹çš„ç¾æœ‰è³‡æ–™è¡¨

### Migration Plan
è³‡æ–™é·ç§»è¨ˆç•«

## Batch Job Configuration (æ‰¹æ¬¡ä½œæ¥­é…ç½®)
### Schedule
åŸ·è¡Œæ™‚é–“èˆ‡é »ç‡

### Dependencies
ä¾è³´çš„å…¶ä»– Job

### Retry Policy
å¤±æ•—é‡è©¦ç­–ç•¥

## SFTP/FTPS Requirements (æª”æ¡ˆå‚³è¼¸éœ€æ±‚)
### File Format
æª”æ¡ˆæ ¼å¼è¦ç¯„

### Transfer Schedule
å‚³è¼¸æ™‚é–“

### Error Handling
éŒ¯èª¤è™•ç†æ–¹å¼
```

**Step 3: æ›´æ–° AI æŒ‡ä»¤**

åœ¨ `.github/copilot-instructions.md` ä¸­å‘ŠçŸ¥ AI ä½¿ç”¨è‡ªè¨‚æ¨¡æ¿:

```markdown
## Custom Templates

When using /speckit.specify, use the custom template:
- Template file: .specify/templates/spec-template-custom.md
- Include sections: Integration Points, Database Impact, Batch Job Configuration
```

#### æ¨¡æ¿çš„ç‰ˆæœ¬æ§åˆ¶

**å»ºè­°åšæ³•**:

1. **å°‡æ¨¡æ¿ç´å…¥ Git ç‰ˆæœ¬æ§åˆ¶**

```bash
git add .specify/templates/
git commit -m "Add custom spec template for batch jobs"
```

2. **å»ºç«‹æ¨¡æ¿è®Šæ›´æ—¥èªŒ**

åœ¨ `.specify/templates/CHANGELOG.md` è¨˜éŒ„:

```markdown
# Template Changelog

## 2025-10-29
- Added "Integration Points" section to spec-template.md
- Added "Batch Job Configuration" section for batch system features

## 2025-10-15
- Initial templates from Spec-Kit v0.0.79
```

3. **åœ˜éšŠå…±äº«æ¨¡æ¿**

- å°‡è‡ªè¨‚æ¨¡æ¿æ¨é€åˆ°å…±ç”¨å€‰åº«
- æ–°å°ˆæ¡ˆå¾æ¨¡æ¿å€‰åº«è¤‡è£½

---

### 2.6 GitHub å€‰åº«åˆ†æ”¯èˆ‡ç‰ˆæœ¬æ§åˆ¶å»ºè­°

SDD èˆ‡ Git å·¥ä½œæµç¨‹æ·±åº¦æ•´åˆ,åˆç†çš„åˆ†æ”¯ç­–ç•¥èƒ½æå‡æ•ˆç‡ã€‚

#### æ¨è–¦çš„åˆ†æ”¯ç­–ç•¥

**åŸºæ–¼ Git Flow çš„ SDD æ”¹è‰¯ç‰ˆ**:

```mermaid
%%{init: {'theme':'dark', 'gitGraph': {'showCommitLabel':true}}}%%
gitGraph
    commit id: "Initial"
    branch develop
    checkout develop
    commit id: "Constitution"
    
    branch feature/001-user-login
    checkout feature/001-user-login
    commit id: "Spec"
    commit id: "Plan"
    commit id: "Tasks"
    commit id: "Implementation"
    
    checkout develop
    merge feature/001-user-login
    
    branch feature/002-photo-album
    checkout feature/002-photo-album
    commit id: "Spec2"
    commit id: "Plan2"
    
    checkout develop
    merge feature/002-photo-album
    
    checkout main
    merge develop tag: "v1.0.0"
```

**åˆ†æ”¯é¡å‹**:

| åˆ†æ”¯é¡å‹ | å‘½åè¦ç¯„ | ç”Ÿå‘½é€±æœŸ | ç”¨é€” |
|---------|---------|---------|------|
| `main` | main | æ°¸ä¹… | ç”Ÿç”¢ç’°å¢ƒç¨‹å¼ç¢¼ |
| `develop` | develop | æ°¸ä¹… | é–‹ç™¼æ•´åˆåˆ†æ”¯ |
| `feature/*` | feature/NNN-feature-name | è‡¨æ™‚ | å–®ä¸€åŠŸèƒ½é–‹ç™¼ |
| `hotfix/*` | hotfix/issue-description | è‡¨æ™‚ | ç·Šæ€¥ä¿®å¾© |
| `release/*` | release/v1.2.0 | è‡¨æ™‚ | ç™¼å¸ƒæº–å‚™ |

#### Spec-Kit è‡ªå‹•åˆ†æ”¯ç®¡ç†

ç•¶ä½¿ç”¨ `/speckit.specify` æ™‚,Spec-Kit æœƒè‡ªå‹•:

1. **æƒæç¾æœ‰è¦æ ¼** - ç¢ºå®šä¸‹ä¸€å€‹åŠŸèƒ½ç·¨è™Ÿ(å¦‚ 001ã€002ã€003)
2. **ç”Ÿæˆåˆ†æ”¯åç¨±** - å¾æè¿°ç”¢ç”Ÿèªç¾©åŒ–åç¨±
3. **å»ºç«‹åˆ†æ”¯** - è‡ªå‹• checkout åˆ°æ–°åˆ†æ”¯
4. **å»ºç«‹ç›®éŒ„** - åœ¨ `specs/NNN-feature-name/` å»ºç«‹çµæ§‹

**ç¯„ä¾‹**:

```bash
# åœ¨ develop åˆ†æ”¯åŸ·è¡Œ
/speckit.specify Build a photo album management system
```

è‡ªå‹•ç”¢ç”Ÿ:

```bash
git checkout -b feature/001-photo-album-management
mkdir -p specs/001-photo-album-management
# ç”¢ç”Ÿ spec.md æ–¼è©²ç›®éŒ„
```

#### è¦æ ¼æ–‡ä»¶çš„ç›®éŒ„å°æ‡‰

æ¯å€‹åŠŸèƒ½åˆ†æ”¯å°æ‡‰ä¸€å€‹è¦æ ¼ç›®éŒ„:

```text
specs/
â”œâ”€â”€ 001-user-authentication/
â”‚   â”œâ”€â”€ spec.md
â”‚   â”œâ”€â”€ plan.md
â”‚   â”œâ”€â”€ tasks.md
â”‚   â”œâ”€â”€ data-model.md
â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ auth-api.yaml
â”‚   â”‚   â””â”€â”€ user-events.json
â”‚   â”œâ”€â”€ research.md
â”‚   â””â”€â”€ quickstart.md
â”œâ”€â”€ 002-photo-album/
â”‚   â”œâ”€â”€ spec.md
â”‚   â”œâ”€â”€ plan.md
â”‚   â””â”€â”€ ...
â””â”€â”€ 003-batch-reconciliation/
    â””â”€â”€ ...
```

**å‘½åè¦ç¯„**:

- `NNN-` å‰ç¶´:ä¸‰ä½æ•¸ç·¨è™Ÿ,ç¢ºä¿æ’åº
- `feature-name`:ä½¿ç”¨ kebab-case(å°å¯«,é€£å­—ç¬¦åˆ†éš”)
- å°æ‡‰åˆ†æ”¯åç¨±:`feature/NNN-feature-name`

#### å·¥ä½œæµç¨‹ç¯„ä¾‹

**å®Œæ•´çš„åŠŸèƒ½é–‹ç™¼æµç¨‹**:

```bash
# Step 1: ç¢ºä¿åœ¨ develop åˆ†æ”¯
git checkout develop
git pull origin develop

# Step 2: å»ºç«‹è¦æ ¼(è‡ªå‹•å»ºç«‹åˆ†æ”¯)
# åœ¨ AI åŠ©æ‰‹ä¸­åŸ·è¡Œ
/speckit.specify User authentication with email and password

# æ­¤æ™‚è‡ªå‹•å»ºç«‹ feature/001-user-authentication åˆ†æ”¯

# Step 3: å¯©æŸ¥ä¸¦å®Œå–„è¦æ ¼
# ç·¨è¼¯ specs/001-user-authentication/spec.md
# è‹¥æœ‰æ¨¡ç³Šè™•,ä½¿ç”¨ /speckit.clarify

# Step 4: æäº¤è¦æ ¼
git add specs/001-user-authentication/spec.md
git commit -m "spec: add user authentication specification"

# Step 5: å»ºç«‹è¨ˆç•«
/speckit.plan Use Spring Security with JWT tokens, PostgreSQL for user storage

# Step 6: æäº¤è¨ˆç•«
git add specs/001-user-authentication/plan.md
git add specs/001-user-authentication/data-model.md
git add specs/001-user-authentication/contracts/
git commit -m "plan: add implementation plan for user auth"

# Step 7: æ‹†åˆ†ä»»å‹™
/speckit.tasks

git add specs/001-user-authentication/tasks.md
git commit -m "tasks: break down user auth into executable tasks"

# Step 8: å¯¦ä½œ
/speckit.implement

# å¯¦ä½œéç¨‹ä¸­æŒçºŒæäº¤
git add src/
git add tests/
git commit -m "feat: implement user registration endpoint"
git commit -m "test: add unit tests for user service"
git commit -m "feat: implement login endpoint"

# Step 9: å®Œæˆå¾Œæ¨é€
git push origin feature/001-user-authentication

# Step 10: å»ºç«‹ Pull Request
# åœ¨ GitHub ç¶²é ä»‹é¢å»ºç«‹ PR: feature/001-user-authentication â†’ develop

# Step 11: Code Review èˆ‡åˆä½µ
# ç¶“å¯©æŸ¥é€šéå¾Œåˆä½µåˆ° develop
```

#### Commit Message è¦ç¯„

éµå¾ª **Conventional Commits** è¦ç¯„:

**æ ¼å¼**:

```text
<type>(<scope>): <subject>

<body>

<footer>
```

**Type é¡å‹**:

| Type | èªªæ˜ | ç¯„ä¾‹ |
|------|-----|------|
| `spec` | è¦æ ¼ç›¸é—œ | `spec: add photo album specification` |
| `plan` | è¨ˆç•«ç›¸é—œ | `plan: define database schema for albums` |
| `feat` | æ–°åŠŸèƒ½ | `feat: implement drag-and-drop for albums` |
| `fix` | éŒ¯èª¤ä¿®å¾© | `fix: resolve album sorting issue` |
| `test` | æ¸¬è©¦ | `test: add integration tests for album API` |
| `docs` | æ–‡ä»¶ | `docs: update API documentation` |
| `refactor` | é‡æ§‹ | `refactor: extract album service logic` |
| `chore` | é›œé … | `chore: update dependencies` |

**ç¯„ä¾‹**:

```bash
# è¦æ ¼æäº¤
git commit -m "spec: add batch reconciliation job specification

- Define job schedule: daily at 23:00
- Add SFTP integration requirements
- Specify error handling and retry policy"

# è¨ˆç•«æäº¤
git commit -m "plan: design batch job architecture

- Use Spring Batch framework
- SFTP client: Apache Commons VFS
- Error notifications via Slack webhook"

# å¯¦ä½œæäº¤
git commit -m "feat: implement reconciliation job reader

- Read CSV files from SFTP server
- Parse transaction records
- Validate data format

Closes #123"
```

#### CI/CD æ•´åˆ

**åœ¨æ¯å€‹ PR è§¸ç™¼æª¢æŸ¥**:

```yaml
# .github/workflows/pr-check.yml
name: PR Check

on:
  pull_request:
    branches: [develop, main]

jobs:
  spec-validation:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Check Spec Completeness
        run: |
          # æª¢æŸ¥è¦æ ¼æ˜¯å¦æœ‰ [NEEDS CLARIFICATION] æ¨™è¨˜
          if grep -r "\[NEEDS CLARIFICATION\]" specs/; then
            echo "âŒ Specification has unresolved clarifications"
            exit 1
          fi
      
      - name: Check Constitution Compliance
        run: |
          # ä½¿ç”¨ /speckit.analyze æª¢æŸ¥ä¸€è‡´æ€§
          # (éœ€æ•´åˆ AI CLI å·¥å…·)
          echo "Checking constitution compliance..."
  
  tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Run Tests
        run: |
          ./mvnw test
      
      - name: Check Coverage
        run: |
          # ç¢ºä¿æ¸¬è©¦è¦†è“‹ç‡é”æ¨™(æ ¹æ“š Constitution)
          ./mvnw jacoco:check
```

---

**ğŸ¯ ç¬¬äºŒç« é‡é»å›é¡§**

1. **å‰ç½®æ¢ä»¶** - Python 3.11+ã€Gitã€uvã€AI å·¥å…·
2. **å®‰è£ Spec-Kit** - `uv tool install specify-cli`
3. **åˆå§‹åŒ–å°ˆæ¡ˆ** - `specify init project-name --ai copilot`
4. **å»ºç«‹ Constitution** - å®šç¾©ä¸å¯é•åçš„é–‹ç™¼åŸå‰‡
5. **è‡ªè¨‚æ¨¡æ¿** - é‡å°åœ˜éšŠéœ€æ±‚èª¿æ•´æ¨¡æ¿
6. **åˆ†æ”¯ç­–ç•¥** - åŸºæ–¼ Git Flow,æ¯å€‹åŠŸèƒ½å°æ‡‰ä¸€å€‹è¦æ ¼ç›®éŒ„

**ğŸ“Œ å¯¦å‹™å»ºè­°**

- âœ… **Constitution æ˜¯åŸºç¤** - ç¬¬ä¸€æ™‚é–“å»ºç«‹,æ‰€æœ‰é–‹ç™¼éµå¾ª
- âœ… **æ¨¡æ¿æŒçºŒå„ªåŒ–** - æ ¹æ“šåœ˜éšŠå¯¦éš›ä½¿ç”¨èª¿æ•´
- âœ… **è¦æ ¼èˆ‡ä»£ç¢¼åˆ†é›¢** - è¦æ ¼æ–‡ä»¶ç¨ç«‹æ–¼æºç¢¼ç›®éŒ„
- âœ… **å……åˆ†åˆ©ç”¨è‡ªå‹•åŒ–** - è®“ Spec-Kit è‡ªå‹•å»ºç«‹åˆ†æ”¯èˆ‡ç›®éŒ„
- âœ… **CI/CD æª¢æŸ¥** - åœ¨ PR éšæ®µé©—è­‰è¦æ ¼å®Œæ•´æ€§

**âš ï¸ å¸¸è¦‹é™·é˜±**

- âŒ è·³éç’°å¢ƒæª¢æŸ¥,å°è‡´å¾ŒçºŒå•é¡Œ
- âŒ Constitution å¯«å¾—å¤ªè¤‡é›œ,åœ˜éšŠç„¡æ³•éµå¾ª
- âŒ æ¨¡æ¿éåº¦å®¢è£½åŒ–,å¤±å»æ¨™æº–åŒ–å„ªå‹¢
- âŒ è¦æ ¼èˆ‡ä»£ç¢¼æ··åœ¨åŒä¸€ç›®éŒ„,é›£ä»¥ç®¡ç†
- âŒ æ²’æœ‰å»ºç«‹ Git workflow,åœ˜éšŠå”ä½œæ··äº‚

---

**ä¸‹ä¸€ç« é å‘Š**:ç¬¬ä¸‰ç« å°‡æ·±å…¥è¬›è§£ä½¿ç”¨æµç¨‹,å¾æ’°å¯«ç¬¬ä¸€å€‹ Spec åˆ°å®Œæˆå¯¦ä½œçš„å®Œæ•´æ­¥é©Ÿã€‚

---

## ç¬¬ä¸‰ç« :ä½¿ç”¨æµç¨‹è©³ç´°èªªæ˜

æœ¬ç« å°‡å¸¶æ‚¨å®Œæ•´èµ°é SDD çš„å…­å€‹ä¸»è¦æ­¥é©Ÿ,å¾å‰µå»ºè¦æ ¼åˆ°å®Œæˆå¯¦ä½œã€‚

### 3.1 Step 1:æ’°å¯« Spec (/speckit.specify)

é€™æ˜¯ SDD æµç¨‹çš„èµ·é»,å®šç¾©ã€Œè¦åšä»€éº¼ã€å’Œã€Œç‚ºä»€éº¼ã€ã€‚

#### ä½•æ™‚ä½¿ç”¨

- âœ… é–‹å§‹æ–°åŠŸèƒ½é–‹ç™¼
- âœ… éœ€è¦æ˜ç¢ºéœ€æ±‚èˆ‡é©—æ”¶æ¨™æº–
- âœ… å¤šå€‹åˆ©å®³é—œä¿‚äººéœ€è¦å°é½Šç†è§£
- âœ… æº–å‚™è®“ AI åŠ©æ‰‹å”åŠ©å¯¦ä½œ

#### æŒ‡ä»¤æ ¼å¼

```bash
/speckit.specify <åŠŸèƒ½æè¿°>
```

**ç¯„ä¾‹**:

```bash
# ç¯„ä¾‹ 1: ç°¡çŸ­æè¿°
/speckit.specify Build a user authentication system

# ç¯„ä¾‹ 2: è©³ç´°æè¿°
/speckit.specify Build an application that can help me organize my photos in separate photo albums. Albums are grouped by date and can be re-organized by dragging and dropping on the main page. Albums are never in other nested albums. Within each album, photos are previewed in a tile-like interface.

# ç¯„ä¾‹ 3: æ‰¹æ¬¡ä½œæ¥­
/speckit.specify Create a daily reconciliation batch job that downloads transaction files from SFTP server, validates data, compares with database records, and generates discrepancy reports.

# ç¯„ä¾‹ 4: å¾®æœå‹™æ•´åˆ
/speckit.specify Implement an order service that receives orders from API Gateway, validates inventory through inventory-service, processes payment via payment-service, and publishes order-confirmed events to message queue.
```

#### AI åŠ©æ‰‹æœƒåšä»€éº¼

åŸ·è¡Œ `/speckit.specify` å¾Œ,AI æœƒ:

1. **åˆ†ææ‚¨çš„æè¿°** - ç†è§£æ ¸å¿ƒéœ€æ±‚
2. **æƒæç¾æœ‰è¦æ ¼** - ç¢ºå®šä¸‹ä¸€å€‹åŠŸèƒ½ç·¨è™Ÿ(å¦‚ 001ã€002ã€003)
3. **å»ºç«‹åˆ†æ”¯** - è‡ªå‹•å»ºç«‹ `feature/NNN-feature-name` åˆ†æ”¯
4. **ä½¿ç”¨æ¨¡æ¿** - è¤‡è£½ `spec-template.md` åˆ° `specs/NNN-feature-name/spec.md`
5. **å¡«å……å…§å®¹** - ç”¢ç”Ÿçµæ§‹åŒ–è¦æ ¼æ–‡ä»¶,åŒ…å«:
   - Overview(æ¦‚è¿°)
   - User Stories(ä½¿ç”¨è€…æ•…äº‹)
   - Acceptance Criteria(é©—æ”¶æ¨™æº–)
   - Success Metrics(æˆåŠŸæŒ‡æ¨™)
   - Out of Scope(æ’é™¤é …ç›®)
   - æ¨™è¨˜ `[NEEDS CLARIFICATION]`(éœ€æ¾„æ¸…è™•)

#### ç”¢ç”Ÿçš„ Spec çµæ§‹

**ç¯„ä¾‹:ç…§ç‰‡ç›¸ç°¿ç®¡ç†**

```markdown
# Feature Specification: Photo Album Management

## Metadata
- **Feature ID**: 001
- **Status**: Draft
- **Created**: 2025-10-29
- **Last Updated**: 2025-10-29

## 1. Overview

### Purpose
æä¾›ä½¿ç”¨è€…çµ„ç¹”å’Œç®¡ç†ç…§ç‰‡çš„èƒ½åŠ›,é€éç›¸ç°¿é€²è¡Œåˆ†é¡,æ”¯æ´æŒ‰æ—¥æœŸåˆ†çµ„å’Œæ‹–æ”¾æ’åºã€‚

### Business Value
- ä½¿ç”¨è€…å¯å¿«é€Ÿæ‰¾åˆ°ç‰¹å®šæ™‚æœŸçš„ç…§ç‰‡
- æå‡ç…§ç‰‡ç®¡ç†æ•ˆç‡
- æ”¹å–„ä½¿ç”¨è€…é«”é©—

## 2. User Stories

### US-001: å»ºç«‹ç›¸ç°¿
**As a** ç…§ç‰‡ç®¡ç†è€…  
**I want** å»ºç«‹æ–°çš„ç›¸ç°¿ä¸¦å‘½å  
**So that** æˆ‘å¯ä»¥å°‡ç›¸é—œç…§ç‰‡çµ„ç¹”åœ¨ä¸€èµ·

**Acceptance Criteria**:
- [ ] ä½¿ç”¨è€…å¯é»æ“Šã€Œæ–°å¢ç›¸ç°¿ã€æŒ‰éˆ•
- [ ] ä½¿ç”¨è€…å¯è¼¸å…¥ç›¸ç°¿åç¨±
- [ ] ç³»çµ±è‡ªå‹•è¨­å®šç›¸ç°¿å»ºç«‹æ—¥æœŸ
- [ ] æ–°ç›¸ç°¿é¡¯ç¤ºåœ¨ç›¸ç°¿åˆ—è¡¨ä¸­

### US-002: æŸ¥çœ‹ç›¸ç°¿åˆ—è¡¨
**As a** ç…§ç‰‡ç®¡ç†è€…  
**I want** åœ¨ä¸»é é¢æŸ¥çœ‹æ‰€æœ‰ç›¸ç°¿  
**So that** æˆ‘å¯ä»¥é¸æ“‡è¦ç€è¦½çš„ç›¸ç°¿

**Acceptance Criteria**:
- [ ] ç›¸ç°¿ä»¥å¡ç‰‡å½¢å¼é¡¯ç¤º(ç¸®åœ– + åç¨± + æ—¥æœŸ)
- [ ] ç›¸ç°¿æŒ‰æ—¥æœŸæ’åº(æœ€æ–°åœ¨å‰)
- [ ] é¡¯ç¤ºæ¯å€‹ç›¸ç°¿çš„ç…§ç‰‡æ•¸é‡
- [ ] ç©ºç›¸ç°¿é¡¯ç¤ºé è¨­åœ–ç¤º

### US-003: æ‹–æ”¾æ’åºç›¸ç°¿
**As a** ç…§ç‰‡ç®¡ç†è€…  
**I want** é€éæ‹–æ”¾æ”¹è®Šç›¸ç°¿é †åº  
**So that** æˆ‘å¯ä»¥è‡ªè¨‚ç›¸ç°¿çš„æ’åˆ—æ–¹å¼

**Acceptance Criteria**:
- [ ] ä½¿ç”¨è€…å¯æ‹–å‹•ç›¸ç°¿å¡ç‰‡
- [ ] æ‹–å‹•æ™‚é¡¯ç¤ºè¦–è¦ºå›é¥‹(åŠé€æ˜æ•ˆæœ)
- [ ] æ”¾ä¸‹æ™‚ç›¸ç°¿æ’å…¥æ–°ä½ç½®
- [ ] æ’åºç«‹å³å„²å­˜
- [ ] é‡æ–°æ•´ç†é é¢å¾Œé †åºä¿æŒ

### US-004: ç€è¦½ç›¸ç°¿å…§ç…§ç‰‡
**As a** ç…§ç‰‡ç®¡ç†è€…  
**I want** é»æ“Šç›¸ç°¿æŸ¥çœ‹å…§éƒ¨ç…§ç‰‡  
**So that** æˆ‘å¯ä»¥ç€è¦½è©²ç›¸ç°¿çš„æ‰€æœ‰ç…§ç‰‡

**Acceptance Criteria**:
- [ ] é»æ“Šç›¸ç°¿é€²å…¥ç…§ç‰‡æª¢è¦–é é¢
- [ ] ç…§ç‰‡ä»¥ç“·ç£šä»‹é¢é¡¯ç¤º(Grid Layout)
- [ ] æ¯å¼µç…§ç‰‡é¡¯ç¤ºç¸®åœ–
- [ ] æ”¯æ´éŸ¿æ‡‰å¼ä½ˆå±€(ä¸åŒè¢å¹•å°ºå¯¸)

## 3. Functional Requirements

### FR-001: ç›¸ç°¿ç®¡ç†
- ç›¸ç°¿å¿…é ˆæœ‰å”¯ä¸€è­˜åˆ¥ç¢¼
- ç›¸ç°¿åç¨±é•·åº¦é™åˆ¶:1-50 å­—å…ƒ
- ç›¸ç°¿åªèƒ½æœ‰ä¸€å±¤(ä¸æ”¯æ´å·¢ç‹€ç›¸ç°¿)
- åˆªé™¤ç›¸ç°¿æ™‚éœ€è¦ç¢ºèªå°è©±æ¡†

### FR-002: ç…§ç‰‡é¡¯ç¤º
- ç¸®åœ–å°ºå¯¸:200x200px
- è¼‰å…¥å„ªåŒ–:ä½¿ç”¨ Lazy Loading
- æ”¯æ´åœ–ç‰‡æ ¼å¼:JPGã€PNGã€WEBP
- [NEEDS CLARIFICATION: æ˜¯å¦æ”¯æ´ RAW æ ¼å¼?]

### FR-003: æ‹–æ”¾åŠŸèƒ½
- ä½¿ç”¨ HTML5 Drag & Drop API
- åƒ…åœ¨æ¡Œé¢è£ç½®å•Ÿç”¨æ‹–æ”¾(è¡Œå‹•è£ç½®ä½¿ç”¨æ›¿ä»£æ–¹æ¡ˆ)
- [NEEDS CLARIFICATION: è¡Œå‹•è£ç½®çš„æ’åºæ–¹å¼?é•·æŒ‰?ç·¨è¼¯æ¨¡å¼?]

## 4. Non-Functional Requirements

### NFR-001: Performance(æ•ˆèƒ½)
- ç›¸ç°¿åˆ—è¡¨è¼‰å…¥æ™‚é–“ < 500ms
- ç…§ç‰‡ç¸®åœ–è¼‰å…¥æ™‚é–“ < 100ms(æ¯å¼µ)
- æ”¯æ´è‡³å°‘ 1000 å€‹ç›¸ç°¿
- å–®ä¸€ç›¸ç°¿æ”¯æ´è‡³å°‘ 10,000 å¼µç…§ç‰‡

### NFR-002: Usability(å¯ç”¨æ€§)
- æ‹–æ”¾æ“ä½œå¿…é ˆç›´è¦º,ä¸éœ€æ•™å­¸
- éŸ¿æ‡‰å¼è¨­è¨ˆæ”¯æ´æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿ
- æä¾›è¦–è¦ºå›é¥‹(hoverã€æ‹–å‹•ã€è¼‰å…¥ä¸­)

### NFR-003: Data Integrity(è³‡æ–™å®Œæ•´æ€§)
- ç…§ç‰‡æª”æ¡ˆä¸ä¸Šå‚³,åƒ…è¨˜éŒ„æœ¬æ©Ÿè·¯å¾‘
- ç›¸ç°¿æ’åºè®Šæ›´å¿…é ˆæŒä¹…åŒ–
- [NEEDS CLARIFICATION: å¦‚ä½•è™•ç†ç…§ç‰‡æª”æ¡ˆè¢«ç§»å‹•æˆ–åˆªé™¤?]

## 5. Success Metrics

### å®šé‡æŒ‡æ¨™
- ä½¿ç”¨è€…å¯åœ¨ 30 ç§’å…§å»ºç«‹ç¬¬ä¸€å€‹ç›¸ç°¿
- æ‹–æ”¾æ’åºæ“ä½œæˆåŠŸç‡ > 95%
- ç…§ç‰‡è¼‰å…¥å¤±æ•—ç‡ < 1%

### å®šæ€§æŒ‡æ¨™
- ä½¿ç”¨è€…åé¥‹æ“ä½œç›´è¦ºæ˜“æ‡‚
- ç„¡éœ€æŸ¥çœ‹èªªæ˜æ–‡ä»¶å³å¯ä½¿ç”¨

## 6. Out of Scope

æ˜ç¢ºä¸åœ¨æ­¤åŠŸèƒ½ç¯„åœå…§:

- âŒ ç…§ç‰‡ä¸Šå‚³åˆ°é›²ç«¯
- âŒ ç…§ç‰‡ç·¨è¼¯åŠŸèƒ½(è£åˆ‡ã€æ¿¾é¡)
- âŒ ç›¸ç°¿åˆ†äº«çµ¦å…¶ä»–ä½¿ç”¨è€…
- âŒ ç…§ç‰‡è‡ªå‹•åˆ†é¡(AI è¾¨è­˜)
- âŒ ç›¸ç°¿å¯†ç¢¼ä¿è­·
- âŒ æ”¯æ´å½±ç‰‡æª”æ¡ˆ

## 7. Constraints & Assumptions

### Constraints(ç´„æŸ)
- ç…§ç‰‡å¿…é ˆå­˜åœ¨æ–¼æœ¬æ©Ÿæª”æ¡ˆç³»çµ±
- åƒ…æ”¯æ´ç¾ä»£ç€è¦½å™¨(Chrome 90+ã€Firefox 88+ã€Safari 14+)
- è³‡æ–™å­˜å„²æ–¼æœ¬æ©Ÿ(SQLite)

### Assumptions(å‡è¨­)
- ä½¿ç”¨è€…æœ‰åŸºæœ¬é›»è…¦æ“ä½œèƒ½åŠ›
- ä½¿ç”¨è€…ç…§ç‰‡å·²å­˜åœ¨æ–¼é›»è…¦ä¸­
- ä½¿ç”¨è€…ä¸éœ€è¦å¤šè£ç½®åŒæ­¥

## 8. Dependencies

### External Dependencies
- ç„¡å¤–éƒ¨ç³»çµ±ä¾è³´

### Internal Dependencies
- éœ€è¦æœ¬æ©Ÿæª”æ¡ˆç³»çµ±å­˜å–æ¬Šé™
- éœ€è¦ç€è¦½å™¨ IndexedDB æ”¯æ´

## 9. Risks & Mitigations

| é¢¨éšª | å½±éŸ¿ | å¯èƒ½æ€§ | ç·©è§£æªæ–½ |
|------|-----|--------|---------|
| ç…§ç‰‡æª”æ¡ˆè¢«ç§»å‹• | é«˜ | ä¸­ | æä¾›ã€Œé‡æ–°é€£çµã€åŠŸèƒ½ |
| ç€è¦½å™¨ç›¸å®¹æ€§å•é¡Œ | ä¸­ | ä½ | æ˜ç¢ºæ¨™ç¤ºæ”¯æ´ç€è¦½å™¨ç‰ˆæœ¬ |
| å¤§é‡ç…§ç‰‡æ•ˆèƒ½å•é¡Œ | é«˜ | ä¸­ | å¯¦ä½œè™›æ“¬æ»¾å‹•ã€åˆ†é è¼‰å…¥ |

## 10. Open Questions

- [ ] [NEEDS CLARIFICATION] æ˜¯å¦æ”¯æ´ RAW æ ¼å¼ç…§ç‰‡?
- [ ] [NEEDS CLARIFICATION] è¡Œå‹•è£ç½®å¦‚ä½•é€²è¡Œæ’åºæ“ä½œ?
- [ ] [NEEDS CLARIFICATION] ç…§ç‰‡æª”æ¡ˆç§»å‹•æˆ–åˆªé™¤æ™‚å¦‚ä½•è™•ç†?
- [ ] [NEEDS CLARIFICATION] æ˜¯å¦éœ€è¦ç›¸ç°¿åŒ¯å‡ºåŠŸèƒ½?
- [ ] [NEEDS CLARIFICATION] æœ€å¤§ç›¸ç°¿æ•¸é‡é™åˆ¶?

## 11. Approval

| è§’è‰² | å§“å | æ—¥æœŸ | ç°½æ ¸ |
|------|-----|------|------|
| ç”¢å“è² è²¬äºº | | | [ ] |
| æŠ€è¡“æ¶æ§‹å¸« | | | [ ] |
| é–‹ç™¼åœ˜éšŠä»£è¡¨ | | | [ ] |

---

**Note**: æ­¤è¦æ ¼éœ€ç¶“æ‰€æœ‰åˆ©å®³é—œä¿‚äººå¯©é–±ä¸¦ç°½æ ¸å¾Œæ‰èƒ½é€²å…¥ Plan éšæ®µã€‚
```

#### Spec æ‡‰åŒ…å«çš„æ ¸å¿ƒè¦ç´ 

**âœ… å¿…é ˆæœ‰çš„å…§å®¹**:

1. **Overview** - 3-5 å¥è©±èªªæ˜ã€Œæ˜¯ä»€éº¼ã€å’Œã€Œç‚ºä½•éœ€è¦ã€
2. **User Stories** - å¾ä½¿ç”¨è€…è§’åº¦æè¿°åŠŸèƒ½,æ ¼å¼:`As a [è§’è‰²], I want [åŠŸèƒ½], So that [åƒ¹å€¼]`
3. **Acceptance Criteria** - å¯æ¸¬è©¦çš„é©—æ”¶æ¨™æº–,ä½¿ç”¨ Checkbox æ ¼å¼
4. **Success Metrics** - å¦‚ä½•è¡¡é‡æˆåŠŸ(å®šé‡ + å®šæ€§)
5. **Out of Scope** - æ˜ç¢ºæ’é™¤çš„é …ç›®,é¿å…ç¯„ç–‡è”“å»¶
6. **[NEEDS CLARIFICATION]** - æ¨™è¨˜æ‰€æœ‰æ¨¡ç³Šæˆ–æœªæ±ºå®šçš„éƒ¨åˆ†

**âŒ ä¸æ‡‰è©²æœ‰çš„å…§å®¹**:

- âŒ æŠ€è¡“é¸æ“‡(ã€Œä½¿ç”¨ Reactã€ã€ã€Œæ¡ç”¨ PostgreSQLã€)
- âŒ å¯¦ä½œç´°ç¯€(ã€Œå»ºç«‹ UserService é¡åˆ¥ã€)
- âŒ ç¨‹å¼ç¢¼ç¯„ä¾‹
- âŒ è³‡æ–™åº« Schema

#### å¯©æŸ¥ Spec çš„æª¢æŸ¥æ¸…å–®

ä½¿ç”¨ä»¥ä¸‹æ¸…å–®å¯©æŸ¥ AI ç”¢ç”Ÿçš„ Spec:

```markdown
## Spec Quality Checklist

### å®Œæ•´æ€§
- [ ] æœ‰æ˜ç¢ºçš„ Overview
- [ ] è‡³å°‘æœ‰ 3 å€‹ User Stories
- [ ] æ¯å€‹ User Story æœ‰é©—æ”¶æ¨™æº–
- [ ] å®šç¾©äº† Success Metrics
- [ ] æ˜ç¢ºåˆ—å‡º Out of Scope

### æ¸…æ™°æ€§
- [ ] æ‰€æœ‰ User Story æ¸…æ¥šæ˜“æ‡‚
- [ ] é©—æ”¶æ¨™æº–å¯æ¸¬è©¦(ä¸æ¨¡ç³Š)
- [ ] æ²’æœ‰æŠ€è¡“è¡“èª(æˆ–æœ‰è§£é‡‹)
- [ ] æ¨¡ç³Šè™•å·²æ¨™è¨˜ [NEEDS CLARIFICATION]

### æŠ€è¡“ä¸­ç«‹æ€§
- [ ] æ²’æœ‰æåŠå…·é«”æŠ€è¡“æ£§
- [ ] æ²’æœ‰å¯¦ä½œç´°ç¯€
- [ ] å°ˆæ³¨æ–¼ã€Œä»€éº¼ã€å’Œã€Œç‚ºä»€éº¼ã€,è€Œéã€Œå¦‚ä½•ã€

### å¯è¡Œæ€§
- [ ] ç¯„åœåˆç†(ä¸æœƒå¤ªå¤§)
- [ ] æœ‰æ˜ç¢ºç´„æŸèˆ‡å‡è¨­
- [ ] è­˜åˆ¥äº†ä¸»è¦é¢¨éšª
- [ ] ä¾è³´é—œä¿‚æ¸…æ¥š

### åˆ©å®³é—œä¿‚äººå°é½Š
- [ ] PM/ç”¢å“è² è²¬äººå·²å¯©é–±
- [ ] ä½¿ç”¨è€…ä»£è¡¨å·²ç¢ºèªéœ€æ±‚
- [ ] æŠ€è¡“åœ˜éšŠç†è§£éœ€æ±‚
```

#### å¯¦å‹™å»ºè­°

**1. ä¸€æ¬¡å°ˆæ³¨ä¸€å€‹åŠŸèƒ½**

```bash
# âœ… å¥½:ç¯„åœæ˜ç¢º
/speckit.specify Build user login with email and password

# âŒ ä¸å¥½:ç¯„åœå¤ªå¤§
/speckit.specify Build complete user management system with login, registration, password reset, profile editing, role management, and audit logging
```

å»ºè­°:å°‡å¤§åŠŸèƒ½æ‹†åˆ†æˆå¤šå€‹ Spec

**2. å……åˆ†åˆ©ç”¨å°è©±æ¾„æ¸…**

ç•¶ AI ç”¢ç”Ÿçš„ Spec æœ‰ `[NEEDS CLARIFICATION]` æ¨™è¨˜æ™‚:

```bash
# ç¹¼çºŒèˆ‡ AI å°è©±
Q: é—œæ–¼è¡Œå‹•è£ç½®çš„æ’åºæ–¹å¼,æˆ‘å€‘æ¡ç”¨ã€Œç·¨è¼¯æ¨¡å¼ã€,ä½¿ç”¨è€…é»æ“Šã€Œç·¨è¼¯ã€æŒ‰éˆ•å¾Œå¯é€éä¸Šä¸‹ç®­é ­èª¿æ•´é †åºã€‚

# AI æœƒæ›´æ–° Spec,ç§»é™¤ [NEEDS CLARIFICATION] ä¸¦è£œå……ç´°ç¯€
```

**3. ä½¿ç”¨å…·é«”ç¯„ä¾‹**

```bash
# âŒ æ¨¡ç³Š
/speckit.specify Build a reporting feature

# âœ… å…·é«”
/speckit.specify Build a monthly sales report that shows revenue by product category, top 10 customers, and year-over-year growth comparison. Users can export to PDF and Excel.
```

**4. æ˜ç¢ºéåŠŸèƒ½éœ€æ±‚**

```bash
/speckit.specify Build a product search API that must:
- Handle 1000 requests per second
- Return results within 200ms (P95)
- Support fuzzy matching
- Return relevance-ranked results
```

#### å¸¸è¦‹éŒ¯èª¤èˆ‡ä¿®æ­£

| éŒ¯èª¤ | å•é¡Œ | ä¿®æ­£ |
|------|-----|------|
| ã€Œä½¿ç”¨ Vue 3 å»ºç«‹ä»‹é¢ã€ | éæ—©æ±ºå®šæŠ€è¡“ | ã€Œå»ºç«‹éŸ¿æ‡‰å¼ä½¿ç”¨è€…ä»‹é¢ã€ |
| ã€Œå»ºç«‹ UserRepositoryã€ | æè¿°å¯¦ä½œç´°ç¯€ | ã€Œç³»çµ±èƒ½å„²å­˜å’Œæª¢ç´¢ä½¿ç”¨è€…è³‡æ–™ã€ |
| ã€Œè¦å¾ˆå¿«ã€ | ä¸å¯æ¸¬è©¦ | ã€ŒAPI å›æ‡‰æ™‚é–“ < 200ms (P95)ã€ |
| ã€Œè¦å¥½ç”¨ã€ | å¤ªæ¨¡ç³Š | ã€Œä½¿ç”¨è€…å¯åœ¨ 30 ç§’å…§å®Œæˆè¨»å†Šã€ |

---

### 3.2 Step 1a:æ¾„æ¸…æ¨¡ç³Šéœ€æ±‚ (/speckit.clarify)

é€™æ˜¯é¸æ“‡æ€§æ­¥é©Ÿ,ç•¶ Spec æœ‰å¤ªå¤š `[NEEDS CLARIFICATION]` æ¨™è¨˜æ™‚ä½¿ç”¨ã€‚

#### ä½•æ™‚ä½¿ç”¨

- âœ… Spec æœ‰å¤šè™• `[NEEDS CLARIFICATION]`
- âœ… åˆ©å®³é—œä¿‚äººå°éœ€æ±‚æœ‰ä¸åŒç†è§£
- âœ… æŠ€è¡“åœ˜éšŠéœ€è¦æ›´å¤šè³‡è¨Šæ‰èƒ½è¦åŠƒ
- âœ… é€²å…¥ Plan éšæ®µå‰æƒ³ç¢ºä¿éœ€æ±‚æ˜ç¢º

#### æŒ‡ä»¤æ ¼å¼

```bash
/speckit.clarify
```

(ä¸éœ€åƒæ•¸,AI æœƒè®€å–ç•¶å‰ Spec ä¸¦è©¢å•å•é¡Œ)

#### AI åŠ©æ‰‹æœƒåšä»€éº¼

1. **æƒæ Spec** - æ‰¾å‡ºæ‰€æœ‰ `[NEEDS CLARIFICATION]` æ¨™è¨˜
2. **åˆ†ææ¨¡ç³Šè™•** - è­˜åˆ¥å¯èƒ½çš„æ­§ç¾©æˆ–éºæ¼
3. **æå‡ºå•é¡Œ** - ä»¥å•ç­”å½¢å¼æ¾„æ¸…éœ€æ±‚

**ç¯„ä¾‹å°è©±**:

```text
AI: æˆ‘åœ¨ Spec ä¸­ç™¼ç¾ä»¥ä¸‹éœ€è¦æ¾„æ¸…çš„é …ç›®:

1. [NEEDS CLARIFICATION: æ˜¯å¦æ”¯æ´ RAW æ ¼å¼ç…§ç‰‡?]
   Q: ç³»çµ±æ˜¯å¦éœ€è¦æ”¯æ´ RAW æ ¼å¼(å¦‚ .CR2, .NEF, .ARW)?
   - RAW æª”æ¡ˆé€šå¸¸å¾ˆå¤§(20-50MB),å¯èƒ½å½±éŸ¿è¼‰å…¥æ•ˆèƒ½
   - éœ€è¦é¡å¤–çš„è§£ç¢¼å‡½å¼åº«

æ‚¨çš„æ±ºå®š:
```

**äººå“¡å›æ‡‰**:

```text
A: åˆç‰ˆä¸æ”¯æ´ RAW æ ¼å¼,åƒ…æ”¯æ´ JPGã€PNGã€WEBPã€‚
   RAW æ ¼å¼åˆ—å…¥ v2.0 è€ƒæ…®ã€‚
```

**AI æ›´æ–° Spec**:

```markdown
### FR-002: ç…§ç‰‡é¡¯ç¤º
- æ”¯æ´åœ–ç‰‡æ ¼å¼:JPGã€PNGã€WEBP
- RAW æ ¼å¼(CR2ã€NEFã€ARW)ä¸åœ¨åˆç‰ˆæ”¯æ´ç¯„åœ
- æœªä¾†ç‰ˆæœ¬è€ƒæ…®æ”¯æ´(åˆ—å…¥ç”¢å“ Roadmap)
```

#### æ¾„æ¸…æµç¨‹

```mermaid
%%{init: {'theme':'dark'}}%%
graph TD
    A[åŸ·è¡Œ /speckit.clarify] --> B[AI æƒæ Spec]
    B --> C[è­˜åˆ¥æ‰€æœ‰ NEEDS CLARIFICATION]
    C --> D[AI é€é …æå•]
    D --> E[äººå“¡å›ç­”]
    E --> F{é‚„æœ‰æœªæ¾„æ¸…é …ç›®?}
    F -->|æ˜¯| D
    F -->|å¦| G[AI æ›´æ–° Spec]
    G --> H[ç§»é™¤ NEEDS CLARIFICATION æ¨™è¨˜]
    H --> I[è£œå……æ˜ç¢ºèªªæ˜]
    I --> J[Spec å®Œæˆ,å¯é€²å…¥ Plan]
```

#### å¯¦å‹™å»ºè­°

**1. åˆ†æ‰¹æ¾„æ¸…**

å¦‚æœæœ‰å¾ˆå¤š `[NEEDS CLARIFICATION]`,ä¸è¦è©¦åœ–ä¸€æ¬¡å…¨éƒ¨è§£æ±º:

```text
ç¬¬ä¸€è¼ª:æ¾„æ¸…æ ¸å¿ƒåŠŸèƒ½çš„æ¨¡ç³Šè™•
ç¬¬äºŒè¼ª:æ¾„æ¸…éåŠŸèƒ½éœ€æ±‚
ç¬¬ä¸‰è¼ª:æ¾„æ¸…é‚Šç•Œæ¢ä»¶èˆ‡ä¾‹å¤–è™•ç†
```

**2. è¨˜éŒ„æ±ºç­–ç†ç”±**

ä¸åªå›ç­”ã€Œæ˜¯ã€æˆ–ã€Œå¦ã€,è¦èªªæ˜åŸå› :

```text
âŒ ä¸å¥½:ã€Œä¸æ”¯æ´ RAW æ ¼å¼ã€
âœ… å¥½:ã€Œä¸æ”¯æ´ RAW æ ¼å¼,å› ç‚º:
     1. å¢åŠ å¯¦ä½œè¤‡é›œåº¦(éœ€è¦è§£ç¢¼åº«)
     2. å½±éŸ¿æ•ˆèƒ½(æª”æ¡ˆå¤§)
     3. ä½¿ç”¨è€…éœ€æ±‚å„ªå…ˆåº¦ä½(ä½¿ç”¨è€…èª¿æŸ¥é¡¯ç¤º < 5% éœ€è¦)
     4. v2.0 å†è©•ä¼°ã€
```

**3. æ¶‰åŠåˆ©å®³é—œä¿‚äºº**

æŸäº›å•é¡Œéœ€è¦ç‰¹å®šè§’è‰²å›ç­”:

- **ç”¢å“å•é¡Œ** â†’ PM/ç”¢å“è² è²¬äºº
- **æŠ€è¡“å•é¡Œ** â†’ æ¶æ§‹å¸«/è³‡æ·±é–‹ç™¼
- **ä½¿ç”¨è€…è¡Œç‚º** â†’ UX è¨­è¨ˆå¸«/ä½¿ç”¨è€…ä»£è¡¨
- **å®‰å…¨/åˆè¦** â†’ è³‡å®‰/æ³•å‹™

**4. æ›´æ–° Spec ä¸¦æäº¤**

æ¾„æ¸…å®Œç•¢å¾Œ:

```bash
# ç¢ºèª Spec ç„¡ [NEEDS CLARIFICATION]
grep -r "NEEDS CLARIFICATION" specs/001-photo-album/

# æäº¤æ›´æ–°
git add specs/001-photo-album/spec.md
git commit -m "spec: clarify photo format support and mobile UX"
```

---

### 3.3 Step 2:æ’°å¯« Plan (/speckit.plan)

Plan å°‡ Spec ç¿»è­¯æˆæŠ€è¡“å¯¦ä½œæ–¹æ¡ˆ,å®šç¾©ã€Œå¦‚ä½•ã€å¯¦ç¾ã€‚

#### ä½•æ™‚ä½¿ç”¨

- âœ… Spec å·²å®Œæˆä¸”æ‰€æœ‰ `[NEEDS CLARIFICATION]` å·²è§£æ±º
- âœ… æº–å‚™é€²å…¥æŠ€è¡“è¦åŠƒéšæ®µ
- âœ… éœ€è¦å®šç¾©æŠ€è¡“æ£§ã€æ¶æ§‹ã€è³‡æ–™æ¨¡å‹

#### æŒ‡ä»¤æ ¼å¼

```bash
/speckit.plan <æŠ€è¡“æ£§èˆ‡æ¶æ§‹é¸æ“‡>
```

**ç¯„ä¾‹**:

```bash
# ç¯„ä¾‹ 1: Web æ‡‰ç”¨
/speckit.plan The application uses Vite with minimal number of libraries. Use vanilla HTML, CSS, and JavaScript as much as possible. Images are not uploaded anywhere and metadata is stored in a local SQLite database.

# ç¯„ä¾‹ 2: ä¼æ¥­æ‡‰ç”¨
/speckit.plan Use Spring Boot 3.x with Java 17 for backend. Frontend is Vue 3 with TypeScript. Database is PostgreSQL 14. Use Redis for caching. Message queue is RabbitMQ. Follow microservices architecture with API Gateway.

# ç¯„ä¾‹ 3: æ‰¹æ¬¡ä½œæ¥­
/speckit.plan Use Spring Batch framework. SFTP integration with Apache Commons VFS. Database is Oracle 19c. Scheduling with Quartz. Error notifications via Slack webhook.

# ç¯„ä¾‹ 4: å¾®æœå‹™
/speckit.plan Implement as a RESTful microservice using Spring Boot. Use OpenAPI 3.0 for API specification. Database per service pattern with PostgreSQL. Event-driven communication via Kafka. Containerized with Docker.
```

#### AI åŠ©æ‰‹æœƒåšä»€éº¼

1. **è®€å– Spec** - ç†è§£åŠŸèƒ½éœ€æ±‚èˆ‡ç´„æŸ
2. **æª¢æŸ¥ Constitution** - ç¢ºä¿ç¬¦åˆå°ˆæ¡ˆå®ˆå‰‡
3. **å¥—ç”¨æ¨¡æ¿** - ä½¿ç”¨ `plan-template.md`
4. **ç”¢ç”Ÿ Plan** - åŒ…å«:
   - Technology Stack(æŠ€è¡“æ£§)
   - Architecture Overview(æ¶æ§‹æ¦‚è¿°)
   - Data Model(è³‡æ–™æ¨¡å‹)
   - API Contracts(ä»‹é¢å¥‘ç´„)
   - Phase Gates(æª¢æŸ¥é»)
   - Implementation Phases(å¯¦ä½œéšæ®µ)
5. **ç”¢ç”Ÿæ”¯æ´æ–‡ä»¶**:
   - `data-model.md` - è©³ç´°è³‡æ–™æ¨¡å‹
   - `contracts/*.yaml` - API è¦æ ¼
   - `research.md` - æŠ€è¡“é¸æ“‡ç ”ç©¶
   - `quickstart.md` - å¿«é€Ÿé©—è­‰æŒ‡å—

#### ç”¢ç”Ÿçš„ Plan çµæ§‹

**ç¯„ä¾‹:ç…§ç‰‡ç›¸ç°¿ç®¡ç† Plan**

```markdown
# Implementation Plan: Photo Album Management

## Metadata
- **Feature ID**: 001
- **Spec Version**: 1.0
- **Plan Version**: 1.0
- **Created**: 2025-10-29

---

## Phase -1: Pre-Implementation Gates

### Simplicity Gate (Article VII: Simplicity)
- [ ] **ä½¿ç”¨ â‰¤ 3 å€‹å°ˆæ¡ˆ?** âœ… æ˜¯(å–®ä¸€ Vite å°ˆæ¡ˆ)
- [ ] **ç„¡éåº¦è¨­è¨ˆ?** âœ… æ˜¯(æœ€å°åŒ–ä¾è³´)
- [ ] **é¿å…æœªä¾†é ç•™?** âœ… æ˜¯(åƒ…å¯¦ä½œç•¶å‰éœ€æ±‚)

**Justification**: æ¡ç”¨å–®ä¸€ Vite å°ˆæ¡ˆ,Vanilla JS + SQLite,ç¬¦åˆç°¡å–®åŸå‰‡ã€‚

### Anti-Abstraction Gate (Article VIII: Anti-Abstraction)
- [ ] **ç›´æ¥ä½¿ç”¨æ¡†æ¶ç‰¹æ€§?** âœ… æ˜¯(ä½¿ç”¨åŸç”Ÿ Drag & Drop API)
- [ ] **å–®ä¸€æ¨¡å‹è¡¨ç¤º?** âœ… æ˜¯(Album èˆ‡ Photo ç›´æ¥å°æ‡‰è³‡æ–™è¡¨)
- [ ] **é¿å…éæ—©æŠ½è±¡?** âœ… æ˜¯(ç„¡é¡å¤–æŠ½è±¡å±¤)

**Justification**: ä½¿ç”¨ç€è¦½å™¨åŸç”Ÿ API,è³‡æ–™æ¨¡å‹ç›´æ¥æ˜ å°„,ç„¡ä¸å¿…è¦æŠ½è±¡ã€‚

### Integration-First Gate (Article IX: Integration-First)
- [ ] **å¥‘ç´„å·²å®šç¾©?** âœ… æ˜¯(IndexedDB Schema å·²å®šç¾©)
- [ ] **æ•´åˆé»å·²è­˜åˆ¥?** âœ… æ˜¯(æª”æ¡ˆç³»çµ±å­˜å–)
- [ ] **æ¸¬è©¦ç­–ç•¥å·²è¦åŠƒ?** âœ… æ˜¯(è¦‹æ¸¬è©¦ç« ç¯€)

**Complexity Tracking**: ç„¡éœ€è¨˜éŒ„è¤‡é›œåº¦,ç¬¦åˆæ‰€æœ‰ Gatesã€‚

---

## Technology Stack

### Frontend
| Component | Technology | Version | Justification |
|-----------|-----------|---------|--------------|
| **Build Tool** | Vite | 5.x | å¿«é€Ÿé–‹ç™¼ã€HMRã€æœ€å°åŒ–é…ç½® |
| **èªè¨€** | JavaScript (ES6+) | - | ç¬¦åˆ Vanilla JS è¦æ±‚ |
| **CSS** | Vanilla CSS | - | ç„¡éœ€é è™•ç†å™¨,ä¿æŒç°¡å–® |
| **UI Framework** | ç„¡ | - | ä½¿ç”¨åŸç”Ÿ DOM API |

### Storage
| Component | Technology | Version | Justification |
|-----------|-----------|---------|--------------|
| **Metadata** | IndexedDB | - | ç€è¦½å™¨åŸç”Ÿ,æ”¯æ´è¤‡é›œæŸ¥è©¢ |
| **æª”æ¡ˆå­˜å–** | File System Access API | - | è®€å–æœ¬æ©Ÿç…§ç‰‡ |

### Development Tools
| Tool | Purpose |
|------|---------|
| **ESLint** | ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥ |
| **Prettier** | ç¨‹å¼ç¢¼æ ¼å¼åŒ– |
| **Vitest** | å–®å…ƒæ¸¬è©¦ |
| **Playwright** | E2E æ¸¬è©¦ |

### Browser Requirements
- Chrome 90+
- Firefox 88+
- Safari 14+

---

## Architecture Overview

### System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         User Interface              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Album    â”‚    â”‚   Photo      â”‚ â”‚
â”‚  â”‚  List     â”‚    â”‚   Grid       â”‚ â”‚
â”‚  â”‚  View     â”‚    â”‚   View       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                  â”‚
         â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Application Layer              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Album     â”‚    â”‚   Photo     â”‚ â”‚
â”‚  â”‚  Manager   â”‚    â”‚   Manager   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚
          â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Storage Layer                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ IndexedDB  â”‚    â”‚  File       â”‚ â”‚
â”‚  â”‚ (Metadata) â”‚    â”‚  System     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Module Structure

```text
src/
â”œâ”€â”€ index.html          # ä¸»é é¢
â”œâ”€â”€ main.js             # æ‡‰ç”¨å…¥å£
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ main.css        # å…¨åŸŸæ¨£å¼
â”‚   â”œâ”€â”€ album.css       # ç›¸ç°¿æ¨£å¼
â”‚   â””â”€â”€ photo.css       # ç…§ç‰‡æ¨£å¼
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ album-manager.js    # ç›¸ç°¿ç®¡ç†é‚è¼¯
â”‚   â”œâ”€â”€ photo-manager.js    # ç…§ç‰‡ç®¡ç†é‚è¼¯
â”‚   â”œâ”€â”€ drag-drop.js        # æ‹–æ”¾åŠŸèƒ½
â”‚   â””â”€â”€ storage.js          # IndexedDB å°è£
â””â”€â”€ utils/
    â”œâ”€â”€ image-loader.js     # åœ–ç‰‡è¼‰å…¥å„ªåŒ–
    â””â”€â”€ file-utils.js       # æª”æ¡ˆæ“ä½œå·¥å…·
```

---

## Data Model

### IndexedDB Schema

```javascript
// Database: PhotoAlbumDB, Version: 1

// Object Store: albums
{
  keyPath: 'id',
  autoIncrement: true,
  indexes: [
    { name: 'sortOrder', keyPath: 'sortOrder', unique: false },
    { name: 'createdAt', keyPath: 'createdAt', unique: false }
  ]
}

// Object Store: photos
{
  keyPath: 'id',
  autoIncrement: true,
  indexes: [
    { name: 'albumId', keyPath: 'albumId', unique: false },
    { name: 'filePath', keyPath: 'filePath', unique: true }
  ]
}
```

### Entity Definitions

**Album Entity**:

```javascript
{
  id: number,              // Auto-increment
  name: string,            // 1-50 characters
  createdAt: string,       // ISO 8601 format
  sortOrder: number,       // User-defined order
  thumbnailPath: string,   // Path to first photo or default icon
  photoCount: number       // Computed field
}
```

**Photo Entity**:

```javascript
{
  id: number,              // Auto-increment
  albumId: number,         // Foreign key to albums
  filePath: string,        // Absolute path to image file
  fileName: string,        // File name with extension
  fileSize: number,        // Size in bytes
  width: number,           // Image width in pixels
  height: number,          // Image height in pixels
  addedAt: string,         // ISO 8601 format
  thumbnailDataUrl: string // Base64 encoded thumbnail (200x200)
}
```

è©³ç´°è³‡æ–™æ¨¡å‹è«‹åƒé–±:[data-model.md](./data-model.md)

---

## API Contracts

### Internal API (JavaScript Modules)

**AlbumManager API**:

```javascript
class AlbumManager {
  /**
   * å»ºç«‹æ–°ç›¸ç°¿
   * @param {string} name - ç›¸ç°¿åç¨±
   * @returns {Promise<Album>}
   * @throws {ValidationError} åç¨±ç„¡æ•ˆ
   */
  async createAlbum(name) {}

  /**
   * å–å¾—æ‰€æœ‰ç›¸ç°¿
   * @returns {Promise<Album[]>}
   */
  async getAllAlbums() {}

  /**
   * æ›´æ–°ç›¸ç°¿æ’åº
   * @param {number[]} albumIds - æ–°çš„æ’åºé™£åˆ—
   * @returns {Promise<void>}
   */
  async updateAlbumOrder(albumIds) {}

  /**
   * åˆªé™¤ç›¸ç°¿
   * @param {number} albumId
   * @returns {Promise<void>}
   */
  async deleteAlbum(albumId) {}
}
```

**PhotoManager API**:

```javascript
class PhotoManager {
  /**
   * æ–°å¢ç…§ç‰‡åˆ°ç›¸ç°¿
   * @param {number} albumId
   * @param {File[]} files - åœ–ç‰‡æª”æ¡ˆ
   * @returns {Promise<Photo[]>}
   * @throws {ValidationError} æª”æ¡ˆæ ¼å¼ä¸æ”¯æ´
   */
  async addPhotos(albumId, files) {}

  /**
   * å–å¾—ç›¸ç°¿çš„æ‰€æœ‰ç…§ç‰‡
   * @param {number} albumId
   * @returns {Promise<Photo[]>}
   */
  async getPhotosByAlbum(albumId) {}

  /**
   * ç”¢ç”Ÿç¸®åœ–
   * @param {string} filePath
   * @returns {Promise<string>} Data URL
   */
  async generateThumbnail(filePath) {}
}
```

è©³ç´°å¥‘ç´„å®šç¾©è«‹åƒé–±:[contracts/](./contracts/)

---

## Non-Functional Requirements Implementation

### Performance Optimization

**NFR-001: ç›¸ç°¿åˆ—è¡¨è¼‰å…¥ < 500ms**

**ç­–ç•¥**:
- IndexedDB ç´¢å¼•å„ªåŒ–(sortOrder index)
- ç¸®åœ–é å…ˆç”¢ç”Ÿä¸¦å¿«å–
- è™›æ“¬æ»¾å‹•(è‹¥ç›¸ç°¿æ•¸ > 100)

**å¯¦ä½œ**:
```javascript
// ä½¿ç”¨ index åŠ é€ŸæŸ¥è©¢
const albums = await db.albums.index('sortOrder').getAll();

// åˆ†æ‰¹è¼‰å…¥ç¸®åœ–
const loadThumbnails = async (albums) => {
  for (let i = 0; i < albums.length; i += 10) {
    const batch = albums.slice(i, i + 10);
    await Promise.all(batch.map(loadThumbnail));
    renderBatch(batch);
  }
};
```

**NFR-002: ç…§ç‰‡ç¸®åœ–è¼‰å…¥ < 100ms**

**ç­–ç•¥**:
- Lazy Loading(Intersection Observer)
- ç¸®åœ–å„²å­˜ç‚º Data URL(200x200)
- ä½¿ç”¨ Web Worker ç”¢ç”Ÿç¸®åœ–

**å¯¦ä½œ**:
```javascript
// Intersection Observer for lazy loading
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      loadImage(entry.target);
      observer.unobserve(entry.target);
    }
  });
});
```

### Security

**æª”æ¡ˆç³»çµ±å­˜å–æ§åˆ¶**:
- ä½¿ç”¨ File System Access API(éœ€è¦ä½¿ç”¨è€…æ˜ç¢ºæˆæ¬Š)
- åƒ…è®€å–æ¬Šé™,ä¸ä¿®æ”¹åŸå§‹æª”æ¡ˆ
- é©—è­‰æª”æ¡ˆé¡å‹(MIME type checking)

```javascript
// é©—è­‰åœ–ç‰‡é¡å‹
const ALLOWED_TYPES = ['image/jpeg', 'image/png', 'image/webp'];

function validateFile(file) {
  if (!ALLOWED_TYPES.includes(file.type)) {
    throw new ValidationError(`ä¸æ”¯æ´çš„æª”æ¡ˆé¡å‹: ${file.type}`);
  }
  if (file.size > 50 * 1024 * 1024) { // 50MB
    throw new ValidationError('æª”æ¡ˆå¤§å°è¶…éé™åˆ¶(50MB)');
  }
}
```

### Error Handling

**éŒ¯èª¤é¡å‹**:
1. **ValidationError** - è¼¸å…¥é©—è­‰å¤±æ•—
2. **StorageError** - IndexedDB æ“ä½œå¤±æ•—
3. **FileAccessError** - æª”æ¡ˆå­˜å–å¤±æ•—

**éŒ¯èª¤è™•ç†ç­–ç•¥**:
```javascript
try {
  await albumManager.createAlbum(name);
} catch (error) {
  if (error instanceof ValidationError) {
    showUserMessage('ç›¸ç°¿åç¨±ç„¡æ•ˆ,è«‹æª¢æŸ¥å¾Œé‡è©¦');
  } else if (error instanceof StorageError) {
    showUserMessage('å„²å­˜å¤±æ•—,è«‹ç¢ºèªç€è¦½å™¨æ”¯æ´');
    logError(error);
  } else {
    showUserMessage('æœªé æœŸçš„éŒ¯èª¤,è«‹é‡æ–°æ•´ç†é é¢');
    logError(error);
  }
}
```

---

## Testing Strategy

### Test Pyramid

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   E2E   â”‚  (10%)
        â”‚  Tests  â”‚
     â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”
     â”‚  Integration  â”‚  (30%)
     â”‚     Tests     â”‚
  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”
  â”‚    Unit Tests       â”‚  (60%)
  â”‚                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Unit Tests (Vitest)

**æ¸¬è©¦ç¯„åœ**:
- AlbumManager æ‰€æœ‰æ–¹æ³•
- PhotoManager æ‰€æœ‰æ–¹æ³•
- Drag & Drop é‚è¼¯
- Storage æ“ä½œ

**ç¯„ä¾‹**:
```javascript
// album-manager.test.js
describe('AlbumManager', () => {
  it('should create album with valid name', async () => {
    const album = await albumManager.createAlbum('Vacation 2024');
    expect(album.name).toBe('Vacation 2024');
    expect(album.sortOrder).toBeDefined();
  });

  it('should throw ValidationError for empty name', async () => {
    await expect(albumManager.createAlbum('')).rejects.toThrow(ValidationError);
  });
});
```

### Integration Tests

**æ¸¬è©¦ç¯„åœ**:
- IndexedDB æ•´åˆ
- File System Access API æ•´åˆ
- UI èˆ‡é‚è¼¯å±¤æ•´åˆ

### E2E Tests (Playwright)

**æ¸¬è©¦å ´æ™¯**:
- ä½¿ç”¨è€…å»ºç«‹ç¬¬ä¸€å€‹ç›¸ç°¿
- ä½¿ç”¨è€…æ–°å¢ç…§ç‰‡åˆ°ç›¸ç°¿
- ä½¿ç”¨è€…æ‹–æ”¾æ’åºç›¸ç°¿
- ä½¿ç”¨è€…åˆªé™¤ç›¸ç°¿

**ç¯„ä¾‹**:
```javascript
// e2e/album-management.spec.js
test('user can create and sort albums', async ({ page }) => {
  await page.goto('/');
  
  // å»ºç«‹ç›¸ç°¿
  await page.click('[data-testid="create-album"]');
  await page.fill('[data-testid="album-name"]', 'Vacation');
  await page.click('[data-testid="confirm"]');
  
  // é©—è­‰ç›¸ç°¿å‡ºç¾
  await expect(page.locator('[data-testid="album-card"]')).toContainText('Vacation');
  
  // æ‹–æ”¾æ’åº
  await page.dragAndDrop(
    '[data-testid="album-1"]',
    '[data-testid="album-2"]'
  );
  
  // é‡æ–°è¼‰å…¥é©—è­‰æ’åºä¿æŒ
  await page.reload();
  // ... é©—è­‰æ’åº
});
```

---

## Implementation Phases

### Phase 0: Environment Setup (1 day)

**Tasks**:
- [ ] åˆå§‹åŒ– Vite å°ˆæ¡ˆ
- [ ] è¨­å®š ESLint + Prettier
- [ ] å»ºç«‹åŸºç¤ç›®éŒ„çµæ§‹
- [ ] è¨­å®š Vitest
- [ ] è¨­å®š Playwright

**Deliverables**:
- å¯åŸ·è¡Œçš„é–‹ç™¼ç’°å¢ƒ
- é€šéçš„ linting
- æ¸¬è©¦æ¡†æ¶å°±ç·’

### Phase 1: Storage Layer (2 days)

**Tasks**:
- [ ] å¯¦ä½œ IndexedDB wrapper
- [ ] å»ºç«‹ Album èˆ‡ Photo stores
- [ ] å¯¦ä½œ CRUD æ“ä½œ
- [ ] æ’°å¯«å–®å…ƒæ¸¬è©¦

**Deliverables**:
- `storage.js` æ¨¡çµ„
- å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 80%

### Phase 2: Album Management (3 days)

**Tasks**:
- [ ] å¯¦ä½œ AlbumManager
- [ ] å¯¦ä½œç›¸ç°¿åˆ—è¡¨ UI
- [ ] å¯¦ä½œå»ºç«‹/åˆªé™¤ç›¸ç°¿
- [ ] å¯¦ä½œæ‹–æ”¾æ’åº
- [ ] æ’°å¯«æ¸¬è©¦

**Deliverables**:
- å®Œæ•´çš„ç›¸ç°¿ç®¡ç†åŠŸèƒ½
- UI ç¬¦åˆè¨­è¨ˆ
- æ¸¬è©¦è¦†è“‹ç‡ > 80%

### Phase 3: Photo Management (3 days)

**Tasks**:
- [ ] å¯¦ä½œ PhotoManager
- [ ] å¯¦ä½œç…§ç‰‡ä¸Šå‚³(æª”æ¡ˆé¸æ“‡)
- [ ] å¯¦ä½œç¸®åœ–ç”¢ç”Ÿ
- [ ] å¯¦ä½œç…§ç‰‡ç¶²æ ¼é¡¯ç¤º
- [ ] å¯¦ä½œ Lazy Loading
- [ ] æ’°å¯«æ¸¬è©¦

**Deliverables**:
- å®Œæ•´çš„ç…§ç‰‡ç®¡ç†åŠŸèƒ½
- æ•ˆèƒ½ç¬¦åˆ NFR
- æ¸¬è©¦è¦†è“‹ç‡ > 80%

### Phase 4: Integration & Optimization (2 days)

**Tasks**:
- [ ] æ•´åˆæ¸¬è©¦
- [ ] æ•ˆèƒ½å„ªåŒ–
- [ ] éŒ¯èª¤è™•ç†å®Œå–„
- [ ] E2E æ¸¬è©¦

**Deliverables**:
- æ‰€æœ‰æ¸¬è©¦é€šé
- æ•ˆèƒ½é”æ¨™
- å®Œæ•´çš„éŒ¯èª¤è™•ç†

### Phase 5: Documentation & Deployment (1 day)

**Tasks**:
- [ ] æ’°å¯« README
- [ ] API æ–‡ä»¶
- [ ] ä½¿ç”¨è€…æŒ‡å—
- [ ] å»ºç«‹ç”Ÿç”¢æ§‹å»º

**Deliverables**:
- å®Œæ•´æ–‡ä»¶
- å¯éƒ¨ç½²çš„ç”¢å‡ºç‰©

---

## Risk Mitigation

| é¢¨éšª | ç·©è§£æªæ–½ | è² è²¬äºº |
|------|---------|-------|
| ç€è¦½å™¨ç›¸å®¹æ€§ | ä½¿ç”¨ Polyfill,æ˜ç¢ºæ¨™ç¤ºæ”¯æ´ç‰ˆæœ¬ | å‰ç«¯é–‹ç™¼ |
| å¤§é‡ç…§ç‰‡æ•ˆèƒ½ | è™›æ“¬æ»¾å‹•ã€åˆ†é ã€Web Worker | å‰ç«¯é–‹ç™¼ |
| IndexedDB é…é¡ | æé†’ä½¿ç”¨è€…ã€æä¾›æ¸…ç†å·¥å…· | å‰ç«¯é–‹ç™¼ |
| æª”æ¡ˆè¢«ç§»å‹•/åˆªé™¤ | éŒ¯èª¤åµæ¸¬ã€é‡æ–°é€£çµåŠŸèƒ½ | å‰ç«¯é–‹ç™¼ |

---

## Dependencies

### External Libraries

```json
{
  "dependencies": {},
  "devDependencies": {
    "vite": "^5.0.0",
    "vitest": "^1.0.0",
    "@playwright/test": "^1.40.0",
    "eslint": "^8.50.0",
    "prettier": "^3.0.0"
  }
}
```

**Note**: åˆ»æ„æœ€å°åŒ–ä¾è³´,ç¬¦åˆå°ˆæ¡ˆå®ˆå‰‡ã€‚

---

## Monitoring & Observability

é›–ç‚ºæœ¬æ©Ÿæ‡‰ç”¨,ä»éœ€åŸºæœ¬ç›£æ§:

**Client-Side Logging**:
```javascript
// è¨˜éŒ„é—œéµæ“ä½œèˆ‡éŒ¯èª¤
logger.info('Album created', { albumId, name });
logger.error('Photo load failed', { photoId, error });
```

**Performance Metrics**:
- ç›¸ç°¿åˆ—è¡¨è¼‰å…¥æ™‚é–“
- ç…§ç‰‡è¼‰å…¥æ™‚é–“
- æ‹–æ”¾æ“ä½œå»¶é²

**å„²å­˜æ–¼ localStorage** ä¾›é–‹ç™¼è€…æª¢è¦–ã€‚

---

## Quickstart Validation

å¿«é€Ÿé©—è­‰å¯¦ä½œæ˜¯å¦ç¬¦åˆ Spec,åƒé–±:[quickstart.md](./quickstart.md)

**æ ¸å¿ƒé©—è­‰å ´æ™¯**:
1. å»ºç«‹ç›¸ç°¿æˆåŠŸ
2. æ–°å¢ç…§ç‰‡æˆåŠŸ
3. æ‹–æ”¾æ’åºæˆåŠŸ
4. åˆªé™¤ç›¸ç°¿æˆåŠŸ
5. æ•ˆèƒ½ç¬¦åˆ NFR

---

**Plan å¯©æ ¸æª¢æŸ¥æ¸…å–®**:
- [ ] æ‰€æœ‰æŠ€è¡“é¸æ“‡æœ‰æ˜ç¢ºç†ç”±
- [ ] ç¬¦åˆå°ˆæ¡ˆ Constitution
- [ ] è³‡æ–™æ¨¡å‹å®Œæ•´å®šç¾©
- [ ] API å¥‘ç´„æ¸…æ™°
- [ ] æ¸¬è©¦ç­–ç•¥å®Œå–„
- [ ] é¢¨éšªå·²è­˜åˆ¥ä¸¦æœ‰ç·©è§£æªæ–½
- [ ] å¯¦ä½œéšæ®µåˆç†å¯è¡Œ
```

#### Plan çš„é—œéµå…ƒç´ 

**âœ… å¿…é ˆåŒ…å«**:

1. **Phase -1 Gates** - ç¢ºä¿ç¬¦åˆ Constitution
2. **Technology Stack** - æ˜ç¢ºä¸”æœ‰ç†ç”±
3. **Architecture Diagram** - è¦–è¦ºåŒ–ç³»çµ±çµæ§‹
4. **Data Model** - å®Œæ•´çš„å¯¦é«”å®šç¾©
5. **API Contracts** - ä»‹é¢è¦æ ¼
6. **Testing Strategy** - æ¸¬è©¦é‡‘å­—å¡”
7. **Implementation Phases** - åˆ†éšæ®µè¨ˆç•«
8. **Risk Mitigation** - é¢¨éšªèˆ‡æ‡‰å°

**âŒ é¿å…**:

- âŒ éåº¦è©³ç´°çš„ç¨‹å¼ç¢¼(æ‡‰åœ¨ implementation-details/ ä¸­)
- âŒ æœªç¶“è©•ä¼°çš„æŠ€è¡“é¸æ“‡
- âŒ é•å Constitution ä¸”æœªè¨˜éŒ„ä¾‹å¤–
- âŒ æ¨¡ç³Šçš„éšæ®µå®šç¾©(ã€ŒPhase 1: å¯¦ä½œæ ¸å¿ƒåŠŸèƒ½ã€å¤ªç± çµ±)

#### å¯¦å‹™å»ºè­°

**1. Constitution Compliance æ˜¯å¼·åˆ¶çš„**

Plan å¿…é ˆé€šéæ‰€æœ‰ Pre-Implementation Gates,è‹¥ç„¡æ³•é€šé:

```markdown
### Simplicity Gate
- [ ] ä½¿ç”¨ â‰¤ 3 å€‹å°ˆæ¡ˆ? âŒ å¦(éœ€è¦ 5 å€‹å¾®æœå‹™)

**Exception Justification**:
å› ç‚ºéœ€è¦æ”¯æ´ 10 å€‹æ—¢æœ‰ç³»çµ±æ•´åˆ,å–®é«”æ¶æ§‹ç„¡æ³•æ»¿è¶³:
1. ç¨ç«‹éƒ¨ç½²éœ€æ±‚
2. ä¸åŒåœ˜éšŠç¶­è­·
3. æŠ€è¡“æ£§å¤šæ¨£æ€§

å·²è¨˜éŒ„æ–¼ Complexity Tracking,ç¶“æ¶æ§‹å¸«æ ¸å‡†ã€‚
```

**2. æŠ€è¡“é¸æ“‡è¦æœ‰å°æ¯”**

ä¸è¦åªåˆ—é¸æ“‡,è¦èªªæ˜ã€Œç‚ºä½•é¸é€™å€‹è€Œéé‚£å€‹ã€:

```markdown
### Database Selection

**Selected**: PostgreSQL

**Alternatives Considered**:
| Option | Pros | Cons | Decision |
|--------|------|------|----------|
| MySQL | åœ˜éšŠç†Ÿæ‚‰ | JSON æ”¯æ´è¼ƒå¼± | âŒ |
| MongoDB | å½ˆæ€§ schema | äº‹å‹™æ”¯æ´æœ‰é™ | âŒ |
| PostgreSQL | JSONB + å¼·äº‹å‹™ | å­¸ç¿’æ›²ç·š | âœ… |
```

**3. æ¶æ§‹åœ–è¦æ¸…æ™°**

ä½¿ç”¨ ASCII art æˆ– Mermaid:

```mermaid
%%{init: {'theme':'dark'}}%%
graph LR
    A[å‰ç«¯] --> B[API Gateway]
    B --> C[Auth Service]
    B --> D[Order Service]
    D --> E[(PostgreSQL)]
    D --> F[Message Queue]
```

**4. Phase è¦æœ‰æ˜ç¢ºç”¢å‡ºç‰©**

```markdown
### Phase 2: User Management (5 days)

**Tasks**:
- [ ] å¯¦ä½œ UserService
- [ ] å¯¦ä½œè¨»å†Š API
- [ ] å¯¦ä½œç™»å…¥ API
- [ ] æ’°å¯«å–®å…ƒæ¸¬è©¦

**Deliverables**:
- [ ] UserService.java (å«æ¸¬è©¦è¦†è“‹ç‡ > 80%)
- [ ] POST /api/v1/users (è¨»å†Š)
- [ ] POST /api/v1/auth/login (ç™»å…¥)
- [ ] API æ–‡ä»¶(OpenAPI è¦æ ¼)

**Acceptance**:
- [ ] æ‰€æœ‰æ¸¬è©¦é€šé
- [ ] API å›æ‡‰æ™‚é–“ < 200ms
- [ ] Code review å®Œæˆ
```

---

### 3.4 Step 3:æ‹†åˆ† Tasks (/speckit.tasks)

å°‡ Plan æ‹†è§£æˆå¯åŸ·è¡Œçš„å…·é«”ä»»å‹™ã€‚

#### ä½•æ™‚ä½¿ç”¨ Tasks

- âœ… Plan å·²å®Œæˆä¸¦ç¶“å¯©æŸ¥
- âœ… æº–å‚™é–‹å§‹å¯¦ä½œ
- âœ… éœ€è¦åˆ†é…å·¥ä½œçµ¦åœ˜éšŠæˆå“¡
- âœ… éœ€è¦ä¼°ç®—æ™‚é–“èˆ‡è¿½è¹¤é€²åº¦

#### æŒ‡ä»¤æ ¼å¼

```bash
/speckit.tasks
```

(ä¸éœ€åƒæ•¸,AI æœƒè®€å–ç•¶å‰åŠŸèƒ½çš„ Plan èˆ‡ç›¸é—œæ–‡ä»¶)

#### AI åŠ©æ‰‹æœƒåšä»€éº¼

1. **è®€å– Plan** - åˆ†æ Implementation Phases
2. **è®€å–æ”¯æ´æ–‡ä»¶** - data-model.mdã€contracts/ ç­‰
3. **æ‹†åˆ†ä»»å‹™** - å°‡æ¯å€‹ Phase æ‹†æˆå…·é«” Task
4. **è­˜åˆ¥ä¾è³´** - æ¨™è¨˜ä»»å‹™é–“çš„ä¾è³´é—œä¿‚
5. **æ¨™è¨˜ä¸¦è¡Œ** - ä½¿ç”¨ `[P]` æ¨™è¨˜å¯ä¸¦è¡Œä»»å‹™
6. **ç”¢ç”Ÿ tasks.md** - çµæ§‹åŒ–ä»»å‹™æ¸…å–®

#### ç”¢ç”Ÿçš„ Tasks çµæ§‹

**ç¯„ä¾‹:ç…§ç‰‡ç›¸ç°¿ç®¡ç† Tasks(ç¯€éŒ„)**

```markdown
# Tasks: Photo Album Management

## Metadata
- **Feature ID**: 001
- **Total Estimated**: 12 days
- **Dependencies**: è¦‹å„ä»»å‹™èªªæ˜

---

## Phase 0: Environment Setup

### Task 1: [P] åˆå§‹åŒ– Vite å°ˆæ¡ˆ
**ID**: T001  
**Depends on**: None  
**Parallel Safe**: Yes  
**Estimated**: 2 hours  
**Assignee**: TBD

**Description**:
å»ºç«‹ Vite å°ˆæ¡ˆ,è¨­å®šåŸºç¤é…ç½®

**Acceptance Criteria**:
- [ ] `npm create vite@latest` åŸ·è¡ŒæˆåŠŸ
- [ ] é–‹ç™¼ä¼ºæœå™¨å¯å•Ÿå‹•(`npm run dev`)
- [ ] å¯è¨ªå• http://localhost:5173
- [ ] Hot Module Replacement(HMR)æ­£å¸¸é‹ä½œ

**Implementation Notes**:
```bash
npm create vite@latest photo-album -- --template vanilla
cd photo-album
npm install
npm run dev
```

---

### Task 2: [P] è¨­å®šç¨‹å¼ç¢¼å“è³ªå·¥å…·
**ID**: T002  
**Depends on**: None  
**Parallel Safe**: Yes  
**Estimated**: 2 hours  
**Assignee**: TBD

**Description**:
è¨­å®š ESLintã€Prettier ç¢ºä¿ç¨‹å¼ç¢¼å“è³ª

**Acceptance Criteria**:
- [ ] ESLint è¨­å®šå®Œæˆ(`.eslintrc.json`)
- [ ] Prettier è¨­å®šå®Œæˆ(`.prettierrc`)
- [ ] `npm run lint` æŒ‡ä»¤å¯åŸ·è¡Œ
- [ ] `npm run format` æŒ‡ä»¤å¯åŸ·è¡Œ
- [ ] VS Code æ•´åˆæ­£å¸¸

---

## Phase 2: Album Management

### Task 7: [P] å¯¦ä½œ AlbumManager æ ¸å¿ƒé‚è¼¯
**ID**: T007  
**Depends on**: T006  
**Parallel Safe**: Yes (èˆ‡ T008 ä¸¦è¡Œ)  
**Estimated**: 4 hours  
**Assignee**: TBD

**Description**:
å¯¦ä½œç›¸ç°¿ç®¡ç†æ¥­å‹™é‚è¼¯

**Acceptance Criteria**:
- [ ] AlbumManager é¡åˆ¥å»ºç«‹
- [ ] createAlbum() æ–¹æ³•å¯¦ä½œ
- [ ] getAllAlbums() æ–¹æ³•å¯¦ä½œ
- [ ] updateAlbumOrder() æ–¹æ³•å¯¦ä½œ
- [ ] deleteAlbum() æ–¹æ³•å¯¦ä½œ
- [ ] è¼¸å…¥é©—è­‰å®Œæ•´
- [ ] å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 80%

**Testing**:
- æ¸¬è©¦å»ºç«‹ç›¸ç°¿(æ­£å¸¸ + ç•°å¸¸)
- æ¸¬è©¦å–å¾—ç›¸ç°¿åˆ—è¡¨
- æ¸¬è©¦æ›´æ–°æ’åº
- æ¸¬è©¦åˆªé™¤ç›¸ç°¿

---

### Task 8: [P] å¯¦ä½œç›¸ç°¿åˆ—è¡¨ UI
**ID**: T008  
**Depends on**: T003  
**Parallel Safe**: Yes (èˆ‡ T007 ä¸¦è¡Œ)  
**Estimated**: 6 hours  
**Assignee**: TBD

**Description**:
å¯¦ä½œç›¸ç°¿åˆ—è¡¨é¡¯ç¤ºä»‹é¢

**Acceptance Criteria**:
- [ ] HTML çµæ§‹å»ºç«‹
- [ ] CSS æ¨£å¼ç¬¦åˆè¨­è¨ˆ
- [ ] ç›¸ç°¿å¡ç‰‡å…ƒä»¶
- [ ] éŸ¿æ‡‰å¼ä½ˆå±€(æ¡Œé¢/å¹³æ¿/æ‰‹æ©Ÿ)
- [ ] è¼‰å…¥ç‹€æ…‹é¡¯ç¤º
- [ ] ç©ºç‹€æ…‹é¡¯ç¤º

---

## Task Summary

### By Phase
- **Phase 0**: 4 tasks, 8 hours
- **Phase 1**: 2 tasks, 8 hours
- **Phase 2**: 5 tasks, 23 hours
- **Phase 3**: 5 tasks, 24 hours
- **Phase 4**: 3 tasks, 18 hours
- **Phase 5**: 2 tasks, 6 hours

### Total
- **Tasks**: 21
- **Estimated**: ~87 hours (~11 å·¥ä½œå¤©)
- **Parallel Tasks**: 10 (æ¨™è¨˜ [P])

### Critical Path
T001 â†’ T004 â†’ T005 â†’ T006 â†’ T007 â†’ T009 â†’ T011 â†’ T016 â†’ T017 â†’ T018 â†’ T019

### Parallel Opportunities

**Group 1: Environment Setup (å¯åŒæ™‚é€²è¡Œ)**
- T001: åˆå§‹åŒ–å°ˆæ¡ˆ
- T002: è¨­å®šå·¥å…·
- T004: è¨­å®šæ¸¬è©¦

**Group 2: UI Development (å¯åŒæ™‚é€²è¡Œ)**
- T008: ç›¸ç°¿åˆ—è¡¨ UI
- T014: ç…§ç‰‡ç¶²æ ¼ UI

**Group 3: Core Logic (å¯åŒæ™‚é€²è¡Œ)**
- T007: AlbumManager
- T012: PhotoManager
- T013: ç¸®åœ–ç”¢ç”Ÿå™¨
```

#### Tasks çš„å“è³ªæ¨™æº–

**âœ… å¥½çš„ Task ç‰¹å¾µ**:

1. **åŸå­æ€§** - å–®ä¸€ä»»å‹™,å–®ä¸€ç›®æ¨™
2. **å¯ä¼°æ™‚** - 2-8 å°æ™‚å¯å®Œæˆ
3. **å¯é©—è­‰** - æ˜ç¢ºçš„ Acceptance Criteria
4. **ä¾è³´æ¸…æ¥š** - çŸ¥é“å“ªäº›ä»»å‹™å¿…é ˆå…ˆå®Œæˆ
5. **å¯åˆ†é…** - ä¸€å€‹äººå¯ç¨ç«‹å®Œæˆ

**âŒ é¿å…çš„ Task**:

- âŒ ã€Œå¯¦ä½œæ‰€æœ‰åŠŸèƒ½ã€(å¤ªå¤§)
- âŒ ã€Œå„ªåŒ–æ•ˆèƒ½ã€(ä¸æ˜ç¢º)
- âŒ ã€Œä¿® bugã€(éè¨ˆç•«æ€§)
- âŒ æ²’æœ‰ Acceptance Criteria

#### ä¸¦è¡Œä»»å‹™è¦åŠƒ

**è­˜åˆ¥å¯ä¸¦è¡Œä»»å‹™**:

```markdown
## Parallel Group 1: Phase 0 Setup
å¯åŒæ™‚ç”±ä¸åŒäººåŸ·è¡Œ:
- [P] T001: åˆå§‹åŒ–å°ˆæ¡ˆ
- [P] T002: è¨­å®šå·¥å…·
- [P] T003: å»ºç«‹ç›®éŒ„
- [P] T004: è¨­å®šæ¸¬è©¦

å»ºè­°:4 äºº 2 å°æ™‚å…§å®Œæˆæ‰€æœ‰ Setup
```

**å¥½è™•**:
- ç¸®çŸ­ç¸½é–‹ç™¼æ™‚é–“
- åœ˜éšŠæˆå“¡å¯å¹³è¡Œä½œæ¥­
- æå‡æ•ˆç‡

#### å¯¦å‹™å»ºè­°

**1. Task ID ç·¨è™Ÿç³»çµ±**

```markdown
T001-T099: Phase 0-1 (åŸºç¤å»ºè¨­)
T100-T199: Phase 2 (æ ¸å¿ƒåŠŸèƒ½)
T200-T299: Phase 3 (é€²éšåŠŸèƒ½)
T300-T399: Phase 4 (æ•´åˆå„ªåŒ–)
T400-T499: Phase 5 (æ–‡ä»¶éƒ¨ç½²)
```

**2. ä¼°æ™‚æŠ€å·§**

- ä½¿ç”¨æ–æ³¢é‚£å¥‘æ•¸åˆ—:1ã€2ã€3ã€5ã€8ã€13 å°æ™‚
- è‹¥è¶…é 8 å°æ™‚,è€ƒæ…®æ‹†åˆ†
- é ç•™ 20% buffer(è¨ˆç•«å¤–å·¥ä½œ)

**3. è¿½è¹¤é€²åº¦**

```markdown
## Task Status Tracking

| Task | Assignee | Status | Actual Hours | Notes |
|------|----------|--------|--------------|-------|
| T001 | Alice | âœ… Done | 1.5 | - |
| T002 | Bob | ğŸš§ In Progress | 1.0 | - |
| T003 | Carol | â³ Pending | - | Waiting for T001 |
```

ä½¿ç”¨ GitHub Projectsã€Jira æˆ–ç°¡å–®çš„ Markdown è¡¨æ ¼ã€‚

**4. æ¯æ—¥ç«™æœƒæ‡‰ç”¨**

```text
æ˜¨å¤©:å®Œæˆ T005 (IndexedDB Wrapper),æ¸¬è©¦è¦†è“‹ç‡ 85%
ä»Šå¤©:é–‹å§‹ T007 (AlbumManager),é è¨ˆä¸‹åˆå®Œæˆ
é˜»ç¤™:ç„¡
```

---

### 3.5 Step 4:é å¯¦ä½œæª¢æŸ¥ (/speckit.analyze + /speckit.checklist)

åœ¨å¯¦ä½œå‰é€²è¡Œä¸€è‡´æ€§åˆ†æèˆ‡å“è³ªæª¢æŸ¥ã€‚

#### ä½•æ™‚ä½¿ç”¨

- âœ… Tasks å·²å®Œæˆ
- âœ… æº–å‚™é–‹å§‹å¯¦ä½œå‰
- âœ… æƒ³ç¢ºä¿ Spec â†” Plan â†” Tasks ä¸€è‡´
- âœ… è­˜åˆ¥éºæ¼æˆ–çŸ›ç›¾

#### æŒ‡ä»¤ 1:/speckit.analyze

**ç”¨é€”**:è·¨å·¥ä»¶ä¸€è‡´æ€§åˆ†æ

```bash
/speckit.analyze
```

**AI æœƒæª¢æŸ¥**:

1. **Spec â†’ Plan å°æ‡‰**
   - Plan æ˜¯å¦æ¶µè“‹æ‰€æœ‰ User Stories?
   - Plan çš„æŠ€è¡“é¸æ“‡æ˜¯å¦æ”¯æ´ NFR?

2. **Plan â†’ Tasks å°æ‡‰**
   - Tasks æ˜¯å¦æ¶µè“‹ Plan çš„æ‰€æœ‰ Phases?
   - éºæ¼çš„å¯¦ä½œé …ç›®?

3. **Constitution åˆè¦**
   - Plan æ˜¯å¦é•åå°ˆæ¡ˆå®ˆå‰‡?
   - Tasks æ˜¯å¦éµå¾ª TDD åŸå‰‡?

**è¼¸å‡ºç¯„ä¾‹**:

```markdown
# Consistency Analysis Report

## âœ… Aligned Items (17)

### Spec US-001 â†’ Plan Phase 2 â†’ Tasks T007-T011
- User Storyã€Œå»ºç«‹ç›¸ç°¿ã€å®Œæ•´å°æ‡‰
- Plan å®šç¾© AlbumManager å¯¦ä½œ
- Tasks æ‹†åˆ†ç‚º 5 å€‹å…·é«”ä»»å‹™

### Spec NFR-001 â†’ Plan Performance Section â†’ Task T018
- NFRã€Œç›¸ç°¿åˆ—è¡¨è¼‰å…¥ < 500msã€
- Plan å®šç¾© IndexedDB ç´¢å¼•å„ªåŒ–
- Task T018 å°ˆé–€è™•ç†æ•ˆèƒ½å„ªåŒ–

## âš ï¸ Potential Gaps (3)

### Gap 1: Mobile Drag-Drop Alternative
- **Spec**: US-003 æåˆ°è¡Œå‹•è£ç½®æ’åº
- **Plan**: åƒ…å¯¦ä½œæ¡Œé¢æ‹–æ”¾
- **Tasks**: ç„¡è¡Œå‹•ç‰ˆæœ¬å¯¦ä½œä»»å‹™
- **Recommendation**: æ–°å¢ Task å¯¦ä½œè¡Œå‹•è£ç½®æ’åº(å¦‚ä¸Šä¸‹ç®­é ­æŒ‰éˆ•)

### Gap 2: Photo File Not Found Handling
- **Spec**: Riskã€Œç…§ç‰‡æª”æ¡ˆè¢«ç§»å‹•ã€
- **Plan**: æåˆ°éŒ¯èª¤åµæ¸¬,ä½†ç„¡è©³ç´°è¨­è¨ˆ
- **Tasks**: ç„¡ç›¸é—œå¯¦ä½œä»»å‹™
- **Recommendation**: æ–°å¢éŒ¯èª¤è™•ç† Task,å¯¦ä½œé‡æ–°é€£çµåŠŸèƒ½

### Gap 3: Album Export Feature
- **Spec**: åœ¨ Open Questions æåˆ°å¯èƒ½éœ€è¦
- **Plan**: æœªåŒ…å«
- **Tasks**: æœªåŒ…å«
- **Recommendation**: è‹¥éœ€è¦,è£œå……åˆ° Plan v2.0;è‹¥ä¸éœ€è¦,ç§»è‡³ Out of Scope

## âŒ Conflicts (1)

### Conflict 1: Testing Coverage Mismatch
- **Constitution**: è¦æ±‚æ¸¬è©¦è¦†è“‹ç‡ > 80%
- **Tasks**: T007ã€T012 æœ‰æ˜ç¢ºæ¸¬è©¦è¦æ±‚
- **Tasks**: T008ã€T014 (UI ä»»å‹™)æœªæåŠæ¸¬è©¦
- **Recommendation**: è£œå…… UI æ¸¬è©¦è¦æ±‚(æ•´åˆæ¸¬è©¦æˆ– E2E)

## ğŸ“Š Coverage Summary

| Artifact | Coverage |
|----------|----------|
| User Stories â†’ Plan | 100% (4/4) |
| User Stories â†’ Tasks | 100% (4/4) |
| Plan Phases â†’ Tasks | 100% (5/5) |
| NFRs â†’ Plan | 100% (3/3) |
| NFRs â†’ Tasks | 66% (2/3) |
| Constitution â†’ Plan | 100% |
| Constitution â†’ Tasks | 90% |

## ğŸ¯ Recommendations

1. **High Priority**
   - è£œå……è¡Œå‹•è£ç½®æ’åºåŠŸèƒ½
   - è£œå……æª”æ¡ˆéŒ¯èª¤è™•ç†æ©Ÿåˆ¶
   - çµ±ä¸€æ¸¬è©¦è¦†è“‹ç‡è¦æ±‚

2. **Medium Priority**
   - æ¾„æ¸…ç›¸ç°¿åŒ¯å‡ºéœ€æ±‚
   - è£œå…… UI æ¸¬è©¦ç­–ç•¥

3. **Low Priority**
   - ç„¡

## âœ… Ready for Implementation?

**Status**: âš ï¸ With Recommendations

å»ºè­°å…ˆè™•ç† High Priority é …ç›®,å†é–‹å§‹å¯¦ä½œã€‚
```

#### æŒ‡ä»¤ 2:/speckit.checklist

**ç”¨é€”**:ç”¢ç”Ÿå“è³ªæª¢æŸ¥æ¸…å–®

```bash
/speckit.checklist
```

**AI æœƒç”¢ç”Ÿ**:

```markdown
# Quality Checklist: Photo Album Management

## ğŸ“‹ Specification Completeness

### Requirements Clarity
- [ ] âœ… æ‰€æœ‰ User Stories æ¸…æ¥šæ˜“æ‡‚
- [ ] âœ… Acceptance Criteria å¯æ¸¬è©¦
- [ ] âœ… ç„¡ [NEEDS CLARIFICATION] æ®˜ç•™
- [ ] âš ï¸ è¡Œå‹•è£ç½® UX éœ€è£œå……èªªæ˜
- [ ] âš ï¸ æª”æ¡ˆéŒ¯èª¤è™•ç†éœ€æ˜ç¢º

### Non-Functional Requirements
- [ ] âœ… æ•ˆèƒ½æŒ‡æ¨™å·²å®šç¾©(å›æ‡‰æ™‚é–“ã€è¼‰å…¥æ™‚é–“)
- [ ] âœ… å¯ç”¨æ€§éœ€æ±‚æ˜ç¢º
- [ ] âœ… å®‰å…¨éœ€æ±‚æ¶µè“‹(æª”æ¡ˆé©—è­‰)
- [ ] âœ… ç›¸å®¹æ€§éœ€æ±‚æ˜ç¢º(ç€è¦½å™¨ç‰ˆæœ¬)

### Boundaries
- [ ] âœ… Out of Scope æ¸…æ¥šåˆ—å‡º
- [ ] âœ… ä¾è³´é—œä¿‚å·²è­˜åˆ¥
- [ ] âœ… é¢¨éšªå·²è©•ä¼°

## ğŸ—ï¸ Architecture & Design

### Technology Stack
- [ ] âœ… æ‰€æœ‰æŠ€è¡“é¸æ“‡æœ‰ç†ç”±
- [ ] âœ… ç¬¦åˆåœ˜éšŠæŠ€èƒ½çµ„åˆ
- [ ] âœ… ç„¡å¼•å…¥ä¸å¿…è¦ä¾è³´

### Architecture Principles
- [ ] âœ… ç¬¦åˆ Constitution Article I (Library-First)
- [ ] âœ… ç¬¦åˆ Article VII (Simplicity)
- [ ] âœ… ç¬¦åˆ Article VIII (Anti-Abstraction)
- [ ] âœ… é€šéæ‰€æœ‰ Pre-Implementation Gates

### Data Model
- [ ] âœ… å¯¦é«”å®šç¾©å®Œæ•´
- [ ] âœ… é—œè¯é—œä¿‚æ¸…æ¥š
- [ ] âœ… ç´¢å¼•è¨­è¨ˆåˆç†
- [ ] âš ï¸ é·ç§»ç­–ç•¥éœ€è£œå……(æœªä¾†ç‰ˆæœ¬)

### API Contracts
- [ ] âœ… ä»‹é¢å®šç¾©å®Œæ•´
- [ ] âœ… åƒæ•¸å‹åˆ¥æ˜ç¢º
- [ ] âœ… éŒ¯èª¤è™•ç†å®šç¾©
- [ ] âœ… ç¯„ä¾‹æä¾›

## ğŸ§ª Testing Strategy

### Test Coverage
- [ ] âœ… å–®å…ƒæ¸¬è©¦è¨ˆç•«å®Œæ•´
- [ ] âš ï¸ UI æ•´åˆæ¸¬è©¦éœ€è£œå……
- [ ] âœ… E2E æ¸¬è©¦å ´æ™¯æ¶µè“‹
- [ ] âœ… æ•ˆèƒ½æ¸¬è©¦è¨ˆç•«

### Test-Driven Development
- [ ] âœ… ç¬¦åˆ Constitution Article III (TDD)
- [ ] âœ… æ¸¬è©¦å„ªå…ˆé †åºæ˜ç¢º
- [ ] âœ… å¥‘ç´„æ¸¬è©¦è¨ˆç•«(å¦‚é©ç”¨)

## ğŸ”’ Security

### Input Validation
- [ ] âœ… æª”æ¡ˆé¡å‹é©—è­‰
- [ ] âœ… æª”æ¡ˆå¤§å°é™åˆ¶
- [ ] âœ… ç›¸ç°¿åç¨±é©—è­‰

### Data Protection
- [ ] âœ… ç„¡æ•æ„Ÿè³‡æ–™å‚³è¼¸(ç´”æœ¬æ©Ÿ)
- [ ] âœ… ä½¿ç”¨è€…æˆæ¬Šæ©Ÿåˆ¶(File System API)

### Known Vulnerabilities
- [ ] âœ… ä¾è³´å¥—ä»¶å®‰å…¨æª¢æŸ¥(ç„¡ç¬¬ä¸‰æ–¹ä¾è³´)

## âš¡ Performance

### Load Time
- [ ] âœ… ç›¸ç°¿åˆ—è¡¨è¼‰å…¥ç›®æ¨™æ˜ç¢º(< 500ms)
- [ ] âœ… ç…§ç‰‡è¼‰å…¥ç›®æ¨™æ˜ç¢º(< 100ms/å¼µ)
- [ ] âœ… å„ªåŒ–ç­–ç•¥å®šç¾©

### Scalability
- [ ] âœ… å¤§é‡è³‡æ–™æ¸¬è©¦è¨ˆç•«(1000 ç›¸ç°¿ã€10000 ç…§ç‰‡)
- [ ] âœ… æ•ˆèƒ½ç“¶é ¸è­˜åˆ¥
- [ ] âœ… å„ªåŒ–å‚™æ¡ˆ(è™›æ“¬æ»¾å‹•)

## ğŸ“± Usability & Accessibility

### User Experience
- [ ] âœ… éŸ¿æ‡‰å¼è¨­è¨ˆè¨ˆç•«
- [ ] âš ï¸ è¡Œå‹•è£ç½®äº’å‹•éœ€è£œå……
- [ ] âœ… è¼‰å…¥ç‹€æ…‹è¦–è¦ºå›é¥‹
- [ ] âœ… éŒ¯èª¤è¨Šæ¯å‹å–„

### Accessibility (å¯é¸)
- [ ] âšª ARIA æ¨™ç±¤(æœ¬ç‰ˆæœ¬æœªè¦æ±‚)
- [ ] âšª éµç›¤å°èˆª(æœ¬ç‰ˆæœ¬æœªè¦æ±‚)

## ğŸ“¦ Deployment & Operations

### Build Process
- [ ] âœ… ç”Ÿç”¢æ§‹å»ºè¨­å®š
- [ ] âœ… æª”æ¡ˆå„ªåŒ–ç­–ç•¥

### Monitoring (æœ‰é™)
- [ ] âœ… å®¢æˆ¶ç«¯æ—¥èªŒè¨ˆç•«
- [ ] âœ… æ•ˆèƒ½æŒ‡æ¨™æ”¶é›†

## ğŸ“š Documentation

### Developer Documentation
- [ ] âœ… README è¨ˆç•«
- [ ] âœ… API æ–‡ä»¶è¨ˆç•«
- [ ] âœ… é–‹ç™¼æŒ‡å—è¨ˆç•«

### User Documentation
- [ ] âœ… ä½¿ç”¨è€…æ‰‹å†Šè¨ˆç•«

## ğŸš€ Implementation Readiness

### Pre-Implementation
- [ ] âš ï¸ 3 å€‹ Gaps éœ€è™•ç†
- [ ] âš ï¸ 1 å€‹ Conflict éœ€è§£æ±º
- [ ] âœ… æ‰€æœ‰ä»»å‹™å·²å®šç¾©
- [ ] âœ… ä¾è³´é—œä¿‚æ¸…æ¥š

### Team Readiness
- [ ] âšª é–‹ç™¼äººå“¡å·²åˆ†é…(å¾…åˆ†é…)
- [ ] âšª å·¥å…·èˆ‡ç’°å¢ƒå°±ç·’(å¾…ç¢ºèª)
- [ ] âšª æ™‚ç¨‹å·²æ’å®š(å¾…è¦åŠƒ)

---

## ğŸ“Š Overall Score: 85/100

### Breakdown
- Specification: 90/100 (éœ€è£œå……è¡Œå‹• UX)
- Architecture: 95/100 (å„ªç§€)
- Testing: 80/100 (UI æ¸¬è©¦éœ€è£œå……)
- Security: 100/100 (è‰¯å¥½)
- Performance: 90/100 (è¨ˆç•«å®Œæ•´)
- Documentation: 100/100 (è¨ˆç•«å®Œæ•´)

### Recommendation: âš ï¸ **Proceed with Minor Fixes**

å»ºè­°å…ˆè™•ç†ä»¥ä¸‹é …ç›®å†é–‹å§‹å¯¦ä½œ:
1. è£œå……è¡Œå‹•è£ç½®æ’åºèªªæ˜
2. å®šç¾©æª”æ¡ˆéŒ¯èª¤è™•ç†æ©Ÿåˆ¶
3. è£œå…… UI æ¸¬è©¦ç­–ç•¥

é è¨ˆä¿®æ­£æ™‚é–“:2-4 å°æ™‚
```

#### å¯¦å‹™å»ºè­°

**1. å°‡ Analyze è¦–ç‚ºå¿…è¦æ­¥é©Ÿ**

```text
åœ¨ Pull Request æ¨¡æ¿ä¸­åŠ å…¥:
- [ ] åŸ·è¡Œ /speckit.analyze,ç„¡ Critical Gaps
- [ ] åŸ·è¡Œ /speckit.checklist,åˆ†æ•¸ > 80
```

**2. è™•ç† Gaps çš„å„ªå…ˆé †åº**

- **Critical** - é˜»ç¤™å¯¦ä½œ,å¿…é ˆç«‹å³è™•ç†
- **High** - å½±éŸ¿å“è³ª,å¯¦ä½œå‰è™•ç†
- **Medium** - å¯åœ¨å¯¦ä½œä¸­è™•ç†
- **Low** - å¯å»¶å¾Œåˆ°å¾ŒçºŒç‰ˆæœ¬

**3. åœ˜éšŠè©•å¯©æœƒè­°**

```text
è­°ç¨‹:
1. å±•ç¤º Analyze å ±å‘Š(10 åˆ†é˜)
2. è¨è«– Gaps èˆ‡ Conflicts(20 åˆ†é˜)
3. æ±ºå®šè™•ç†æ–¹æ¡ˆ(10 åˆ†é˜)
4. æ›´æ–° Spec/Plan/Tasks(å¾ŒçºŒ)
5. å†æ¬¡ Analyze ç¢ºèª(å¾ŒçºŒ)
```

**4. æŒçºŒè¿½è¹¤**

```markdown
## Gap Resolution Tracking

| Gap ID | Description | Priority | Assignee | Status | Resolution |
|--------|-------------|----------|----------|--------|------------|
| G001 | è¡Œå‹•æ’åº | High | Alice | âœ… Done | æ–°å¢ Task T022 |
| G002 | æª”æ¡ˆéŒ¯èª¤ | High | Bob | ğŸš§ In Progress | è£œå…… Plan Section 6.3 |
| G003 | åŒ¯å‡ºåŠŸèƒ½ | Medium | - | â³ Deferred | ç§»è‡³ v2.0 Roadmap |
```

---

### 3.6 Step 5:å¯¦ä½œ (/speckit.implement)

æ­£å¼é–‹å§‹ç¨‹å¼ç¢¼å¯¦ä½œã€‚

#### ä½•æ™‚ä½¿ç”¨

- âœ… Tasks å·²æ‹†åˆ†å®Œæˆ
- âœ… /speckit.analyze ç„¡é˜»ç¤™å•é¡Œ
- âœ… /speckit.checklist è©•åˆ†åˆæ ¼
- âœ… é–‹ç™¼ç’°å¢ƒå·²å°±ç·’

#### æŒ‡ä»¤æ ¼å¼

```bash
/speckit.implement <task-id>
```

**ç¯„ä¾‹**:

```bash
/speckit.implement T007
# å¯¦ä½œ Task T007: AlbumManager æ ¸å¿ƒé‚è¼¯
```

#### AI åŠ©æ‰‹æœƒåšä»€éº¼

1. **è®€å– Task å®šç¾©** - ç­è§£éœ€æ±‚èˆ‡é©—æ”¶æ¢ä»¶
2. **è®€å–ç›¸é—œ Contracts** - API ä»‹é¢è¦æ ¼
3. **è®€å– Data Model** - è³‡æ–™çµæ§‹å®šç¾©
4. **ç”¢ç”Ÿæ¸¬è©¦** - å…ˆå¯«æ¸¬è©¦(TDD)
5. **ç”¢ç”Ÿå¯¦ä½œ** - ç”¢ç”Ÿç¨‹å¼ç¢¼
6. **é©—è­‰** - åŸ·è¡Œæ¸¬è©¦ç¢ºèª

#### å¯¦ä½œæµç¨‹(TDD)

**Step 1: ç”¢ç”Ÿæ¸¬è©¦**

```bash
/speckit.implement T007 --test-only
```

AI ç”¢ç”Ÿ `tests/album-manager.test.js`:

```javascript
import { describe, it, expect, beforeEach } from 'vitest';
import { AlbumManager } from '../src/modules/album-manager.js';
import { Storage } from '../src/utils/storage.js';

describe('AlbumManager', () => {
  let albumManager;
  let storage;

  beforeEach(async () => {
    storage = new Storage();
    await storage.init();
    albumManager = new AlbumManager(storage);
  });

  describe('createAlbum', () => {
    it('æ‡‰è©²æˆåŠŸå»ºç«‹ç›¸ç°¿', async () => {
      const album = await albumManager.createAlbum('æˆ‘çš„ç›¸ç°¿');
      
      expect(album).toBeDefined();
      expect(album.id).toMatch(/^[a-z0-9-]+$/);
      expect(album.name).toBe('æˆ‘çš„ç›¸ç°¿');
      expect(album.createdAt).toBeInstanceOf(Date);
      expect(album.order).toBe(0);
    });

    it('æ‡‰è©²æ‹’çµ•ç©ºç™½åç¨±', async () => {
      await expect(
        albumManager.createAlbum('')
      ).rejects.toThrow('ç›¸ç°¿åç¨±ä¸å¯ç‚ºç©º');
    });

    it('æ‡‰è©²æ‹’çµ•éé•·åç¨±', async () => {
      const longName = 'a'.repeat(101);
      await expect(
        albumManager.createAlbum(longName)
      ).rejects.toThrow('ç›¸ç°¿åç¨±ä¸å¯è¶…é 100 å­—å…ƒ');
    });

    it('æ‡‰è©²è‡ªå‹•åˆ†é…éå¢çš„ order', async () => {
      const album1 = await albumManager.createAlbum('ç›¸ç°¿ 1');
      const album2 = await albumManager.createAlbum('ç›¸ç°¿ 2');
      
      expect(album1.order).toBe(0);
      expect(album2.order).toBe(1);
    });
  });

  describe('getAllAlbums', () => {
    it('æ‡‰è©²å›å‚³ç©ºé™£åˆ—ç•¶ç„¡ç›¸ç°¿', async () => {
      const albums = await albumManager.getAllAlbums();
      expect(albums).toEqual([]);
    });

    it('æ‡‰è©²å›å‚³æ‰€æœ‰ç›¸ç°¿ä¸¦ä¾ order æ’åº', async () => {
      await albumManager.createAlbum('ç›¸ç°¿ C');
      await albumManager.createAlbum('ç›¸ç°¿ A');
      await albumManager.createAlbum('ç›¸ç°¿ B');
      
      const albums = await albumManager.getAllAlbums();
      
      expect(albums).toHaveLength(3);
      expect(albums[0].order).toBe(0);
      expect(albums[1].order).toBe(1);
      expect(albums[2].order).toBe(2);
    });
  });

  describe('updateAlbumOrder', () => {
    it('æ‡‰è©²æˆåŠŸæ›´æ–°ç›¸ç°¿é †åº', async () => {
      const album1 = await albumManager.createAlbum('ç›¸ç°¿ 1');
      const album2 = await albumManager.createAlbum('ç›¸ç°¿ 2');
      const album3 = await albumManager.createAlbum('ç›¸ç°¿ 3');
      
      // ç§»å‹•ç›¸ç°¿ 1 åˆ°ä½ç½® 2
      await albumManager.updateAlbumOrder([
        album2.id,
        album3.id,
        album1.id
      ]);
      
      const albums = await albumManager.getAllAlbums();
      expect(albums[0].id).toBe(album2.id);
      expect(albums[1].id).toBe(album3.id);
      expect(albums[2].id).toBe(album1.id);
    });
  });

  describe('deleteAlbum', () => {
    it('æ‡‰è©²æˆåŠŸåˆªé™¤ç›¸ç°¿', async () => {
      const album = await albumManager.createAlbum('å¾…åˆªé™¤');
      
      await albumManager.deleteAlbum(album.id);
      
      const albums = await albumManager.getAllAlbums();
      expect(albums).toHaveLength(0);
    });

    it('æ‡‰è©²æ‹’çµ•åˆªé™¤ä¸å­˜åœ¨çš„ç›¸ç°¿', async () => {
      await expect(
        albumManager.deleteAlbum('non-existent-id')
      ).rejects.toThrow('ç›¸ç°¿ä¸å­˜åœ¨');
    });
  });
});
```

**Step 2: åŸ·è¡Œæ¸¬è©¦(æ‡‰è©²å¤±æ•—)**

```bash
npm run test
# âŒ æ‰€æœ‰æ¸¬è©¦å¤±æ•—(å› ç‚ºé‚„æ²’å¯¦ä½œ)
```

**Step 3: ç”¢ç”Ÿå¯¦ä½œ**

```bash
/speckit.implement T007 --code-only
```

AI ç”¢ç”Ÿ `src/modules/album-manager.js`:

```javascript
import { nanoid } from 'nanoid';

export class AlbumManager {
  constructor(storage) {
    this.storage = storage;
  }

  /**
   * å»ºç«‹æ–°ç›¸ç°¿
   * @param {string} name - ç›¸ç°¿åç¨±
   * @returns {Promise<Album>}
   * @throws {Error} åç¨±é©—è­‰å¤±æ•—
   */
  async createAlbum(name) {
    // é©—è­‰åç¨±
    this._validateAlbumName(name);

    // å–å¾—ç›®å‰æœ€å¤§ order
    const existingAlbums = await this.getAllAlbums();
    const maxOrder = existingAlbums.length > 0
      ? Math.max(...existingAlbums.map(a => a.order))
      : -1;

    // å»ºç«‹ç›¸ç°¿ç‰©ä»¶
    const album = {
      id: nanoid(),
      name,
      createdAt: new Date(),
      order: maxOrder + 1,
      photoCount: 0
    };

    // å„²å­˜åˆ° IndexedDB
    await this.storage.add('albums', album);

    return album;
  }

  /**
   * å–å¾—æ‰€æœ‰ç›¸ç°¿
   * @returns {Promise<Album[]>} ä¾ order æ’åº
   */
  async getAllAlbums() {
    const albums = await this.storage.getAll('albums');
    return albums.sort((a, b) => a.order - b.order);
  }

  /**
   * æ›´æ–°ç›¸ç°¿é †åº
   * @param {string[]} albumIds - æ–°çš„æ’åº(ID é™£åˆ—)
   */
  async updateAlbumOrder(albumIds) {
    const albums = await this.storage.getAll('albums');
    
    // å»ºç«‹ ID â†’ Album æ˜ å°„
    const albumMap = new Map(albums.map(a => [a.id, a]));

    // æ›´æ–° order
    for (let i = 0; i < albumIds.length; i++) {
      const album = albumMap.get(albumIds[i]);
      if (album) {
        album.order = i;
        await this.storage.update('albums', album);
      }
    }
  }

  /**
   * åˆªé™¤ç›¸ç°¿
   * @param {string} albumId
   * @throws {Error} ç›¸ç°¿ä¸å­˜åœ¨
   */
  async deleteAlbum(albumId) {
    const album = await this.storage.get('albums', albumId);
    
    if (!album) {
      throw new Error('ç›¸ç°¿ä¸å­˜åœ¨');
    }

    // TODO: åˆªé™¤ç›¸ç°¿å…§çš„æ‰€æœ‰ç…§ç‰‡(Task T011)
    
    await this.storage.delete('albums', albumId);
  }

  /**
   * é©—è­‰ç›¸ç°¿åç¨±
   * @private
   */
  _validateAlbumName(name) {
    if (!name || name.trim() === '') {
      throw new Error('ç›¸ç°¿åç¨±ä¸å¯ç‚ºç©º');
    }

    if (name.length > 100) {
      throw new Error('ç›¸ç°¿åç¨±ä¸å¯è¶…é 100 å­—å…ƒ');
    }
  }
}

/**
 * @typedef {Object} Album
 * @property {string} id - å”¯ä¸€è­˜åˆ¥ç¢¼
 * @property {string} name - ç›¸ç°¿åç¨±
 * @property {Date} createdAt - å»ºç«‹æ™‚é–“
 * @property {number} order - é¡¯ç¤ºé †åº
 * @property {number} photoCount - ç…§ç‰‡æ•¸é‡
 */
```

**Step 4: åŸ·è¡Œæ¸¬è©¦(æ‡‰è©²é€šé)**

```bash
npm run test

# âœ… AlbumManager
#   âœ… createAlbum
#     âœ… æ‡‰è©²æˆåŠŸå»ºç«‹ç›¸ç°¿
#     âœ… æ‡‰è©²æ‹’çµ•ç©ºç™½åç¨±
#     âœ… æ‡‰è©²æ‹’çµ•éé•·åç¨±
#     âœ… æ‡‰è©²è‡ªå‹•åˆ†é…éå¢çš„ order
#   âœ… getAllAlbums
#     âœ… æ‡‰è©²å›å‚³ç©ºé™£åˆ—ç•¶ç„¡ç›¸ç°¿
#     âœ… æ‡‰è©²å›å‚³æ‰€æœ‰ç›¸ç°¿ä¸¦ä¾ order æ’åº
#   âœ… updateAlbumOrder
#     âœ… æ‡‰è©²æˆåŠŸæ›´æ–°ç›¸ç°¿é †åº
#   âœ… deleteAlbum
#     âœ… æ‡‰è©²æˆåŠŸåˆªé™¤ç›¸ç°¿
#     âœ… æ‡‰è©²æ‹’çµ•åˆªé™¤ä¸å­˜åœ¨çš„ç›¸ç°¿
#
# Test Suites: 1 passed, 1 total
# Tests: 9 passed, 9 total
# Coverage: 87.5% (7/8 branches)
```

**Step 5: Code Review & æäº¤**

```bash
# æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ª
npm run lint

# æäº¤
git add .
git commit -m "feat(album): implement AlbumManager (T007)

- Add AlbumManager class with CRUD methods
- Implement input validation
- Add comprehensive unit tests (9 tests, 87.5% coverage)
- Follows TDD approach

Related: T007
"
```

#### å¹³å°ç‰¹å®šå¯¦ä½œç¯„ä¾‹

**ç¯„ä¾‹ 1:æ‰¹æ¬¡ä»»å‹™å¯¦ä½œ**

```bash
/speckit.implement T205
# Task: å¯¦ä½œæ¯æ—¥å¸³å‹™å°å¸³æ‰¹æ¬¡

# AI ç”¢ç”Ÿç¬¦åˆ Constitution Article XI çš„å¯¦ä½œ:
```

```java
package com.example.batch.reconciliation;

import org.springframework.batch.core.Job;
import org.springframework.batch.core.Step;
import org.springframework.batch.core.job.builder.JobBuilder;
import org.springframework.batch.core.step.builder.StepBuilder;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

/**
 * æ¯æ—¥å¸³å‹™å°å¸³æ‰¹æ¬¡
 * ç¬¦åˆ Constitution Article XI: Batch Job Requirements
 */
@Configuration
public class DailyReconciliationJobConfig {

    @Bean
    public Job dailyReconciliationJob(
        Step extractTransactionsStep,
        Step reconcileStep,
        Step generateReportStep
    ) {
        return new JobBuilder("dailyReconciliationJob", jobRepository)
            .start(extractTransactionsStep)
            .next(reconcileStep)
            .next(generateReportStep)
            // Article XI: å¿…é ˆæ”¯æ´é‡å•Ÿèˆ‡è·³éå¤±æ•—è¨˜éŒ„
            .listener(new ReconciliationJobListener())
            .build();
    }

    @Bean
    public Step extractTransactionsStep(
        ItemReader<Transaction> oracleReader,
        ItemWriter<Transaction> stagingWriter
    ) {
        return new StepBuilder("extractTransactions", jobRepository)
            .<Transaction, Transaction>chunk(1000, transactionManager)
            .reader(oracleReader)
            .writer(stagingWriter)
            // Article XI: å¿…é ˆè¨˜éŒ„è©³ç´°åŸ·è¡Œæ—¥èªŒ
            .listener(new StepLoggingListener())
            .build();
    }

    // ... å…¶ä»– Steps
}
```

**ç¯„ä¾‹ 2:å¾®æœå‹™æ•´åˆ**

```bash
/speckit.implement T312
# Task: å¯¦ä½œä½¿ç”¨è€…æœå‹™èˆ‡è¨‚å–®æœå‹™æ•´åˆ

# AI ç”¢ç”Ÿç¬¦åˆ Constitution Article XII çš„å¯¦ä½œ:
```

```java
package com.example.order.service;

import com.example.user.client.UserServiceClient;
import org.springframework.stereotype.Service;
import org.springframework.retry.annotation.Retryable;
import io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;

/**
 * è¨‚å–®æœå‹™
 * ç¬¦åˆ Constitution Article XII: Microservice Integration
 */
@Service
public class OrderService {

    private final UserServiceClient userServiceClient;
    private final OrderRepository orderRepository;

    // Article XII: å¿…é ˆä½¿ç”¨ Circuit Breaker
    @CircuitBreaker(name = "userService", fallbackMethod = "createOrderWithoutUserValidation")
    @Retryable(maxAttempts = 3, backoff = @Backoff(delay = 1000))
    public Order createOrder(CreateOrderRequest request) {
        // é©—è­‰ä½¿ç”¨è€…(å‘¼å« User Service)
        User user = userServiceClient.getUserById(request.getUserId());
        
        if (!user.isActive()) {
            throw new BusinessException("ä½¿ç”¨è€…æœªå•Ÿç”¨");
        }

        // å»ºç«‹è¨‚å–®
        Order order = Order.builder()
            .userId(user.getId())
            .items(request.getItems())
            .totalAmount(calculateTotal(request.getItems()))
            .build();

        return orderRepository.save(order);
    }

    // Article XII: å¿…é ˆæä¾›é™ç´šæ–¹æ¡ˆ
    private Order createOrderWithoutUserValidation(
        CreateOrderRequest request,
        Exception ex
    ) {
        log.warn("User Service unavailable, creating order without validation", ex);
        
        // å»ºç«‹è¨‚å–®,ä½†æ¨™è¨˜ç‚ºéœ€è¦å¾ŒçºŒé©—è­‰
        Order order = Order.builder()
            .userId(request.getUserId())
            .items(request.getItems())
            .totalAmount(calculateTotal(request.getItems()))
            .status(OrderStatus.PENDING_VALIDATION)
            .build();

        return orderRepository.save(order);
    }
}
```

#### å¯¦å‹™å»ºè­°

**1. ä¸€æ¬¡å¯¦ä½œä¸€å€‹ Task**

ä¸è¦è²ªå¿ƒåŒæ™‚é€²è¡Œå¤šå€‹ Task,ç¢ºä¿æ¯å€‹ Task:
- âœ… æ¸¬è©¦é€šé
- âœ… Code Review å®Œæˆ
- âœ… æäº¤åˆ° Git

**2. éµå¾ª TDD ç´…ç¶ é‡æ§‹å¾ªç’°**

```text
ğŸ”´ Red: å¯«æ¸¬è©¦ â†’ åŸ·è¡Œ(å¤±æ•—)
ğŸŸ¢ Green: å¯«å¯¦ä½œ â†’ åŸ·è¡Œ(é€šé)
ğŸ”µ Refactor: é‡æ§‹ç¨‹å¼ç¢¼ â†’ åŸ·è¡Œ(ä»é€šé)
```

**3. ä½¿ç”¨èªæ„åŒ– Commit è¨Šæ¯**

```text
feat(module): æ–°åŠŸèƒ½
fix(module): ä¿® Bug
test(module): æ–°å¢æ¸¬è©¦
refactor(module): é‡æ§‹
docs(module): æ–‡ä»¶
chore: é›œé …(å·¥å…·è¨­å®š)
```

**4. å³æ™‚æ›´æ–° Task ç‹€æ…‹**

```markdown
### Task 7: AlbumManager æ ¸å¿ƒé‚è¼¯
**Status**: âœ… Done  
**Actual Hours**: 3.5 (estimated 4)  
**Commit**: abc1234  
**Notes**: æ¸¬è©¦è¦†è“‹ç‡é” 87.5%,ç¬¦åˆæ¨™æº–
```

**5. å¯¦ä½œèˆ‡æ–‡ä»¶åŒæ­¥**

è‹¥å¯¦ä½œéç¨‹ç™¼ç¾ Plan éŒ¯èª¤æˆ–éºæ¼:
1. å…ˆå®Œæˆç•¶å‰ Task
2. è¨˜éŒ„ç™¼ç¾çš„å•é¡Œ
3. æ›´æ–° Plan æ–‡ä»¶
4. å‘ŠçŸ¥åœ˜éšŠ

---

### 3.7 Step 6:è¿­ä»£ç¶­è­·

åŠŸèƒ½å®Œæˆå¾Œçš„æŒçºŒæ”¹é€²èˆ‡ç‰ˆæœ¬ç®¡ç†ã€‚

#### ä½•æ™‚ä½¿ç”¨

- âœ… æ‰€æœ‰ Tasks å®Œæˆ
- âœ… åŠŸèƒ½å·²éƒ¨ç½²
- âœ… éœ€è¦æ–°å¢åŠŸèƒ½æˆ–ä¿®æ­£å•é¡Œ
- âœ… éœ€è¦é‡æ§‹æˆ–å„ªåŒ–

#### è¿­ä»£æƒ…å¢ƒ

**æƒ…å¢ƒ 1:æ–°å¢åŠŸèƒ½åˆ°ç¾æœ‰ Spec**

ä½¿ç”¨è€…æå‡ºæ–°éœ€æ±‚:ã€Œç›¸ç°¿æ‡‰æ”¯æ´æ¨™ç±¤åŠŸèƒ½ã€

**Step 1: æ›´æ–° Spec**

```bash
/speckit.specify
# åœ¨ spec.md æ–°å¢ User Story:

## US-005: æ¨™ç±¤ç®¡ç†

**As a** ä½¿ç”¨è€…  
**I want to** ç‚ºç›¸ç°¿æ–°å¢æ¨™ç±¤  
**So that** æˆ‘å¯ä»¥ä¾ä¸»é¡Œåˆ†é¡èˆ‡æœå°‹ç›¸ç°¿

### Acceptance Criteria
1. å¯ç‚ºç›¸ç°¿æ–°å¢å¤šå€‹æ¨™ç±¤
2. æ¨™ç±¤å¯é‡è¤‡ä½¿ç”¨æ–¼ä¸åŒç›¸ç°¿
3. å¯ä¾æ¨™ç±¤éæ¿¾ç›¸ç°¿åˆ—è¡¨
4. æ¨™ç±¤åç¨±é™åˆ¶ 20 å­—å…ƒ

### Priority
Medium

### Estimated Effort
5 days
```

**Step 2: æ›´æ–° Plan**

```bash
/speckit.plan
# AI æœƒåˆ†æç¾æœ‰ Plan,å»ºè­°æ–°å¢:

## Phase 6: Tag System (NEW)

**6.1 Database Schema Update**
- æ–°å¢ `tags` Object Store
- æ–°å¢ `album_tags` é—œè¯è¡¨

**6.2 Tag Manager**
- TagManager é¡åˆ¥
- CRUD æ“ä½œ
- æ¨™ç±¤æœå°‹

**6.3 UI Integration**
- æ¨™ç±¤è¼¸å…¥å…ƒä»¶
- æ¨™ç±¤éæ¿¾å™¨
- æ¨™ç±¤é›²é¡¯ç¤º
```

**Step 3: ç”¢ç”Ÿæ–° Tasks**

```bash
/speckit.tasks
# AI ç”¢ç”Ÿæ–°ä»»å‹™:

### Task 22: [NEW] å¯¦ä½œ Tag Schema
**Depends on**: None (ç¨ç«‹)
**Estimated**: 2 hours

### Task 23: [NEW] å¯¦ä½œ TagManager
**Depends on**: T022
**Estimated**: 4 hours

### Task 24: [NEW] å¯¦ä½œæ¨™ç±¤ UI
**Depends on**: T023
**Estimated**: 6 hours
```

**Step 4: å¯¦ä½œ & éƒ¨ç½²**

æŒ‰ç…§æ­£å¸¸ SDD æµç¨‹åŸ·è¡Œã€‚

---

**æƒ…å¢ƒ 2:é‡æ§‹ç¾æœ‰å¯¦ä½œ**

æ•ˆèƒ½æ¸¬è©¦ç™¼ç¾:ã€Œè¼‰å…¥ 1000 ç›¸ç°¿æ™‚è¶…é 500msã€

**Step 1: è¨˜éŒ„å•é¡Œ**

```markdown
## Issue #42: Performance Degradation with Large Albums

**Type**: Performance Bug  
**Severity**: High  
**Related**: NFR-001 (ç›¸ç°¿åˆ—è¡¨è¼‰å…¥ < 500ms)

### Observation
- 100 ç›¸ç°¿:150ms âœ…
- 500 ç›¸ç°¿:380ms âœ…
- 1000 ç›¸ç°¿:750ms âŒ

### Root Cause Analysis
`getAllAlbums()` ä¸€æ¬¡è¼‰å…¥æ‰€æœ‰è³‡æ–™åˆ°è¨˜æ†¶é«”,æœªä½¿ç”¨åˆ†é ã€‚
```

**Step 2: æ›´æ–° Plan**

åœ¨ Plan çš„ã€ŒPerformance Optimizationã€å€æ®µæ–°å¢:

```markdown
### Optimization 2: Virtual Scrolling

**Problem**: è¼‰å…¥å¤§é‡ç›¸ç°¿æ•ˆèƒ½ä¸ä½³

**Solution**:
- å¯¦ä½œè™›æ“¬æ»¾å‹•(åƒ…æ¸²æŸ“å¯è¦–å€åŸŸ)
- IndexedDB ä½¿ç”¨ cursor åˆ†é æŸ¥è©¢
- æ¯æ¬¡è¼‰å…¥ 50 ç­†

**Expected Improvement**:
- 1000 ç›¸ç°¿è¼‰å…¥æ™‚é–“ < 200ms
- è¨˜æ†¶é«”ä½¿ç”¨æ¸›å°‘ 80%
```

**Step 3: å»ºç«‹é‡æ§‹ Task**

```bash
/speckit.tasks
# ç”¢ç”Ÿ:

### Task 25: [REFACTOR] å¯¦ä½œè™›æ“¬æ»¾å‹•
**Type**: Performance Optimization  
**Depends on**: None (æ”¹å–„ç¾æœ‰å¯¦ä½œ)  
**Estimated**: 8 hours  
**Breaking Change**: No (API ç›¸å®¹)
```

**Step 4: å¯¦ä½œ & é©—è­‰**

```bash
/speckit.implement T025

# é‡æ§‹å®Œæˆå¾Œ:
npm run test        # ç¢ºä¿æ‰€æœ‰æ¸¬è©¦ä»é€šé
npm run perf-test   # é©—è­‰æ•ˆèƒ½æ”¹å–„

# æäº¤:
git commit -m "perf(album): implement virtual scrolling (T025)

- Reduce initial load time from 750ms to 180ms for 1000 albums
- Implement cursor-based pagination in IndexedDB
- Add virtual scrolling with 50-item buffer
- Maintain API compatibility

Closes #42
Related: NFR-001, T025
"
```

---

**æƒ…å¢ƒ 3:è·¨åŠŸèƒ½æ±ºç­–è¿½è¹¤**

åœ˜éšŠè¨è«–å¾Œæ±ºå®š:ã€Œä¸æ”¯æ´ç›¸ç°¿åŒ¯å‡ºåŠŸèƒ½(v1.0)ã€

**è¨˜éŒ„æ–¼ Decisions Log**

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ `decisions/` è³‡æ–™å¤¾:

```markdown
# decisions/002-no-album-export-v1.md

## Decision: No Album Export in v1.0

**Date**: 2025-10-29  
**Status**: Accepted  
**Deciders**: Alice (PM), Bob (Tech Lead), Carol (Dev)

### Context
Spec çš„ Open Questions æåˆ°å¯èƒ½éœ€è¦ç›¸ç°¿åŒ¯å‡ºåŠŸèƒ½(ZIP ä¸‹è¼‰)ã€‚

### Decision
v1.0 ä¸å¯¦ä½œç›¸ç°¿åŒ¯å‡º,å»¶å¾Œè‡³ v2.0ã€‚

### Rationale
1. **æ™‚ç¨‹å£“åŠ›**: v1.0 éœ€åœ¨ 2 é€±å…§äº¤ä»˜
2. **ä½¿ç”¨é »ç‡ä½**: è¨ªè«‡é¡¯ç¤ºåƒ… 5% ä½¿ç”¨è€…éœ€è¦
3. **æŠ€è¡“è¤‡é›œåº¦**: éœ€è™•ç†å¤§æª”æ¡ˆå£“ç¸®èˆ‡ä¸‹è¼‰
4. **æ›¿ä»£æ–¹æ¡ˆ**: ä½¿ç”¨è€…å¯æ‰‹å‹•è¤‡è£½æª”æ¡ˆ

### Consequences
- âœ… v1.0 å¯å¦‚æœŸäº¤ä»˜
- âœ… å°ˆæ³¨æ ¸å¿ƒåŠŸèƒ½
- âŒ éƒ¨åˆ†é€²éšä½¿ç”¨è€…éœ€æ±‚æœªæ»¿è¶³
- ğŸ“ éœ€åœ¨ v2.0 Roadmap åŠ å…¥æ­¤åŠŸèƒ½

### Related
- Spec: Open Questions #3
- Roadmap: v2.0 Features
```

**æ›´æ–° Spec**

```markdown
## Out of Scope (v1.0)

### Deferred Features
- [ ] ç›¸ç°¿åŒ¯å‡ºç‚º ZIP (ç§»è‡³ v2.0)
  - **Reason**: æ™‚ç¨‹èˆ‡å„ªå…ˆåºè€ƒé‡
  - **Decision**: decisions/002-no-album-export-v1.md
```

---

#### ç‰ˆæœ¬ç®¡ç†ç­–ç•¥

**èªæ„åŒ–ç‰ˆæœ¬(Semantic Versioning)**

```text
v1.0.0 - åˆå§‹ç‰ˆæœ¬
  â””â”€ v1.1.0 - æ–°å¢æ¨™ç±¤åŠŸèƒ½(å‘å¾Œç›¸å®¹)
      â””â”€ v1.1.1 - ä¿®æ­£æ¨™ç±¤æœå°‹ Bug
      â””â”€ v1.2.0 - æ–°å¢åŒ¯å‡ºåŠŸèƒ½
  â””â”€ v2.0.0 - é‡æ§‹ IndexedDB çµæ§‹(Breaking Change)
```

**Git åˆ†æ”¯ç­–ç•¥(æ­é… SDD)**

```text
main (ç”Ÿç”¢)
  â””â”€ develop (é–‹ç™¼ä¸»ç·š)
      â”œâ”€ feature/us-005-tags (æ–°åŠŸèƒ½)
      â”‚   â””â”€ åŒ…å«å®Œæ•´ Spec â†’ Plan â†’ Tasks â†’ Implementation
      â”œâ”€ bugfix/issue-42-performance (ä¿® Bug)
      â””â”€ refactor/virtual-scrolling (é‡æ§‹)
```

**æ¯å€‹ Feature åˆ†æ”¯çµæ§‹**:

```text
feature/us-005-tags/
â”œâ”€â”€ .speckit/
â”‚   â”œâ”€â”€ spec.md (æ›´æ–°ç‰ˆ)
â”‚   â”œâ”€â”€ plan.md (æ–°å¢ Phase 6)
â”‚   â””â”€â”€ tasks.md (æ–°å¢ T022-T024)
â”œâ”€â”€ src/
â”‚   â””â”€â”€ modules/
â”‚       â””â”€â”€ tag-manager.js (æ–°å¯¦ä½œ)
â””â”€â”€ tests/
    â””â”€â”€ tag-manager.test.js (æ–°æ¸¬è©¦)
```

**Pull Request æª¢æŸ¥æ¸…å–®**

```markdown
## PR Checklist: US-005 Tags

### Specification
- [ ] Spec å·²æ›´æ–°(US-005)
- [ ] Plan å·²æ›´æ–°(Phase 6)
- [ ] Tasks å·²å»ºç«‹(T022-T024)
- [ ] /speckit.analyze ç„¡ Critical Gaps

### Implementation
- [ ] æ‰€æœ‰ Tasks å®Œæˆ
- [ ] å–®å…ƒæ¸¬è©¦é€šé(è¦†è“‹ç‡ > 80%)
- [ ] E2E æ¸¬è©¦é€šé
- [ ] æ•ˆèƒ½æ¸¬è©¦ç¬¦åˆ NFR

### Documentation
- [ ] README æ›´æ–°
- [ ] API æ–‡ä»¶æ›´æ–°
- [ ] CHANGELOG æ›´æ–°

### Review
- [ ] Code Review å®Œæˆ
- [ ] ç¬¦åˆ Constitution
- [ ] ç„¡å¼•å…¥ä¸å¿…è¦ä¾è³´
```

---

#### å¯¦å‹™å»ºè­°

**1. å®šæœŸåŸ·è¡Œ /speckit.analyze**

æ¯å€‹ Sprint æˆ–ç‰ˆæœ¬è¿­ä»£å‰:

```bash
/speckit.analyze
# ç¢ºä¿ç´¯ç©çš„è®Šæ›´ä»ç„¶ä¸€è‡´
```

**2. ç¶­è­· Roadmap**

```markdown
# roadmap.md

## v1.0 (2025-11)
- [x] US-001: å»ºç«‹ç›¸ç°¿
- [x] US-002: æ–°å¢ç…§ç‰‡
- [x] US-003: æ‹–æ”¾æ’åº
- [x] US-004: ç›¸ç°¿åˆªé™¤

## v1.1 (2025-12)
- [ ] US-005: æ¨™ç±¤ç®¡ç†
- [ ] US-006: æœå°‹åŠŸèƒ½
- [ ] Performance: è™›æ“¬æ»¾å‹•

## v2.0 (2026-Q1)
- [ ] US-007: ç›¸ç°¿åŒ¯å‡º
- [ ] US-008: å¤šäººå”ä½œ
- [ ] Architecture: é·ç§»è‡³ Web Worker
```

**3. å®šæœŸå›é¡§ Constitution**

æ¯å­£æª¢è¦– Constitution æ˜¯å¦éœ€è¦æ›´æ–°:

```markdown
## Constitution Review Meeting (2025-Q4)

### Proposed Changes
1. **Article III (TDD)**: æ”¾å¯¬ UI æ¸¬è©¦è¦æ±‚?
   - è¨è«–:UI æ•´åˆæ¸¬è©¦æˆæœ¬é«˜
   - æ±ºè­°:ç¶­æŒåŸå‰‡,ä½†å…è¨± E2E æ›¿ä»£éƒ¨åˆ†æ•´åˆæ¸¬è©¦

2. **Article X (Multi-Database)**: æ–°å¢ MongoDB æ”¯æ´?
   - è¨è«–:æ–°å°ˆæ¡ˆéœ€è¦ NoSQL
   - æ±ºè­°:æ–°å¢ MongoDB ç›¸é—œè¦ç¯„

### Updated
- Constitution v1.1 (2025-11-01)
```

**4. æ–‡ä»¶å³ç¨‹å¼ç¢¼**

å°‡ Specã€Planã€Tasks è¦–ç‚ºç¨‹å¼ç¢¼çš„ä¸€éƒ¨åˆ†:

```bash
# æ‰€æœ‰æ–‡ä»¶è®Šæ›´éƒ½éœ€è¦ Code Review
git add .speckit/
git commit -m "docs(spec): add US-005 tag management

- Define tag system requirements
- Update plan with Phase 6
- Generate tasks T022-T024

Related: US-005
"
```

---

## ç¬¬ä¸‰ç« å°çµ

ç¶“é 6 å€‹æ­¥é©Ÿ,ä½ å·²ç¶“å®Œæ•´èµ°éä¸€å€‹ SDD å¾ªç’°:

| æ­¥é©Ÿ | å·¥å…· | ç”¢å‡º | é©—è­‰ |
|------|------|------|------|
| 1. æ’°å¯« Spec | /speckit.specify | spec.md | éœ€æ±‚æ˜ç¢ºæ€§ |
| 1a. æ¾„æ¸…éœ€æ±‚ | /speckit.clarify | (æ›´æ–° spec.md) | æ¶ˆé™¤æ¨¡ç³Š |
| 2. æ’°å¯« Plan | /speckit.plan | plan.md | Constitution åˆè¦ |
| 3. æ‹†åˆ† Tasks | /speckit.tasks | tasks.md | å¯åŸ·è¡Œæ€§ |
| 4. é å¯¦ä½œæª¢æŸ¥ | /speckit.analyze, /speckit.checklist | åˆ†æå ±å‘Š | ä¸€è‡´æ€§ |
| 5. å¯¦ä½œ | /speckit.implement | ç¨‹å¼ç¢¼ + æ¸¬è©¦ | æ¸¬è©¦é€šé |
| 6. è¿­ä»£ | (é‡è¤‡ 1-5) | æ–°ç‰ˆæœ¬ | æŒçºŒæ”¹é€² |

**é—œéµè§€å¿µ**:

- ğŸ“ **Spec æ˜¯æºé ­** - æ‰€æœ‰å¯¦ä½œè¿½æº¯åˆ°éœ€æ±‚
- ğŸ—ï¸ **Plan æ˜¯è—åœ–** - æŠ€è¡“æ±ºç­–éœ€æœ‰ä¾æ“š
- âœ… **Tasks æ˜¯åŸ·è¡Œå–®å…ƒ** - å¯ä¼°æ™‚ã€å¯é©—è­‰
- ğŸ” **Analyze æ˜¯å®ˆé–€å“¡** - ç¢ºä¿ä¸€è‡´æ€§
- ğŸ”§ **Implementation æ˜¯å±•ç¾** - TDD ä¿è­‰å“è³ª
- ğŸ”„ **Iteration æ˜¯å¸¸æ…‹** - æ“æŠ±è®ŠåŒ–

**ä¸‹ä¸€ç« é å‘Š**:

ç¬¬å››ç« å°‡é€éå¯¦å‹™æ¡ˆä¾‹,å±•ç¤ºå¦‚ä½•å°‡ SDD æ‡‰ç”¨åœ¨çœŸå¯¦çš„ä¼æ¥­å¹³å°é–‹ç™¼å ´æ™¯ä¸­,åŒ…æ‹¬:
- ğŸ†• Greenfield é–‹ç™¼(æ–°å¾®æœå‹™)
- ğŸ¢ Brownfield æ•´åˆ(æ—¢æœ‰ç³»çµ±)
- ğŸ‘¥ åœ˜éšŠå”ä½œ(å¤šäººé–‹ç™¼)
- ğŸ¤– AI åŠ©æ‰‹æœ€ä½³å¯¦è¸

---

## ç¬¬å››ç« :å¯¦å‹™æ¡ˆä¾‹èˆ‡æ‡‰ç”¨æŒ‡å¼•

æœ¬ç« é€éå¯¦éš›æ¡ˆä¾‹,å±•ç¤ºå¦‚ä½•åœ¨ä¼æ¥­å…±ç”¨å¹³å°æƒ…å¢ƒä¸‹æ‡‰ç”¨ SDD æ–¹æ³•è«–ã€‚

### 4.1 æ¡ˆä¾‹ä¸€:Greenfield é–‹ç™¼ - æ–°å»ºäº¤æ˜“è¨˜éŒ„å¾®æœå‹™

#### èƒŒæ™¯

å¹³å°éœ€è¦æ–°å»ºä¸€å€‹ç¨ç«‹çš„äº¤æ˜“è¨˜éŒ„å¾®æœå‹™,ç”¨æ–¼è¿½è¹¤æ‰€æœ‰ç³»çµ±é–“çš„äº¤æ˜“æµæ°´ã€‚

**éœ€æ±‚**:
- è¨˜éŒ„ä¾†è‡ªå¤šå€‹å¾®æœå‹™çš„äº¤æ˜“è³‡è¨Š
- æ”¯æ´äº¤æ˜“æŸ¥è©¢èˆ‡çµ±è¨ˆ
- æä¾› REST API èˆ‡äº‹ä»¶è¨‚é–±ä»‹é¢
- éœ€èˆ‡ç¾æœ‰ Oracle è³‡æ–™åº«æ•´åˆ
- é è¨ˆ 3 é€±å®Œæˆ

**åœ˜éšŠ**:
- 1 åç”¢å“ç¶“ç†(PM)
- 1 åå¾Œç«¯å·¥ç¨‹å¸«(Backend Dev)
- 1 å DBA

#### Step 1: PM æ’°å¯« Spec

**PM ä½¿ç”¨ GitHub Copilot Chat:**

```text
@workspace æˆ‘éœ€è¦ç‚ºäº¤æ˜“è¨˜éŒ„å¾®æœå‹™æ’°å¯«è¦æ ¼,è«‹ä½¿ç”¨ /speckit.specify ç”¢ç”Ÿåˆå§‹ Specã€‚

éœ€æ±‚æ‘˜è¦:
- è¨˜éŒ„äº¤æ˜“(è¨‚å–®ã€æ”¯ä»˜ã€é€€æ¬¾)
- æä¾›æŸ¥è©¢ API(ä¾è¨‚å–®è™Ÿã€ä½¿ç”¨è€… IDã€æ—¥æœŸç¯„åœ)
- æä¾›çµ±è¨ˆ API(æ¯æ—¥äº¤æ˜“é‡ã€é‡‘é¡çµ±è¨ˆ)
- äº‹ä»¶é©…å‹•:è¨‚é–±å…¶ä»–å¾®æœå‹™çš„äº¤æ˜“äº‹ä»¶
- è³‡æ–™åº«:Oracle(å¹³å°æ¨™æº–)
- æ•ˆèƒ½:æŸ¥è©¢ < 500ms,å¯«å…¥ < 200ms
```

**AI ç”¢ç”Ÿ `specs/transaction-log-service/spec.md`**:

```markdown
# Spec: Transaction Log Service

## Overview
çµ±ä¸€çš„äº¤æ˜“è¨˜éŒ„å¾®æœå‹™,è¿½è¹¤å¹³å°æ‰€æœ‰äº¤æ˜“æ´»å‹•ã€‚

## User Stories

### US-001: è¨˜éŒ„äº¤æ˜“äº‹ä»¶
**As a** å¾®æœå‹™(è¨‚å–®æœå‹™ã€æ”¯ä»˜æœå‹™)  
**I want to** ç™¼é€äº¤æ˜“äº‹ä»¶åˆ°è¨˜éŒ„æœå‹™  
**So that** æ‰€æœ‰äº¤æ˜“è¢«çµ±ä¸€è¿½è¹¤

**Acceptance Criteria**:
1. æ”¯æ´ä¸‰ç¨®äº¤æ˜“é¡å‹:ORDER, PAYMENT, REFUND
2. å¿…å¡«æ¬„ä½:transactionId, type, userId, amount, timestamp
3. é¸å¡«æ¬„ä½:orderId, metadata
4. äº‹ä»¶å¯«å…¥å¾Œç«‹å³æŒä¹…åŒ–
5. å¯«å…¥å¤±æ•—éœ€é‡è©¦æ©Ÿåˆ¶(æœ€å¤š 3 æ¬¡)

**Priority**: High  
**Estimated Effort**: 5 days

---

### US-002: æŸ¥è©¢äº¤æ˜“è¨˜éŒ„
**As a** å®¢æœäººå“¡  
**I want to** ä¾æ¢ä»¶æŸ¥è©¢äº¤æ˜“è¨˜éŒ„  
**So that** æˆ‘å¯ä»¥è¿½è¹¤ä½¿ç”¨è€…äº¤æ˜“æ­·å²

**Acceptance Criteria**:
1. æ”¯æ´æŸ¥è©¢æ¢ä»¶:
   - ä¾ transactionId(ç²¾ç¢ºæŸ¥è©¢)
   - ä¾ userId + æ—¥æœŸç¯„åœ
   - ä¾ orderId
2. çµæœä¾æ™‚é–“å€’åºæ’åˆ—
3. æ”¯æ´åˆ†é (é è¨­ 20 ç­†/é ,æœ€å¤š 100 ç­†)
4. æŸ¥è©¢å›æ‡‰æ™‚é–“ < 500ms

**Priority**: High  
**Estimated Effort**: 3 days

---

### US-003: çµ±è¨ˆäº¤æ˜“æ•¸æ“š
**As a** ç‡Ÿé‹åˆ†æå¸«  
**I want to** å–å¾—äº¤æ˜“çµ±è¨ˆæ•¸æ“š  
**So that** æˆ‘å¯ä»¥åˆ†ææ¥­å‹™è¶¨å‹¢

**Acceptance Criteria**:
1. æä¾›æ¯æ—¥äº¤æ˜“çµ±è¨ˆ:
   - äº¤æ˜“ç­†æ•¸(ä¾é¡å‹åˆ†çµ„)
   - äº¤æ˜“ç¸½é‡‘é¡(ä¾é¡å‹åˆ†çµ„)
   - æˆåŠŸç‡
2. æ”¯æ´æ—¥æœŸç¯„åœæŸ¥è©¢(æœ€å¤š 90 å¤©)
3. çµæœå¿«å– 1 å°æ™‚

**Priority**: Medium  
**Estimated Effort**: 4 days

## Non-Functional Requirements

### NFR-001: Performance
- å¯«å…¥ TPS: > 1000
- å¯«å…¥å»¶é²: < 200ms (P95)
- æŸ¥è©¢å»¶é²: < 500ms (P95)

### NFR-002: Reliability
- å¯ç”¨æ€§: 99.9%
- äº‹ä»¶ä¸éºå¤±(è‡³å°‘ä¸€æ¬¡èªæ„)
- è³‡æ–™ä¿ç•™: 2 å¹´

### NFR-003: Scalability
- æ”¯æ´æ°´å¹³æ“´å±•
- æ—¥äº¤æ˜“é‡: 100 è¬ç­†

## Technical Constraints

### Database
- **å¿…é ˆä½¿ç”¨**: Oracle 19c (å¹³å°æ¨™æº–)
- **Schema**: TRANS_LOG(å¹³å°æ—¢æœ‰)
- **é€£ç·šæ± **: HikariCP

### Messaging
- **å¿…é ˆä½¿ç”¨**: Kafka (å¹³å°æ¨™æº–)
- **Topics**: 
  - `order-events`(è¨‚é–±)
  - `payment-events`(è¨‚é–±)
  - `refund-events`(è¨‚é–±)

### API
- **é¢¨æ ¼**: RESTful
- **ç‰ˆæœ¬**: v1
- **èªè­‰**: OAuth2(å¹³å°æ¨™æº–)

## Dependencies

### Upstream Services
- **è¨‚å–®æœå‹™**: æä¾›è¨‚å–®äº‹ä»¶
- **æ”¯ä»˜æœå‹™**: æä¾›æ”¯ä»˜äº‹ä»¶
- **é€€æ¬¾æœå‹™**: æä¾›é€€æ¬¾äº‹ä»¶

### Downstream Services
- **ç„¡** (æœ¬æœå‹™ä¸ä¾è³´å…¶ä»–æœå‹™çš„åŒæ­¥å‘¼å«)

### Infrastructure
- **æœå‹™è¨»å†Š**: Eureka
- **é…ç½®ä¸­å¿ƒ**: Spring Cloud Config
- **æ—¥èªŒæ”¶é›†**: ELK Stack

## Risks & Mitigation

| Risk | Impact | Probability | Mitigation |
|------|--------|-------------|------------|
| Oracle æ•ˆèƒ½ç“¶é ¸ | High | Medium | 1. å»ºç«‹é©ç•¶ç´¢å¼•<br>2. ä½¿ç”¨åˆ†å€è¡¨<br>3. è®€å¯«åˆ†é›¢ |
| Kafka æ¶ˆè²»å»¶é² | Medium | Low | 1. å¢åŠ  Consumer æ•¸é‡<br>2. æ‰¹æ¬¡å¯«å…¥è³‡æ–™åº« |
| ç£ç¢Ÿç©ºé–“ä¸è¶³ | High | Low | 1. å¯¦ä½œè³‡æ–™æ­¸æª”<br>2. ç›£æ§ç£ç¢Ÿä½¿ç”¨ç‡ |

## Out of Scope

### Current Version (v1.0)
- [ ] å³æ™‚äº¤æ˜“ç›£æ§å„€è¡¨æ¿(æœªä¾†åŠŸèƒ½)
- [ ] äº¤æ˜“ç•°å¸¸åµæ¸¬(æœªä¾†åŠŸèƒ½)
- [ ] åŒ¯å‡ºç‚º Excel(ä½å„ªå…ˆåº)

## Open Questions

1. **[NEEDS CLARIFICATION]** äº¤æ˜“å¤±æ•—è¨˜éŒ„æ˜¯å¦ä¹Ÿè¦ä¿å­˜?
2. **[NEEDS CLARIFICATION]** æ˜¯å¦éœ€è¦æ”¯æ´äº¤æ˜“ç‹€æ…‹æ›´æ–°(å¦‚è¨‚å–®å–æ¶ˆ)?
3. **[DECISION NEEDED]** æ­·å²è³‡æ–™æ˜¯å¦éœ€è¦é·ç§»åˆ°æ­¤æœå‹™?
```

**PM ä½¿ç”¨ /speckit.clarify æ¾„æ¸…å•é¡Œ:**

```text
/speckit.clarify

AI è­˜åˆ¥æ¨¡ç³Šéœ€æ±‚:
1. "äº¤æ˜“å¤±æ•—è¨˜éŒ„" - å®šç¾©ä¸æ˜ç¢º
2. "ç‹€æ…‹æ›´æ–°" - å½±éŸ¿è³‡æ–™æ¨¡å‹è¨­è¨ˆ
3. "æ­·å²è³‡æ–™é·ç§»" - å½±éŸ¿æ™‚ç¨‹ä¼°ç®—

å»ºè­°è£œå……:
- å¤±æ•—è¨˜éŒ„è™•ç†ç­–ç•¥
- äº¤æ˜“ç‹€æ…‹æ©Ÿå®šç¾©
- è³‡æ–™é·ç§»ç¯„åœèˆ‡æ™‚ç¨‹
```

**PM æ›´æ–° Spec:**

```markdown
## Open Questions (å·²è§£æ±º)

### Q1: äº¤æ˜“å¤±æ•—è¨˜éŒ„è™•ç†
**Decision**: å¤±æ•—è¨˜éŒ„ä¹Ÿéœ€ä¿å­˜,ä½†æ¨™è¨˜ç‚º FAILED ç‹€æ…‹

### Q2: äº¤æ˜“ç‹€æ…‹æ›´æ–°
**Decision**: v1.0 ä¸æ”¯æ´ç‹€æ…‹æ›´æ–°(Append-Only è¨­è¨ˆ)
- å¦‚éœ€æ›´æ–°,ç™¼é€æ–°çš„è£œå„Ÿäº¤æ˜“äº‹ä»¶
- ä¿æŒäº‹ä»¶æº¯æº(Event Sourcing)ç‰¹æ€§

### Q3: æ­·å²è³‡æ–™é·ç§»
**Decision**: v1.0 ä¸é·ç§»æ­·å²è³‡æ–™
- åƒ…è¨˜éŒ„ä¸Šç·šå¾Œçš„æ–°äº¤æ˜“
- æ­·å²è³‡æ–™æŸ¥è©¢ä»ä½¿ç”¨èˆŠç³»çµ±(å¹³è¡Œé‹ä½œ 1 å€‹æœˆ)
```

#### Step 2: Backend Dev æ’°å¯« Plan

**Backend Dev ä½¿ç”¨ AI:**

```text
/speckit.plan

AI è®€å– spec.md èˆ‡ Constitution,ç”¢ç”Ÿå¯¦ä½œè¨ˆç•«...
```

**ç”¢ç”Ÿ `specs/transaction-log-service/plan.md` (ç¯€éŒ„)**:

```markdown
# Plan: Transaction Log Service

## Phase -1: Pre-Implementation Gates

### Simplicity Gate
- [ ] ä½¿ç”¨ â‰¤ 3 å€‹å°ˆæ¡ˆ? âœ… æ˜¯(å–®ä¸€ Spring Boot æ‡‰ç”¨)
- [ ] é¿å…å¾®æ¡†æ¶? âœ… æ˜¯(ä½¿ç”¨ Spring Boot)
- [ ] é¿å…å¾®å‰ç«¯? âœ… æ˜¯(ç„¡å‰ç«¯)

### Library-First Gate
- [ ] å„ªå…ˆä½¿ç”¨ç¾æœ‰ç¨‹å¼åº«? âœ… æ˜¯
  - Spring Boot Starter Data JPA
  - Spring Kafka
  - HikariCP
  - Spring Security OAuth2

### Test-Driven Development Gate
- [ ] æ¸¬è©¦ç­–ç•¥å®Œæ•´? âœ… æ˜¯(è¦‹ Section 7)
- [ ] æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™ > 80%? âœ… æ˜¯

### Anti-Abstraction Gate
- [ ] é¿å…éåº¦æŠ½è±¡? âœ… æ˜¯
  - ç›´æ¥ä½¿ç”¨ JPA Repository
  - ç°¡å–®çš„ Service å±¤(ç„¡ DDD éåº¦è¨­è¨ˆ)

### Dependency Management Gate
- [ ] ä¾è³´æœ€å°åŒ–? âœ… æ˜¯(åƒ…å¿…è¦ä¾è³´)
- [ ] ç„¡å¾ªç’°ä¾è³´? âœ… æ˜¯(åˆ†å±¤æ¶æ§‹)

### Database Complexity Gate
- [ ] ä½¿ç”¨ â‰¤ 2 å€‹è³‡æ–™åº«? âœ… æ˜¯(åƒ… Oracle)

### Constitution Article X (Multi-Database) Gate
- [ ] N/A (æœ¬å°ˆæ¡ˆåƒ…ä½¿ç”¨å–®ä¸€è³‡æ–™åº«)

### Constitution Article XI (Batch Jobs) Gate
- [ ] æ‰¹æ¬¡ä»»å‹™è¨­è¨ˆ? âš ï¸ éœ€è¦(è³‡æ–™æ­¸æª”ä»»å‹™)
  - ä»»å‹™:æ¯æœˆæ­¸æª” > 1 å¹´çš„äº¤æ˜“
  - ä½¿ç”¨ Spring Batch
  - æ”¯æ´é‡å•Ÿèˆ‡å¤±æ•—è™•ç†

### Constitution Article XII (Microservices) Gate
- [ ] æœå‹™é‚Šç•Œæ¸…æ¥š? âœ… æ˜¯(å–®ä¸€è·è²¬:äº¤æ˜“è¨˜éŒ„)
- [ ] ä½¿ç”¨ Circuit Breaker? âœ… æ˜¯(Resilience4j)
- [ ] å¥åº·æª¢æŸ¥å®Œæ•´? âœ… æ˜¯(Actuator)

**All Gates Passed**: âœ…

---

## 1. Technology Stack

| Category | Technology | Version | Justification |
|----------|-----------|---------|---------------|
| Language | Java | 17 | å¹³å°æ¨™æº–,LTS ç‰ˆæœ¬ |
| Framework | Spring Boot | 3.1.x | å¹³å°æ¨™æº–,æˆç†Ÿç©©å®š |
| Database | Oracle | 19c | å¹³å°æ¨™æº–(Constitution Article X) |
| ORM | Spring Data JPA | - | ç°¡åŒ–è³‡æ–™å­˜å– |
| Messaging | Spring Kafka | - | å¹³å°æ¨™æº– |
| Connection Pool | HikariCP | - | é«˜æ•ˆèƒ½é€£ç·šæ±  |
| Resilience | Resilience4j | - | Circuit Breaker å¯¦ä½œ |
| Testing | JUnit 5, Mockito, Testcontainers | - | å®Œæ•´æ¸¬è©¦æ”¯æ´ |
| Build | Maven | 3.9.x | å¹³å°æ¨™æº– |

---

## 2. Architecture

### High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Order Service  â”‚â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                     â”œâ”€â”€> Kafka Topics
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ Payment Service â”‚â”€â”€â”¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ Refund Service  â”‚â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Transaction Log Service               â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Kafka        â”‚  â”‚ REST API        â”‚ â”‚
â”‚  â”‚ Consumer     â”‚  â”‚ Controller      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                   â”‚          â”‚
â”‚         â–¼                   â–¼          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Service Layer              â”‚   â”‚
â”‚  â”‚  - TransactionService          â”‚   â”‚
â”‚  â”‚  - StatisticsService           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â–¼                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Repository Layer           â”‚   â”‚
â”‚  â”‚  - TransactionRepository       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Oracle  â”‚
         â”‚   19c    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Component Responsibilities

**Kafka Consumer**:
- è¨‚é–±äº¤æ˜“äº‹ä»¶ Topics
- ååºåˆ—åŒ–äº‹ä»¶
- å‘¼å« Service å±¤å¯«å…¥

**REST API Controller**:
- è™•ç† HTTP è«‹æ±‚
- åƒæ•¸é©—è­‰
- å›å‚³çµæœ

**Service Layer**:
- æ¥­å‹™é‚è¼¯
- äº¤æ˜“è™•ç†
- å¿«å–ç®¡ç†

**Repository Layer**:
- è³‡æ–™å­˜å–
- JPA å¯¦é«”å°æ‡‰

---

## 3. Data Model

### Entity: Transaction

```java
@Entity
@Table(name = "TRANSACTIONS", 
       indexes = {
           @Index(name = "IDX_USER_DATE", columnList = "user_id, created_at"),
           @Index(name = "IDX_ORDER", columnList = "order_id"),
           @Index(name = "IDX_CREATED", columnList = "created_at")
       })
public class Transaction {
    @Id
    @Column(name = "transaction_id", length = 64)
    private String transactionId;
    
    @Enumerated(EnumType.STRING)
    @Column(name = "type", length = 20, nullable = false)
    private TransactionType type; // ORDER, PAYMENT, REFUND
    
    @Column(name = "user_id", length = 64, nullable = false)
    private String userId;
    
    @Column(name = "amount", precision = 15, scale = 2, nullable = false)
    private BigDecimal amount;
    
    @Column(name = "order_id", length = 64)
    private String orderId;
    
    @Column(name = "status", length = 20, nullable = false)
    private String status; // SUCCESS, FAILED
    
    @Column(name = "metadata", columnDefinition = "CLOB")
    private String metadata; // JSON æ ¼å¼
    
    @Column(name = "created_at", nullable = false)
    private Timestamp createdAt;
    
    @Column(name = "source_service", length = 50)
    private String sourceService;
}
```

### Database Schema

```sql
CREATE TABLE TRANSACTIONS (
    transaction_id VARCHAR2(64) PRIMARY KEY,
    type VARCHAR2(20) NOT NULL,
    user_id VARCHAR2(64) NOT NULL,
    amount NUMBER(15, 2) NOT NULL,
    order_id VARCHAR2(64),
    status VARCHAR2(20) NOT NULL,
    metadata CLOB,
    created_at TIMESTAMP NOT NULL,
    source_service VARCHAR2(50)
);

-- ç´¢å¼•(æ•ˆèƒ½å„ªåŒ–)
CREATE INDEX IDX_USER_DATE ON TRANSACTIONS(user_id, created_at);
CREATE INDEX IDX_ORDER ON TRANSACTIONS(order_id);
CREATE INDEX IDX_CREATED ON TRANSACTIONS(created_at);

-- åˆ†å€è¡¨(æ”¯æ´å¤§é‡è³‡æ–™)
ALTER TABLE TRANSACTIONS 
MODIFY PARTITION BY RANGE (created_at) 
INTERVAL(NUMTOYMINTERVAL(1, 'MONTH'));
```

---

## 4. API Contracts

#### 4.1 POST /api/v1/transactions/query

æŸ¥è©¢äº¤æ˜“è¨˜éŒ„

**Request**:
```json
{
  "userId": "user123",
  "startDate": "2025-10-01T00:00:00Z",
  "endDate": "2025-10-31T23:59:59Z",
  "type": "ORDER",
  "page": 0,
  "size": 20
}
```

**Response** (200 OK):
```json
{
  "content": [
    {
      "transactionId": "tx_abc123",
      "type": "ORDER",
      "userId": "user123",
      "amount": 1999.00,
      "orderId": "order_xyz",
      "status": "SUCCESS",
      "createdAt": "2025-10-15T10:30:00Z",
      "sourceService": "order-service"
    }
  ],
  "page": 0,
  "size": 20,
  "totalElements": 45,
  "totalPages": 3
}
```

#### 4.2 GET /api/v1/transactions/statistics

å–å¾—çµ±è¨ˆæ•¸æ“š

**Query Parameters**:
- `startDate`: é–‹å§‹æ—¥æœŸ(ISO 8601)
- `endDate`: çµæŸæ—¥æœŸ(ISO 8601)

**Response** (200 OK):
```json
{
  "dateRange": {
    "start": "2025-10-01",
    "end": "2025-10-31"
  },
  "summary": {
    "ORDER": {
      "count": 15000,
      "totalAmount": 29850000.00,
      "successRate": 0.98
    },
    "PAYMENT": {
      "count": 14700,
      "totalAmount": 29850000.00,
      "successRate": 0.99
    },
    "REFUND": {
      "count": 300,
      "totalAmount": 450000.00,
      "successRate": 1.0
    }
  }
}
```

---

## 5. Implementation Phases

### Phase 0: Project Setup (1 day)
**Tasks**:
- [ ] å»ºç«‹ Maven å°ˆæ¡ˆ
- [ ] è¨­å®š Spring Boot
- [ ] è¨­å®š Oracle é€£ç·š
- [ ] è¨­å®š Kafka
- [ ] å»ºç«‹ CI/CD Pipeline

**Deliverables**:
- [ ] å¯å•Ÿå‹•çš„ Spring Boot æ‡‰ç”¨
- [ ] application.yml è¨­å®šå®Œæˆ
- [ ] Dockerfile

---

### Phase 1: Core Domain (3 days)
**Tasks**:
- [ ] å®šç¾© Transaction Entity
- [ ] å¯¦ä½œ TransactionRepository
- [ ] å¯¦ä½œ TransactionService(å¯«å…¥é‚è¼¯)
- [ ] å–®å…ƒæ¸¬è©¦(è¦†è“‹ç‡ > 80%)

**Deliverables**:
- [ ] Transaction.java
- [ ] TransactionRepository.java
- [ ] TransactionService.java
- [ ] æ¸¬è©¦é¡åˆ¥

---

### Phase 2: Kafka Consumer (4 days)
**Tasks**:
- [ ] å®šç¾©äº‹ä»¶ DTO(OrderEvent, PaymentEvent, RefundEvent)
- [ ] å¯¦ä½œ KafkaConsumerConfig
- [ ] å¯¦ä½œ TransactionEventListener
- [ ] æ•´åˆæ¸¬è©¦(ä½¿ç”¨ Testcontainers)
- [ ] éŒ¯èª¤è™•ç†èˆ‡é‡è©¦æ©Ÿåˆ¶

**Deliverables**:
- [ ] Event DTOs
- [ ] KafkaConsumerConfig.java
- [ ] TransactionEventListener.java
- [ ] æ•´åˆæ¸¬è©¦

---

### Phase 3: REST API (4 days)
**Tasks**:
- [ ] å¯¦ä½œ TransactionQueryController
- [ ] å¯¦ä½œåˆ†é èˆ‡æ’åº
- [ ] å¯¦ä½œ StatisticsController
- [ ] å¯¦ä½œå¿«å–(Caffeine)
- [ ] API æ¸¬è©¦(MockMvc)

**Deliverables**:
- [ ] Controllers
- [ ] Request/Response DTOs
- [ ] API æ¸¬è©¦

---

### Phase 4: Non-Functional Features (3 days)
**Tasks**:
- [ ] å¯¦ä½œ OAuth2 èªè­‰
- [ ] å¯¦ä½œ Circuit Breaker(Resilience4j)
- [ ] å¯¦ä½œå¥åº·æª¢æŸ¥(Actuator)
- [ ] å¯¦ä½œç›£æ§(Prometheus Metrics)
- [ ] æ•ˆèƒ½æ¸¬è©¦(JMeter)

**Deliverables**:
- [ ] Security Configuration
- [ ] Resilience Configuration
- [ ] Actuator Endpoints
- [ ] æ•ˆèƒ½æ¸¬è©¦å ±å‘Š

---

### Phase 5: Batch Job (2 days)
**Tasks**:
- [ ] å¯¦ä½œè³‡æ–™æ­¸æª” Job(Spring Batch)
- [ ] å¯¦ä½œå®šæ™‚æ’ç¨‹(æ¯æœˆ 1 æ—¥åŸ·è¡Œ)
- [ ] å¯¦ä½œå¤±æ•—é‡è©¦
- [ ] æ‰¹æ¬¡æ¸¬è©¦

**Deliverables**:
- [ ] ArchiveTransactionJob.java
- [ ] Job Configuration
- [ ] æ‰¹æ¬¡æ¸¬è©¦

---

### Phase 6: Documentation & Deployment (2 days)
**Tasks**:
- [ ] æ’°å¯« API æ–‡ä»¶(OpenAPI)
- [ ] æ’°å¯« README
- [ ] æ’°å¯«ç¶­é‹æ‰‹å†Š
- [ ] éƒ¨ç½²åˆ°æ¸¬è©¦ç’°å¢ƒ
- [ ] éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ

**Deliverables**:
- [ ] API æ–‡ä»¶
- [ ] README.md
- [ ] ç¶­é‹æ‰‹å†Š
- [ ] éƒ¨ç½²å®Œæˆ

---

## 6. Testing Strategy

### Unit Tests (80% Coverage Target)
- Service å±¤é‚è¼¯
- Repository æŸ¥è©¢
- DTO é©—è­‰

**Tools**: JUnit 5, Mockito, AssertJ

### Integration Tests
- Kafka æ¶ˆè²»è€…æ•´åˆ
- Oracle è³‡æ–™åº«æ•´åˆ
- API ç«¯é»æ¸¬è©¦

**Tools**: Testcontainers (Kafka, Oracle), MockMvc

### Performance Tests
- å¯«å…¥ TPS æ¸¬è©¦(ç›®æ¨™ > 1000)
- æŸ¥è©¢å»¶é²æ¸¬è©¦(ç›®æ¨™ < 500ms)
- ä¸¦ç™¼æ¸¬è©¦(100 concurrent users)

**Tools**: JMeter, Gatling

### Contract Tests
- é©—è­‰äº‹ä»¶ Schema(èˆ‡ä¸Šæ¸¸æœå‹™)
- é©—è­‰ API å›æ‡‰æ ¼å¼(èˆ‡ä¸‹æ¸¸å‘¼å«è€…)

**Tools**: Spring Cloud Contract

---

## 7. Risk Mitigation

### Risk 1: Oracle æ•ˆèƒ½ç“¶é ¸
**Mitigation**:
- ä½¿ç”¨åˆ†å€è¡¨(Partitioning)
- å»ºç«‹é©ç•¶ç´¢å¼•
- å¯¦ä½œé€£ç·šæ± å„ªåŒ–(HikariCP)
- è€ƒæ…®è®€å¯«åˆ†é›¢(Oracle Active Data Guard)

### Risk 2: Kafka æ¶ˆè²»å»¶é²
**Mitigation**:
- å¢åŠ  Consumer Group å¯¦ä¾‹
- ä½¿ç”¨æ‰¹æ¬¡å¯«å…¥(æ¸›å°‘è³‡æ–™åº«å¾€è¿”)
- ç›£æ§ Consumer Lag

### Risk 3: ç£ç¢Ÿç©ºé–“ä¸è¶³
**Mitigation**:
- å¯¦ä½œè³‡æ–™æ­¸æª”(Spring Batch Job)
- è¨­å®šç£ç¢Ÿä½¿ç”¨ç‡å‘Šè­¦(80% é–¾å€¼)
- å®šæœŸæ¸…ç†æ­¸æª”è³‡æ–™(> 2 å¹´)

---

## 8. Deployment

### Environment Variables
```properties
# Database
SPRING_DATASOURCE_URL=jdbc:oracle:thin:@//oracle-prod:1521/TRANS_LOG
SPRING_DATASOURCE_USERNAME=${DB_USER}
SPRING_DATASOURCE_PASSWORD=${DB_PASSWORD}

# Kafka
SPRING_KAFKA_BOOTSTRAP_SERVERS=kafka-prod:9092
SPRING_KAFKA_CONSUMER_GROUP_ID=transaction-log-service

# OAuth2
SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=https://auth.example.com
```

### Docker
```dockerfile
FROM openjdk:17-jdk-slim
COPY target/transaction-log-service.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

### Kubernetes
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: transaction-log-service
spec:
  replicas: 3
  selector:
    matchLabels:
      app: transaction-log-service
  template:
    metadata:
      labels:
        app: transaction-log-service
    spec:
      containers:
      - name: app
        image: transaction-log-service:1.0.0
        ports:
        - containerPort: 8080
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "prod"
        resources:
          requests:
            memory: "512Mi"
            cpu: "500m"
          limits:
            memory: "1Gi"
            cpu: "1000m"
        livenessProbe:
          httpGet:
            path: /actuator/health/liveness
            port: 8080
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /actuator/health/readiness
            port: 8080
          initialDelaySeconds: 20
          periodSeconds: 5
```

---

## Timeline Summary

| Phase | Duration | Dependencies |
|-------|----------|--------------|
| Phase 0 | 1 day | None |
| Phase 1 | 3 days | Phase 0 |
| Phase 2 | 4 days | Phase 1 |
| Phase 3 | 4 days | Phase 1 |
| Phase 4 | 3 days | Phase 2, 3 |
| Phase 5 | 2 days | Phase 1 |
| Phase 6 | 2 days | Phase 4, 5 |

**Total**: 19 working days (~4 weeks with buffer)
```

#### Step 3: Backend Dev æ‹†åˆ† Tasks

```text
/speckit.tasks

ç”¢ç”Ÿ 21 å€‹å…·é«”ä»»å‹™,ä¾ Phase çµ„ç¹”...
(è©³ç´°ä»»å‹™é¡ä¼¼ç¬¬ä¸‰ç« ç¯„ä¾‹,æ­¤è™•çœç•¥)
```

#### Step 4: é å¯¦ä½œæª¢æŸ¥

```text
/speckit.analyze

çµæœ:
âœ… æ‰€æœ‰ User Stories å°æ‡‰åˆ° Plan
âœ… æ‰€æœ‰ NFR æœ‰å¯¦ä½œè¨ˆç•«
âœ… é€šéæ‰€æœ‰ Constitution Gates
âš ï¸ 1 å€‹å»ºè­°:è£œå…… API ç‰ˆæœ¬å‡ç´šç­–ç•¥

/speckit.checklist

è©•åˆ†:90/100
å»ºè­°:å¯é–‹å§‹å¯¦ä½œ
```

#### Step 5: å¯¦ä½œ(TDD)

**Backend Dev é–‹å§‹å¯¦ä½œ Task 1:**

```bash
/speckit.implement T001
# ç”¢ç”Ÿæ¸¬è©¦ + å¯¦ä½œç¨‹å¼ç¢¼

git add .
git commit -m "feat(core): implement Transaction entity (T001)

- Add Transaction JPA entity
- Add TransactionRepository
- Add unit tests (coverage 85%)

Related: US-001, T001
"
```

**æŒçºŒé€²è¡Œå…¶ä»– Tasks...**

#### Step 6: éƒ¨ç½²èˆ‡é©—æ”¶

**3 é€±å¾Œ**:
- âœ… æ‰€æœ‰ 21 å€‹ Tasks å®Œæˆ
- âœ… æ¸¬è©¦è¦†è“‹ç‡ 82%
- âœ… æ•ˆèƒ½æ¸¬è©¦é€šé(å¯«å…¥ TPS 1200, æŸ¥è©¢å»¶é² P95 420ms)
- âœ… éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
- âœ… PM é©—æ”¶é€šé

**å°ˆæ¡ˆæˆæœ**:
- ğŸ“ å®Œæ•´æ–‡ä»¶(Spec, Plan, Tasks, API Docs)
- ğŸ¯ éœ€æ±‚è¿½æº¯æ€§ 100%
- ğŸ§ª é«˜æ¸¬è©¦è¦†è“‹ç‡
- âš¡ æ•ˆèƒ½é”æ¨™
- ğŸ“… æº–æ™‚äº¤ä»˜

---

### 4.2 æ¡ˆä¾‹äºŒ:Brownfield æ•´åˆ - ç‚ºæ—¢æœ‰ç³»çµ±æ–°å¢åŠŸèƒ½

#### èƒŒæ™¯

ç¾æœ‰ã€Œå®¢æˆ¶ç®¡ç†ç³»çµ±ã€éœ€è¦æ–°å¢ã€Œå®¢æˆ¶è©•ç´šã€åŠŸèƒ½ã€‚

**ç¾æ³**:
- 10 å¹´è€ç³»çµ±,Spring MVC + Oracle
- ç¨‹å¼ç¢¼ç„¡æ¸¬è©¦(Coverage 0%)
- æ–‡ä»¶ç¼ºå¤±
- å¤šäººç¶­è­·,ç¨‹å¼ç¢¼é¢¨æ ¼ä¸ä¸€

**éœ€æ±‚**:
- æ–°å¢å®¢æˆ¶è©•ç´šè¨ˆç®—(ä¾äº¤æ˜“æ­·å²ã€ä¿¡ç”¨è¨˜éŒ„)
- æä¾›è©•ç´šæŸ¥è©¢ API
- ä¸å½±éŸ¿æ—¢æœ‰åŠŸèƒ½

**æŒ‘æˆ°**:
- å¦‚ä½•åœ¨è€ç³»çµ±ä¸­æ‡‰ç”¨ SDD?
- å¦‚ä½•è£œå……æ¸¬è©¦?
- å¦‚ä½•é¿å…ç ´å£æ—¢æœ‰åŠŸèƒ½?

#### ç­–ç•¥:æ¼¸é€²å¼ SDD å°å…¥

**Step 1: ç‚ºæ–°åŠŸèƒ½æ’°å¯« Spec**

å³ä½¿ç³»çµ±è€èˆŠ,æ–°åŠŸèƒ½ä»éµå¾ª SDD:

```markdown
# Spec: Customer Rating Feature

## User Stories

### US-R001: è‡ªå‹•è¨ˆç®—å®¢æˆ¶è©•ç´š
**As a** ç³»çµ±  
**I want to** ä¾æ“šäº¤æ˜“æ­·å²è‡ªå‹•è¨ˆç®—å®¢æˆ¶è©•ç´š  
**So that** æ¥­å‹™äººå“¡å¯å¿«é€Ÿè©•ä¼°å®¢æˆ¶åƒ¹å€¼

**Acceptance Criteria**:
1. è©•ç´šåˆ†ç‚º 5 ç´š:A+, A, B, C, D
2. è¨ˆç®—å› å­:
   - ç´¯ç©äº¤æ˜“é‡‘é¡(æ¬Šé‡ 40%)
   - äº¤æ˜“é »ç‡(æ¬Šé‡ 30%)
   - ä¿¡ç”¨è¨˜éŒ„(æ¬Šé‡ 30%)
3. æ¯æ—¥å‡Œæ™¨ 2:00 æ‰¹æ¬¡æ›´æ–°
4. æ‰‹å‹•è§¸ç™¼é‡æ–°è¨ˆç®—åŠŸèƒ½

**Priority**: High  
**Estimated Effort**: 8 days
```

**Step 2: æ’°å¯« Plan(éš”é›¢ç­–ç•¥)**

ç”±æ–¼æ—¢æœ‰ç³»çµ±ç¼ºä¹æ¸¬è©¦,Plan éœ€è¦ç‰¹åˆ¥è€ƒæ…®éš”é›¢:

```markdown
# Plan: Customer Rating Feature

## Integration Strategy

### Approach: Strangler Fig Pattern
- æ–°åŠŸèƒ½ä½œç‚ºç¨ç«‹æ¨¡çµ„
- æœ€å°åŒ–ä¿®æ”¹æ—¢æœ‰ç¨‹å¼ç¢¼
- é€éä»‹é¢æ•´åˆ

### Architecture

```
æ—¢æœ‰ CustomerService
        â”‚
        â”œâ”€â”€> CustomerRatingService (æ–°æ¨¡çµ„)
        â”‚         â”‚
        â”‚         â”œâ”€â”€> RatingCalculator (æ–°)
        â”‚         â”œâ”€â”€> RatingRepository (æ–°)
        â”‚         â””â”€â”€> RatingBatchJob (æ–°)
        â”‚
        â””â”€â”€> (æ—¢æœ‰åŠŸèƒ½ä¸è®Š)
```

### Risk Mitigation
1. **éš”é›¢è®Šæ›´**: æ–°åŠŸèƒ½ç¨ç«‹ Package
2. **é˜²ç¦¦æ€§ç¨‹å¼è¨­è¨ˆ**: æ‰€æœ‰å‘¼å«æ—¢æœ‰ç¨‹å¼ç¢¼éœ€ try-catch
3. **Feature Toggle**: å¯å‹•æ…‹é–‹é—œæ–°åŠŸèƒ½
4. **æ¼¸é€²å¼éƒ¨ç½²**: å…ˆéƒ¨ç½²ä½†ä¸å•Ÿç”¨,è§€å¯Ÿç©©å®šæ€§

---

## Phase 1: Characterization Tests (ç‰¹å¾µæ¸¬è©¦)

åœ¨ä¿®æ”¹å‰,ç‚ºæ—¢æœ‰ç›¸é—œåŠŸèƒ½è£œå……æ¸¬è©¦:

**Tasks**:
- [ ] ç‚º CustomerService.getCustomer() è£œå……æ¸¬è©¦
- [ ] ç‚º CustomerService.updateCustomer() è£œå……æ¸¬è©¦
- [ ] å»ºç«‹æ¸¬è©¦è³‡æ–™å¿«ç…§

**ç›®çš„**: ç¢ºä¿æ–°åŠŸèƒ½ä¸ç ´å£æ—¢æœ‰è¡Œç‚º

---

## Phase 2: New Module Implementation

å¯¦ä½œæ–°æ¨¡çµ„(å®Œå…¨ç¨ç«‹):

**Tasks**:
- [ ] å¯¦ä½œ RatingCalculator(ç´”é‚è¼¯,æ˜“æ¸¬è©¦)
- [ ] å¯¦ä½œ RatingRepository(JPA)
- [ ] å¯¦ä½œ RatingService(æ•´åˆå±¤)
- [ ] å¯¦ä½œ RatingBatchJob(Spring Batch)
- [ ] å–®å…ƒæ¸¬è©¦(ç›®æ¨™ > 85%)

---

## Phase 3: Integration

æ•´åˆæ–°æ¨¡çµ„èˆ‡æ—¢æœ‰ç³»çµ±:

**Tasks**:
- [ ] åœ¨ CustomerService æ–°å¢ getRating() æ–¹æ³•
- [ ] å¯¦ä½œ Feature Toggle
- [ ] æ•´åˆæ¸¬è©¦
- [ ] å›æ­¸æ¸¬è©¦(åŸ·è¡Œæ—¢æœ‰åŠŸèƒ½,ç¢ºä¿ç„¡ç ´å£)

---

## Phase 4: Deployment

åˆ†éšæ®µéƒ¨ç½²:

1. **Stage 1**: éƒ¨ç½²ä½†ä¸å•Ÿç”¨(Feature Toggle Off)
2. **Stage 2**: å°ç¯„åœå•Ÿç”¨(10% å®¢æˆ¶)
3. **Stage 3**: å…¨é¢å•Ÿç”¨
```

**Step 3: å¯¦ä½œ(TDD + Characterization Tests)**

**é¦–å…ˆå»ºç«‹ç‰¹å¾µæ¸¬è©¦**:

```java
/**
 * Characterization Test: è¨˜éŒ„æ—¢æœ‰è¡Œç‚º
 * ç›®çš„:ç¢ºä¿æ–°åŠŸèƒ½ä¸ç ´å£æ—¢æœ‰é‚è¼¯
 */
@Test
public void testGetCustomer_ExistingBehavior() {
    // Arrange
    String customerId = "CUST001";
    
    // Act
    Customer customer = customerService.getCustomer(customerId);
    
    // Assert: è¨˜éŒ„ç•¶å‰è¡Œç‚º(å³ä½¿ä¸å®Œç¾)
    assertThat(customer.getId()).isEqualTo("CUST001");
    assertThat(customer.getName()).isEqualTo("ç‹å°æ˜");
    // ... è¨˜éŒ„æ‰€æœ‰æ¬„ä½ç¾ç‹€
}
```

**ç„¶å¾Œå¯¦ä½œæ–°åŠŸèƒ½(TDD)**:

```java
// æ–°æ¨¡çµ„å®Œå…¨ç¨ç«‹,ä½¿ç”¨ TDD
@Test
public void testCalculateRating_HighValueCustomer() {
    // é«˜äº¤æ˜“é‡‘é¡ + é«˜é »ç‡ + è‰¯å¥½ä¿¡ç”¨ = A+
    CustomerMetrics metrics = CustomerMetrics.builder()
        .totalAmount(new BigDecimal("5000000"))
        .transactionFrequency(50)
        .creditScore(95)
        .build();
    
    Rating rating = ratingCalculator.calculate(metrics);
    
    assertThat(rating).isEqualTo(Rating.A_PLUS);
}
```

**Step 4: Feature Toggle æ§åˆ¶**

```java
@Service
public class CustomerService {
    
    @Autowired
    private RatingService ratingService;
    
    @Value("${feature.customer-rating.enabled:false}")
    private boolean ratingFeatureEnabled;
    
    public CustomerDTO getCustomerWithRating(String customerId) {
        Customer customer = getCustomer(customerId); // æ—¢æœ‰æ–¹æ³•
        
        CustomerDTO dto = CustomerDTO.from(customer);
        
        // Feature Toggle æ§åˆ¶
        if (ratingFeatureEnabled) {
            try {
                Rating rating = ratingService.getRating(customerId);
                dto.setRating(rating);
            } catch (Exception e) {
                log.warn("Failed to get rating for customer: {}", customerId, e);
                // é™ç´š:è©•ç´šæŸ¥è©¢å¤±æ•—ä¸å½±éŸ¿ä¸»æµç¨‹
            }
        }
        
        return dto;
    }
}
```

**Step 5: åˆ†éšæ®µéƒ¨ç½²**

```yaml
# Stage 1: éƒ¨ç½²ä½†ä¸å•Ÿç”¨
feature:
  customer-rating:
    enabled: false

# Stage 2: å°ç¯„åœå•Ÿç”¨(Canary)
feature:
  customer-rating:
    enabled: true
    rollout-percentage: 10  # åƒ… 10% å®¢æˆ¶å•Ÿç”¨

# Stage 3: å…¨é¢å•Ÿç”¨
feature:
  customer-rating:
    enabled: true
    rollout-percentage: 100
```

**æˆæœ**:
- âœ… æ–°åŠŸèƒ½å®Œæ•´éµå¾ª SDD
- âœ… æ—¢æœ‰åŠŸèƒ½é›¶ç ´å£(é€é Characterization Tests é©—è­‰)
- âœ… æ–°æ¨¡çµ„æ¸¬è©¦è¦†è“‹ç‡ 88%
- âœ… å¯éš¨æ™‚å›æ»¾(Feature Toggle)
- ğŸ“ å®Œæ•´æ–‡ä»¶(Spec, Plan, Tasks)

#### Brownfield å¯¦å‹™å»ºè­°

**1. å„ªå…ˆéš”é›¢,é¿å…å¤§ç¯„åœé‡æ§‹**

```text
âŒ éŒ¯èª¤åšæ³•:ã€Œè¶æ©Ÿé‡æ§‹æ•´å€‹ CustomerServiceã€
âœ… æ­£ç¢ºåšæ³•:ã€Œæ–°åŠŸèƒ½ç¨ç«‹æ¨¡çµ„,é€éä»‹é¢æ•´åˆã€
```

**2. ä½¿ç”¨ Characterization Tests ä¿è­·æ—¢æœ‰è¡Œç‚º**

```text
åœ¨ä¿®æ”¹å‰:
1. ç‚ºç›¸é—œæ—¢æœ‰åŠŸèƒ½è£œå……æ¸¬è©¦
2. è¨˜éŒ„ç•¶å‰è¡Œç‚º(å³ä½¿ä¸å®Œç¾)
3. ç¢ºä¿æ¸¬è©¦é€šéå¾Œå†ä¿®æ”¹
```

**3. Feature Toggle æ˜¯å¿…è¦çš„**

```text
å¥½è™•:
- å¯éš¨æ™‚é—œé–‰æ–°åŠŸèƒ½
- æ”¯æ´ A/B Testing
- é™ä½éƒ¨ç½²é¢¨éšª
```

**4. æ¼¸é€²å¼æ–‡ä»¶åŒ–**

```text
ä¸è¦æ±‚ä¸€æ¬¡è£œé½Šæ‰€æœ‰æ–‡ä»¶:
- æ–°åŠŸèƒ½:å®Œæ•´ Spec + Plan
- æ—¢æœ‰åŠŸèƒ½:é€æ­¥è£œå……(å„ªå…ˆè£œå……ç¶“å¸¸ä¿®æ”¹çš„éƒ¨åˆ†)
```

---

### 4.3 åœ˜éšŠå”ä½œ:å¤šäººé–‹ç™¼

#### æƒ…å¢ƒ

3 äººåœ˜éšŠé–‹ç™¼ã€Œè¨‚å–®ç®¡ç†ç³»çµ±ã€:
- Alice: å‰ç«¯å·¥ç¨‹å¸«
- Bob: å¾Œç«¯å·¥ç¨‹å¸«
- Carol: æ¸¬è©¦å·¥ç¨‹å¸«

#### å”ä½œæµç¨‹

**Step 1: å…±åŒæ’°å¯« Spec(å”ä½œæœƒè­°)**

```text
æœƒè­°:Product Spec Review (1 å°æ™‚)
åƒèˆ‡:PM + Alice + Bob + Carol

æµç¨‹:
1. PM å±•ç¤ºåˆç¨¿ Spec
2. åœ˜éšŠå…±åŒæ¾„æ¸…éœ€æ±‚(/speckit.clarify)
3. è­˜åˆ¥æŠ€è¡“æŒ‘æˆ°
4. ç¢ºèª Acceptance Criteria
5. PM æ›´æ–° Spec

ç”¢å‡º:
- spec.md (ç¶“åœ˜éšŠåŒæ„)
- ç„¡ [NEEDS CLARIFICATION] æ®˜ç•™
```

**Step 2: åˆ†å·¥æ’°å¯« Plan**

```text
å¾Œç«¯ Plan (Bob):
- ç”¢ç”Ÿ backend-plan.md
- å®šç¾© API Contracts
- å®šç¾© Data Model
- å®šç¾©å¾Œç«¯ Tasks

å‰ç«¯ Plan (Alice):
- ç”¢ç”Ÿ frontend-plan.md
- ä¾æ“š API Contracts è¨­è¨ˆ UI
- å®šç¾©å‰ç«¯ Tasks
- å®šç¾©å…ƒä»¶çµæ§‹

æ¸¬è©¦ Plan (Carol):
- ç”¢ç”Ÿ test-plan.md
- å®šç¾©æ¸¬è©¦ç­–ç•¥
- å®šç¾©æ¸¬è©¦æ¡ˆä¾‹
- å®šç¾©æ¸¬è©¦ Tasks
```

**Step 3: åŒæ­¥ API Contracts(é—œéµ)**

```markdown
# contracts/order-api.md

## POST /api/v1/orders

**Request**:
```json
{
  "userId": "string",
  "items": [
    {
      "productId": "string",
      "quantity": number
    }
  ]
}
```

**Response** (201 Created):
```json
{
  "orderId": "string",
  "status": "PENDING",
  "createdAt": "ISO-8601"
}
```

**Error** (400 Bad Request):
```json
{
  "error": "INVALID_REQUEST",
  "message": "string",
  "details": []
}
```

---

**ç´„å®š**:
- Alice èˆ‡ Bob å¿…é ˆéµå¾ªæ­¤ Contract
- ä»»ä½•è®Šæ›´éœ€é›™æ–¹åŒæ„ä¸¦æ›´æ–°æ–‡ä»¶
- Carol ä¾æ­¤ Contract æ’°å¯«æ¸¬è©¦
```

**Step 4: å¹³è¡Œé–‹ç™¼**

```text
Alice (å‰ç«¯):
- ä½¿ç”¨ Mock API é–‹ç™¼(ä¾æ“š Contract)
- å¯¦ä½œ UI å…ƒä»¶
- å‰ç«¯æ¸¬è©¦

Bob (å¾Œç«¯):
- å¯¦ä½œ API(ç¬¦åˆ Contract)
- å–®å…ƒæ¸¬è©¦
- æ•´åˆæ¸¬è©¦

Carol (æ¸¬è©¦):
- æ’°å¯« Contract Tests(é©—è­‰ API ç¬¦åˆè¦æ ¼)
- æ’°å¯« E2E Tests
- æ•ˆèƒ½æ¸¬è©¦
```

**Step 5: æ•´åˆ**

```text
ç•¶ Bob å®Œæˆ API å¯¦ä½œ:
1. Carol åŸ·è¡Œ Contract Tests(é©—è­‰ API ç¬¦åˆè¦æ ¼)
2. Alice åˆ‡æ›åˆ°çœŸå¯¦ API(ç§»é™¤ Mock)
3. Carol åŸ·è¡Œ E2E Tests
4. æ•´åˆå®Œæˆ
```

#### å”ä½œå·¥å…·

**Git Flow + SDD**:

```text
main
  â””â”€ develop
      â”œâ”€ feature/US-010-order-creation
      â”‚   â”œâ”€ .speckit/spec.md (å…±ç”¨)
      â”‚   â”œâ”€ .speckit/backend-plan.md (Bob)
      â”‚   â”œâ”€ .speckit/frontend-plan.md (Alice)
      â”‚   â”œâ”€ .speckit/test-plan.md (Carol)
      â”‚   â”œâ”€ .speckit/contracts/ (å…±ç”¨)
      â”‚   â”œâ”€ backend/ (Bob)
      â”‚   â”œâ”€ frontend/ (Alice)
      â”‚   â””â”€ tests/ (Carol)
```

**Pull Request æ¨¡æ¿**:

```markdown
## PR Checklist

### Specification
- [ ] Spec å·²å¯©æŸ¥ä¸¦åŒæ„
- [ ] Plan å·²å®Œæˆ
- [ ] Contracts å·²å®šç¾©ä¸¦åŒæ­¥

### Implementation
- [ ] å¾Œç«¯:API ç¬¦åˆ Contract
- [ ] å‰ç«¯:UI ç¬¦åˆè¨­è¨ˆç¨¿
- [ ] æ¸¬è©¦:Contract Tests é€šé
- [ ] æ¸¬è©¦:E2E Tests é€šé

### Documentation
- [ ] API æ–‡ä»¶æ›´æ–°
- [ ] README æ›´æ–°

### Review
- [ ] å¾Œç«¯ Code Review (Bob â†’ Alice/Carol)
- [ ] å‰ç«¯ Code Review (Alice â†’ Bob/Carol)
- [ ] æ¸¬è©¦ Review (Carol â†’ Bob/Alice)
```

**æ¯æ—¥ç«™æœƒ**:

```text
Alice:
- æ˜¨å¤©:å®Œæˆè¨‚å–®è¡¨å–® UI (T015)
- ä»Šå¤©:æ•´åˆè¨‚å–®å»ºç«‹ API (T016)
- é˜»ç¤™:ç­‰å¾… Bob çš„ API éƒ¨ç½²åˆ°æ¸¬è©¦ç’°å¢ƒ

Bob:
- æ˜¨å¤©:å®Œæˆ OrderService (T008)
- ä»Šå¤©:éƒ¨ç½² API åˆ°æ¸¬è©¦ç’°å¢ƒ,é–‹å§‹ T009
- é˜»ç¤™:ç„¡

Carol:
- æ˜¨å¤©:å®Œæˆ Contract Tests (T020)
- ä»Šå¤©:é–‹å§‹ E2E Tests (T021)
- é˜»ç¤™:éœ€è¦æ¸¬è©¦ç’°å¢ƒçš„æ¸¬è©¦å¸³è™Ÿ
```

#### å”ä½œå¯¦å‹™å»ºè­°

**1. API Contracts æ˜¯å”ä½œçš„æ ¸å¿ƒ**

```text
å‰å¾Œç«¯åˆ†é›¢çš„é—œéµ:
- Contract å…ˆè¡Œ
- å‰ç«¯ Mock é–‹ç™¼
- å¾Œç«¯ç¬¦åˆ Contract
- æ¸¬è©¦é©—è­‰ Contract
```

**2. å®šæœŸåŒæ­¥(Sync Meeting)**

```text
é »ç‡:æ¯é€± 2 æ¬¡,æ¯æ¬¡ 30 åˆ†é˜

è­°ç¨‹:
1. å±•ç¤ºé€²åº¦(Demo)
2. è¨è«–é˜»ç¤™
3. åŒæ­¥è®Šæ›´(Spec/Plan/Contracts)
4. èª¿æ•´è¨ˆç•«
```

**3. ä½¿ç”¨å…±ç”¨æ–‡ä»¶åº«**

```text
å°ˆæ¡ˆæ ¹ç›®éŒ„:
.speckit/
â”œâ”€â”€ spec.md (å…±ç”¨)
â”œâ”€â”€ contracts/ (å…±ç”¨)
â”‚   â”œâ”€â”€ order-api.md
â”‚   â””â”€â”€ user-api.md
â”œâ”€â”€ plans/
â”‚   â”œâ”€â”€ backend-plan.md (Bob)
â”‚   â”œâ”€â”€ frontend-plan.md (Alice)
â”‚   â””â”€â”€ test-plan.md (Carol)
â””â”€â”€ decisions/ (å…±ç”¨)
    â””â”€â”€ 001-api-versioning.md
```

**4. Contract Testing è‡ªå‹•åŒ–**

```java
// Carol æ’°å¯« Contract Test
@Test
public void testCreateOrder_ContractCompliance() {
    // é©—è­‰ API ç¬¦åˆ Contract
    given()
        .contentType(ContentType.JSON)
        .body(validCreateOrderRequest())
    .when()
        .post("/api/v1/orders")
    .then()
        .statusCode(201)
        .body("orderId", notNullValue())
        .body("status", equalTo("PENDING"))
        .body("createdAt", matchesPattern(ISO_8601_PATTERN));
}
```

---

### 4.4 AI åŠ©æ‰‹æœ€ä½³å¯¦è¸

#### é¸æ“‡åˆé©çš„ AI åŠ©æ‰‹

| AI åŠ©æ‰‹ | å„ªå‹¢ | é©ç”¨å ´æ™¯ | Spec-Kit æ”¯æ´ |
|---------|------|----------|---------------|
| **GitHub Copilot** | VS Code æ•´åˆæœ€ä½³,ç¨‹å¼ç¢¼è£œå…¨å¼· | æ—¥å¸¸é–‹ç™¼,ç¨‹å¼ç¢¼å¯¦ä½œ | âœ… åŸç”Ÿæ”¯æ´ |
| **Claude** | æ¨ç†èƒ½åŠ›å¼·,é•·æ–‡æœ¬ç†è§£ä½³ | Spec/Plan æ’°å¯«,æ¶æ§‹è¨­è¨ˆ | âœ… æ”¯æ´ |
| **Cursor** | AI-first IDE,å…¨æ–‡ä»¶ç†è§£ | å¤§å‹å°ˆæ¡ˆé‡æ§‹ | âœ… æ”¯æ´ |
| **Windsurf** | å¤šæª”æ¡ˆç·¨è¼¯,ä»»å‹™è‡ªå‹•åŒ– | æ‰¹æ¬¡ä¿®æ”¹,è…³æœ¬ç”¢ç”Ÿ | âœ… æ”¯æ´ |

#### Prompt Engineering æŠ€å·§

**1. æä¾›å……åˆ†çš„ Context**

âŒ **ä¸å¥½çš„ Prompt**:

```text
å¹«æˆ‘å¯«ä¸€å€‹è¨‚å–®æœå‹™
```

âœ… **å¥½çš„ Prompt**:

```text
@workspace è«‹ä½¿ç”¨ /speckit.plan ç‚ºè¨‚å–®æœå‹™ç”¢ç”Ÿå¯¦ä½œè¨ˆç•«ã€‚

Context:
- å·²æœ‰ spec.md(è«‹åƒè€ƒ)
- æŠ€è¡“æ£§:Spring Boot 3.1 + PostgreSQL
- å¿…é ˆç¬¦åˆ Constitution(è«‹åƒè€ƒ .speckit/constitution.md)
- éœ€æ•´åˆæ—¢æœ‰çš„ UserService èˆ‡ PaymentService
- æ•ˆèƒ½è¦æ±‚:API å›æ‡‰æ™‚é–“ < 300ms

è«‹ç‰¹åˆ¥æ³¨æ„:
1. é€šéæ‰€æœ‰ Pre-Implementation Gates
2. å®šç¾©æ¸…æ¥šçš„ API Contracts
3. åŒ…å«å®Œæ•´çš„æ¸¬è©¦ç­–ç•¥
```

**2. è¿­ä»£å¼æå•**

```text
ç¬¬ä¸€è¼ª:
"è«‹ç”¢ç”Ÿè¨‚å–®æœå‹™çš„ Data Model"

ç¬¬äºŒè¼ª(åŸºæ–¼ç”¢ç”Ÿçš„çµæœ):
"é€™å€‹ Data Model ç¼ºå°‘è¨‚å–®ç‹€æ…‹è½‰æ›é‚è¼¯,è«‹è£œå……ç‹€æ…‹æ©Ÿå®šç¾©"

ç¬¬ä¸‰è¼ª:
"ç‹€æ…‹æ©Ÿè¨­è¨ˆå¾ˆå¥½,ä½†è«‹è€ƒæ…®ä½µç™¼æƒ…æ³ä¸‹çš„æ¨‚è§€é–æ©Ÿåˆ¶"
```

**3. ä½¿ç”¨ Spec-Kit æŒ‡ä»¤**

```text
# æ˜ç¢ºä½¿ç”¨ Spec-Kit æŒ‡ä»¤,AI æœƒéµå¾ª SDD æ–¹æ³•è«–
/speckit.specify
/speckit.plan
/speckit.tasks
/speckit.analyze
/speckit.implement T007
```

**4. è§’è‰²æ‰®æ¼”**

```text
ä½ æ˜¯ä¸€ä½è³‡æ·±çš„å¾®æœå‹™æ¶æ§‹å¸«,è² è²¬è¨­è¨ˆé«˜å¯ç”¨çš„äº¤æ˜“ç³»çµ±ã€‚
è«‹ç‚ºã€Œäº¤æ˜“è¨˜éŒ„æœå‹™ã€æ’°å¯«å¯¦ä½œè¨ˆç•«(ä½¿ç”¨ /speckit.plan)ã€‚

è€ƒæ…®ä»¥ä¸‹æŒ‘æˆ°:
- æ—¥äº¤æ˜“é‡ 100 è¬ç­†
- éœ€æ”¯æ´ 2 å¹´æ­·å²è³‡æ–™æŸ¥è©¢
- 99.9% å¯ç”¨æ€§è¦æ±‚
- äº‹ä»¶ä¸èƒ½éºå¤±

è«‹åœ¨ Plan ä¸­è©³ç´°èªªæ˜:
1. å¦‚ä½•è¨­è¨ˆåˆ†å€ç­–ç•¥
2. å¦‚ä½•å„ªåŒ–æŸ¥è©¢æ•ˆèƒ½
3. å¦‚ä½•ç¢ºä¿äº‹ä»¶ä¸éºå¤±
4. å¦‚ä½•è™•ç†å¤§é‡æ­·å²è³‡æ–™
```

#### ç¨‹å¼ç¢¼å¯©æŸ¥æç¤ºè©

**å¯©æŸ¥ Spec**:

```text
è«‹å¯©æŸ¥ä»¥ä¸‹ Spec,è­˜åˆ¥æ½›åœ¨å•é¡Œ:

[è²¼ä¸Š spec.md å…§å®¹]

è«‹æª¢æŸ¥:
1. User Stories æ˜¯å¦æ¸…æ¥šä¸”å¯æ¸¬è©¦?
2. Acceptance Criteria æ˜¯å¦æ˜ç¢º?
3. NFR æ˜¯å¦å¯é‡åŒ–?
4. æ˜¯å¦æœ‰éºæ¼çš„é‚Šç•Œæ¢ä»¶?
5. æ˜¯å¦æœ‰æ¨¡ç³Šçš„éœ€æ±‚([NEEDS CLARIFICATION])?
6. Out of Scope æ˜¯å¦æ¸…æ¥š?
```

**å¯©æŸ¥ Plan**:

```text
è«‹å¯©æŸ¥ä»¥ä¸‹ Plan,ç¢ºä¿ç¬¦åˆ Constitution:

[è²¼ä¸Š plan.md å…§å®¹]

[è²¼ä¸Š constitution.md å…§å®¹]

è«‹æª¢æŸ¥:
1. æ˜¯å¦é€šéæ‰€æœ‰ Pre-Implementation Gates?
2. æŠ€è¡“é¸æ“‡æ˜¯å¦æœ‰å……åˆ†ç†ç”±?
3. æ¶æ§‹æ˜¯å¦éåº¦è¤‡é›œ?
4. æ¸¬è©¦ç­–ç•¥æ˜¯å¦å®Œæ•´?
5. æ˜¯å¦æœ‰é•å Constitution çš„è¨­è¨ˆ?
6. Risk Mitigation æ˜¯å¦åˆç†?
```

**å¯©æŸ¥ç¨‹å¼ç¢¼**:

```text
è«‹å¯©æŸ¥ä»¥ä¸‹ç¨‹å¼ç¢¼,ç¢ºä¿ç¬¦åˆ SDD åŸå‰‡:

[è²¼ä¸Šç¨‹å¼ç¢¼]

è«‹æª¢æŸ¥:
1. æ˜¯å¦ç¬¦åˆ Task çš„ Acceptance Criteria?
2. æ˜¯å¦æœ‰å°æ‡‰çš„æ¸¬è©¦?
3. æ¸¬è©¦è¦†è“‹ç‡æ˜¯å¦è¶³å¤ ?
4. æ˜¯å¦éµå¾ª SOLID åŸå‰‡?
5. æ˜¯å¦æœ‰æ½›åœ¨çš„æ•ˆèƒ½å•é¡Œ?
6. éŒ¯èª¤è™•ç†æ˜¯å¦å®Œæ•´?
7. æ˜¯å¦æœ‰å®‰å…¨æ¼æ´?
```

#### å¯¦å‹™å»ºè­°

**1. ä¸è¦ç›²ç›®æ¥å— AI ç”¢ç”Ÿçš„ç¨‹å¼ç¢¼**

```text
AI ç”¢ç”Ÿçš„ç¨‹å¼ç¢¼æ‡‰è©²æ˜¯èµ·é»,ä¸æ˜¯çµ‚é»:
- ç†è§£æ¯ä¸€è¡Œç¨‹å¼ç¢¼çš„ç”¨é€”
- é©—è­‰æ˜¯å¦ç¬¦åˆéœ€æ±‚
- åŸ·è¡Œæ¸¬è©¦ç¢ºèªæ­£ç¢ºæ€§
- æ ¹æ“šå°ˆæ¡ˆç‰¹æ€§èª¿æ•´
```

**2. ä½¿ç”¨ AI å­¸ç¿’,ä¸æ˜¯ä¾è³´**

```text
å¥½çš„ä½¿ç”¨æ–¹å¼:
âœ… "é€™æ®µç¨‹å¼ç¢¼å¦‚ä½•é‹ä½œ?è«‹è§£é‡‹"
âœ… "ç‚ºä»€éº¼é¸æ“‡é€™å€‹è¨­è¨ˆæ¨¡å¼?"
âœ… "æœ‰ä»€éº¼æ›¿ä»£æ–¹æ¡ˆ?"

ä¸å¥½çš„ä½¿ç”¨æ–¹å¼:
âŒ "å¹«æˆ‘å¯«å®Œæ‰€æœ‰ç¨‹å¼ç¢¼"(ä¸æ€è€ƒ)
âŒ "é€™æ®µç¨‹å¼ç¢¼å ±éŒ¯,å¹«æˆ‘ä¿®"(ä¸ç†è§£å•é¡Œ)
```

**3. ä¿æŒäººå·¥å¯©æŸ¥**

```text
é—œéµæ±ºç­–å¿…é ˆç¶“äººå·¥å¯©æŸ¥:
- Spec çš„éœ€æ±‚å®šç¾©
- Plan çš„æ¶æ§‹è¨­è¨ˆ
- Constitution çš„ä¾‹å¤–å¯©æ‰¹
- ç”Ÿç”¢ç’°å¢ƒçš„éƒ¨ç½²
```

**4. å»ºç«‹åœ˜éšŠæç¤ºè©åº«**

```text
åœ˜éšŠå…±ç”¨çš„æç¤ºè©ç¯„æœ¬:
prompts/
â”œâ”€â”€ spec-review.md
â”œâ”€â”€ plan-review.md
â”œâ”€â”€ code-review.md
â”œâ”€â”€ test-generation.md
â””â”€â”€ refactoring.md
```

---

### 4.5 å¹³å°å°å…¥å»ºè­°

#### å°å…¥è·¯å¾‘(3 éšæ®µ)

**éšæ®µ 1:è©¦é»å°ˆæ¡ˆ(1-2 å€‹æœˆ)**

**ç›®æ¨™**:é©—è­‰ SDD å¯è¡Œæ€§

**é¸æ“‡æ¨™æº–**:

- âœ… å°å‹å°ˆæ¡ˆ(2-4 é€±å¯å®Œæˆ)
- âœ… æ–°åŠŸèƒ½(é¿å…æ—¢æœ‰ç³»çµ±è¤‡é›œåº¦)
- âœ… åœ˜éšŠæ„é¡˜é«˜

**ç¯„ä¾‹**:ç…§ç‰‡ç›¸ç°¿ç®¡ç†ã€é€šçŸ¥æœå‹™ç­‰

**æ´»å‹•**:

1. åŸ¹è¨“åœ˜éšŠ SDD æ¦‚å¿µ(4 å°æ™‚å·¥ä½œåŠ)
2. å»ºç«‹å°ˆæ¡ˆ Constitution
3. å®Œæ•´åŸ·è¡Œ SDD æµç¨‹(Spec â†’ Plan â†’ Tasks â†’ Implement)
4. è¨˜éŒ„ç¶“é©—èˆ‡å•é¡Œ

**æˆåŠŸæŒ‡æ¨™**:

- [ ] Spec â†’ Plan â†’ Tasks è¿½æº¯æ€§ 100%
- [ ] æ¸¬è©¦è¦†è“‹ç‡ > 80%
- [ ] åœ˜éšŠæ»¿æ„åº¦ > 4/5
- [ ] æº–æ™‚äº¤ä»˜

---

**éšæ®µ 2:æ¨å»£è‡³åœ˜éšŠ(3-6 å€‹æœˆ)**

**ç›®æ¨™**:å»ºç«‹åœ˜éšŠç¿’æ…£

**æ´»å‹•**:

1. åˆ¶å®šåœ˜éšŠ Constitution(åŸºæ–¼è©¦é»ç¶“é©—)
2. å»ºç«‹ Spec/Plan/Tasks æ¨¡æ¿
3. å°‡ SDD ç´å…¥ DoD(Definition of Done)
4. å®šæœŸ SDD Review æœƒè­°(æ¯æœˆ)

**æˆåŠŸæŒ‡æ¨™**:

- [ ] 80% æ–°å°ˆæ¡ˆä½¿ç”¨ SDD
- [ ] Constitution é•è¦ç‡ < 10%
- [ ] å¹³å‡æ¸¬è©¦è¦†è“‹ç‡ > 75%
- [ ] éœ€æ±‚è®Šæ›´è¿½è¹¤æ¸…æ¥š

---

**éšæ®µ 3:å¹³å°æ¨™æº–åŒ–(6-12 å€‹æœˆ)**

**ç›®æ¨™**:SDD æˆç‚ºå¹³å°æ¨™æº–

**æ´»å‹•**:

1. å»ºç«‹å¹³å° Constitution(æ‰€æœ‰å°ˆæ¡ˆéµå¾ª)
2. æ•´åˆåˆ° CI/CD Pipeline(è‡ªå‹•æª¢æŸ¥)
3. å»ºç«‹æ–‡ä»¶ä¸­å¿ƒ(é›†ä¸­ç®¡ç† Specs/Plans)
4. å®šæœŸå›é¡§èˆ‡æ”¹é€² Constitution

**æˆåŠŸæŒ‡æ¨™**:

- [ ] 100% æ–°å°ˆæ¡ˆä½¿ç”¨ SDD
- [ ] è‡ªå‹•åŒ–æª¢æŸ¥é€šéç‡ > 95%
- [ ] æŠ€è¡“å‚µå‹™æ¸›å°‘ 30%
- [ ] è·¨åœ˜éšŠå”ä½œæ•ˆç‡æå‡

---

#### å¹³å°å°ˆå±¬ Constitution å»ºè­°

é‡å°ä¼æ¥­å…±ç”¨å¹³å°,å»ºè­°åœ¨æ¨™æº– Constitution åŸºç¤ä¸Šæ–°å¢:

```markdown
## Article XIII: API Design Standards

### Principle
API å¿…é ˆä¸€è‡´ã€ç‰ˆæœ¬åŒ–ã€æ–‡ä»¶åŒ–ã€‚

### Rules
1. **RESTful é¢¨æ ¼**:
   - ä½¿ç”¨æ¨™æº– HTTP æ–¹æ³•
   - è³‡æºå‘½åä½¿ç”¨è¤‡æ•¸åè©
   - è·¯å¾‘çµæ§‹æ¸…æ¥š

2. **ç‰ˆæœ¬ç®¡ç†**:
   - URL ç‰ˆæœ¬(å¦‚ `/api/v1/...`)
   - å‘å¾Œç›¸å®¹è‡³å°‘ 1 å€‹ç‰ˆæœ¬

3. **éŒ¯èª¤è™•ç†**:
   - çµ±ä¸€éŒ¯èª¤æ ¼å¼
   - ä½¿ç”¨æ¨™æº– HTTP ç‹€æ…‹ç¢¼

4. **æ–‡ä»¶**:
   - ä½¿ç”¨ OpenAPI 3.0 è¦æ ¼
   - æä¾› Swagger UI

### Pre-Implementation Gate
- [ ] ç¬¦åˆ RESTful é¢¨æ ¼?
- [ ] API ç‰ˆæœ¬åŒ–?
- [ ] OpenAPI æ–‡ä»¶å®Œæ•´?

---

## Article XIV: Security Requirements

### Principle
å®‰å…¨æ˜¯æ‰€æœ‰æœå‹™çš„é¦–è¦è€ƒé‡ã€‚

### Rules
1. **èªè­‰æˆæ¬Š**: çµ±ä¸€ä½¿ç”¨ OAuth2
2. **è¼¸å…¥é©—è­‰**: æ‰€æœ‰è¼¸å…¥å¿…é ˆé©—è­‰
3. **æ•æ„Ÿè³‡è¨Š**: å¯†ç¢¼ä½¿ç”¨ BCrypt
4. **HTTPS**: ç”Ÿç”¢ç’°å¢ƒå¼·åˆ¶ HTTPS

---

## Article XV: Observability

### Principle
æ‰€æœ‰æœå‹™å¿…é ˆå¯è§€æ¸¬ã€‚

### Rules
1. **æ—¥èªŒ**: çµæ§‹åŒ–æ—¥èªŒ(JSON æ ¼å¼)
2. **ç›£æ§æŒ‡æ¨™**: æ•´åˆ Prometheus + Grafana
3. **å¥åº·æª¢æŸ¥**: æä¾› `/actuator/health` ç«¯é»
4. **å‘Šè­¦**: é—œéµæŒ‡æ¨™è¨­å®šå‘Šè­¦
```

---

#### çµ„ç¹”è®Šé©ç®¡ç†

**1. é«˜å±¤æ”¯æŒ**

```text
ç²å¾—é«˜å±¤æ”¯æŒçš„é—œéµ:
- å±•ç¤º SDD å¦‚ä½•è§£æ±ºç¾æœ‰ç—›é»
- æä¾›è©¦é»å°ˆæ¡ˆæˆæœ(æ•¸æ“šèªªè©±)
- èªªæ˜é•·æœŸæŠ•è³‡å›å ±
```

**2. æ¿€å‹µæ©Ÿåˆ¶**

```text
å°‡ SDD ç´å…¥è€ƒæ ¸:
- Code Review æª¢æŸ¥ Spec/Plan å®Œæ•´æ€§
- æ¸¬è©¦è¦†è“‹ç‡ç´å…¥å“è³ªæŒ‡æ¨™
- Constitution åˆè¦ç‡ç´å…¥åœ˜éšŠ OKR
```

**3. æŒçºŒæ”¹é€²**

```text
å®šæœŸå›é¡§(æ¯å­£):
1. Constitution æ˜¯å¦éœ€è¦æ›´æ–°?
2. å“ªäº›è¦å‰‡éæ–¼åš´æ ¼?
3. å“ªäº›è¦å‰‡éœ€è¦åŠ å¼·?
4. åœ˜éšŠåé¥‹èˆ‡å»ºè­°
```

**4. çŸ¥è­˜åˆ†äº«**

```text
å»ºç«‹å­¸ç¿’æ–‡åŒ–:
- æ¯æœˆ SDD åˆ†äº«æœƒ
- å…§éƒ¨ Wiki æ–‡ä»¶åº«
- æœ€ä½³å¯¦è¸é›†éŒ¦
- æ–°äººåŸ¹è¨“èª²ç¨‹
```

---

## ç¬¬å››ç« å°çµ

æœ¬ç« é€éå¯¦éš›æ¡ˆä¾‹,å±•ç¤ºäº† SDD åœ¨ä¸åŒæƒ…å¢ƒä¸‹çš„æ‡‰ç”¨:

| æƒ…å¢ƒ | é—œéµç­–ç•¥ | æˆåŠŸè¦ç´  |
|------|----------|----------|
| **Greenfield é–‹ç™¼** | å®Œæ•´ SDD æµç¨‹ | Spec â†’ Plan â†’ Tasks è¿½æº¯,TDD,Constitution åˆè¦ |
| **Brownfield æ•´åˆ** | éš”é›¢è®Šæ›´,Strangler Fig | Characterization Tests,Feature Toggle,æ¼¸é€²å¼éƒ¨ç½² |
| **åœ˜éšŠå”ä½œ** | API Contracts å…ˆè¡Œ | å‰å¾Œç«¯åˆ†é›¢,Contract Testing,å®šæœŸåŒæ­¥ |
| **AI åŠ©æ‰‹** | Prompt Engineering | å……åˆ† Context,è¿­ä»£æå•,äººå·¥å¯©æŸ¥ |
| **å¹³å°å°å…¥** | è©¦é» â†’ æ¨å»£ â†’ æ¨™æº–åŒ– | å°æ­¥å¿«è·‘,å»ºç«‹ç¿’æ…£,æŒçºŒæ”¹é€² |

**æ ¸å¿ƒè§€å¿µ**:

- ğŸ¯ **Spec æ˜¯éœ€æ±‚çš„å”¯ä¸€çœŸç›¸ä¾†æº**
- ğŸ—ï¸ **Plan æ˜¯æŠ€è¡“æ±ºç­–çš„è¨˜éŒ„**
- âœ… **Tasks æ˜¯å¯åŸ·è¡Œçš„æœ€å°å–®ä½**
- ğŸ§ª **æ¸¬è©¦æ˜¯å“è³ªçš„ä¿è­‰**
- ğŸ“œ **Constitution æ˜¯å®ˆå‰‡,ä½†å¯èª¿æ•´**
- ğŸ¤– **AI æ˜¯åŠ©æ‰‹,ä¸æ˜¯æ›¿ä»£**

---

## ç¬¬äº”ç« :å¸¸è¦‹å•é¡Œèˆ‡é™·é˜±

### 5.1 å¸¸è¦‹å•é¡Œ(FAQ)

#### Q1: SDD æ˜¯å¦æœƒæ‹–æ…¢é–‹ç™¼é€Ÿåº¦?

**A**: çŸ­æœŸå¯èƒ½è¼ƒæ…¢,é•·æœŸæœƒåŠ é€Ÿã€‚

**èªªæ˜**:

- **å‰æœŸæŠ•å…¥**: Spec/Plan æ’°å¯«éœ€è¦æ™‚é–“
- **ä¸­æœŸå›å ±**: å¯¦ä½œéšæ®µæ›´å¿«(æ–¹å‘æ¸…æ¥š,æ¸›å°‘è¿”å·¥)
- **é•·æœŸå„ªå‹¢**: éœ€æ±‚è¿½æº¯æ€§ä½³,ç¶­è­·å®¹æ˜“,æŠ€è¡“å‚µå‹™å°‘

**æ•¸æ“š**(ä¾†è‡ª GitHub å…§éƒ¨):

- éœ€æ±‚è®Šæ›´æ¸›å°‘ 40%
- æ¸¬è©¦è¦†è“‹ç‡æå‡ 35%
- ç”Ÿç”¢ Bug æ¸›å°‘ 50%

**å»ºè­°**:

- è©¦é»å°ˆæ¡ˆå¯èƒ½è¼ƒæ…¢(å­¸ç¿’æ›²ç·š)
- ç¬¬ 2-3 å€‹å°ˆæ¡ˆé–‹å§‹æ„Ÿå—åˆ°æ•ˆç‡æå‡
- ä¸è¦ç‚ºäº†è¶•é€²åº¦è·³é Spec/Plan

---

#### Q2: æ—¢æœ‰å°ˆæ¡ˆå¦‚ä½•å°å…¥ SDD?

**A**: æ¼¸é€²å¼å°å…¥,ä¸è¦å…¨é¢é‡å¯«ã€‚

**ç­–ç•¥**:

1. **æ–°åŠŸèƒ½å„ªå…ˆ**:
   - âœ… æ‰€æœ‰æ–°åŠŸèƒ½ä½¿ç”¨ SDD
   - âš ï¸ æ—¢æœ‰åŠŸèƒ½æš«ä¸å‹•

2. **é‡è¦æ¨¡çµ„å„ªå…ˆ**:
   - âœ… ç¶“å¸¸ä¿®æ”¹çš„æ¨¡çµ„è£œå…… Spec/Plan
   - âš ï¸ ç©©å®šæ¨¡çµ„ä¿æŒç¾ç‹€

3. **æ¼¸é€²å¼æ¸¬è©¦**:
   - âœ… æ–°ç¨‹å¼ç¢¼è¦æ±‚æ¸¬è©¦è¦†è“‹ç‡ > 80%
   - âš ï¸ æ—¢æœ‰ç¨‹å¼ç¢¼é€æ­¥è£œå…… Characterization Tests

**æ™‚ç¨‹é ä¼°**:

- å°å‹å°ˆæ¡ˆ(< 10 è¬è¡Œ):3-6 å€‹æœˆ
- ä¸­å‹å°ˆæ¡ˆ(10-50 è¬è¡Œ):6-12 å€‹æœˆ
- å¤§å‹å°ˆæ¡ˆ(> 50 è¬è¡Œ):1-2 å¹´

---

#### Q3: Spec èˆ‡ Plan éœ€è¦å¤šè©³ç´°?

**A**: å‰›å¥½è¶³å¤ ,ä¸å¤šä¸å°‘ã€‚

**Spec è©³ç´°åº¦**:

âœ… **æ‡‰è©²åŒ…å«**:

- User Stories(3-5 å€‹ç‚ºä½³)
- Acceptance Criteria(å¯æ¸¬è©¦)
- NFR(å¯é‡åŒ–)
- Out of Scope(æ˜ç¢ºé‚Šç•Œ)

âŒ **ä¸æ‡‰åŒ…å«**:

- ç¨‹å¼ç¢¼ç¯„ä¾‹(å±¬æ–¼ Plan)
- å¯¦ä½œç´°ç¯€(å±¬æ–¼ Implementation)
- UI è¨­è¨ˆç¨¿(å¯åƒè€ƒ,ä½†ä¸æ˜¯ Spec)

**Plan è©³ç´°åº¦**:

âœ… **æ‡‰è©²åŒ…å«**:

- æŠ€è¡“é¸æ“‡(å«ç†ç”±)
- æ¶æ§‹åœ–(é«˜å±¤æ¬¡)
- Data Model(å®Œæ•´)
- API Contracts(å®Œæ•´)
- Implementation Phases(æ˜ç¢º)

âŒ **ä¸æ‡‰åŒ…å«**:

- é€è¡Œç¨‹å¼ç¢¼(å±¬æ–¼ Implementation)
- è®Šæ•¸å‘½å(å¯¦ä½œç´°ç¯€)
- éåº¦çš„é¡åˆ¥åœ–(é¿å… Big Design Up Front)

**åŸå‰‡**:
> "è¶³ä»¥è®“å·¥ç¨‹å¸«é–‹å§‹å¯¦ä½œ,ä½†ä¸è‡³æ–¼é™åˆ¶å¯¦ä½œå‰µæ„"

---

#### Q4: å¦‚ä½•è™•ç†éœ€æ±‚è®Šæ›´?

**A**: æ›´æ–° Spec,é‡æ–°æª¢æŸ¥ä¸€è‡´æ€§ã€‚

**æµç¨‹**:

1. **è©•ä¼°å½±éŸ¿**:
   ```bash
   /speckit.analyze
   # æª¢æŸ¥è®Šæ›´å½±éŸ¿å“ªäº› Plan èˆ‡ Tasks
   ```

2. **æ›´æ–° Spec**:
   ```markdown
   ## Change Log
   
   ### v1.1 (2025-11-01)
   - **Added**: US-006 æ¨™ç±¤ç®¡ç†
   - **Changed**: US-002 æŸ¥è©¢å¢åŠ æ¨™ç±¤éæ¿¾
   - **Removed**: US-005 åŒ¯å‡ºåŠŸèƒ½(ç§»è‡³ v2.0)
   ```

3. **æ›´æ–° Plan** - æ–°å¢å°æ‡‰çš„ Phases,æ›´æ–°æŠ€è¡“é¸æ“‡(å¦‚éœ€è¦)

4. **æ›´æ–° Tasks** - æ–°å¢ä»»å‹™,èª¿æ•´ä¼°æ™‚

5. **é‡æ–° Analyze** - ç¢ºä¿ Spec â†” Plan â†” Tasks ä¸€è‡´

6. **é€šçŸ¥åœ˜éšŠ** - é–‹æœƒè¨è«–å½±éŸ¿,æ›´æ–°æ™‚ç¨‹

**å»ºè­°**:

- å°è®Šæ›´:ç›´æ¥æ›´æ–°æ–‡ä»¶
- å¤§è®Šæ›´:å¬é–‹ Change Review Meeting

---

#### Q5: Constitution å¤ªåš´æ ¼æ€éº¼è¾¦?

**A**: Constitution æ˜¯æŒ‡å¼•,ä¸æ˜¯æ•™æ¢ã€‚

**åŸå‰‡**:

- Constitution æ‡‰è©²å¹«åŠ©åœ˜éšŠ,ä¸æ˜¯é˜»ç¤™
- å¯ä»¥ç”³è«‹ä¾‹å¤–(Exception),ä½†éœ€è¨˜éŒ„ç†ç”±
- å®šæœŸå›é¡§èˆ‡èª¿æ•´

**ä¾‹å¤–è™•ç†**:

```markdown
## Constitution Exception Request

**Project**: Transaction Log Service  
**Article**: Article VII (Simplicity) - "ä½¿ç”¨ â‰¤ 3 å€‹å°ˆæ¡ˆ"  
**Requested Exception**: éœ€è¦ 5 å€‹å¾®æœå‹™  
**Reason**: æ•´åˆ 10 å€‹æ—¢æœ‰ç³»çµ±,å–®é«”æ¶æ§‹ç„¡æ³•æ»¿è¶³ç¨ç«‹éƒ¨ç½²éœ€æ±‚  
**Mitigation**: ä½¿ç”¨ Service Mesh çµ±ä¸€ç®¡ç†è¤‡é›œåº¦  
**Approved By**: æ¶æ§‹å¸« Alice  
**Date**: 2025-10-29  
**Review Date**: 2026-01-29 (3 å€‹æœˆå¾Œå›é¡§)
```

**èª¿æ•´ Constitution**:

```text
æ¯å­£å›é¡§æœƒè­°:
1. å“ªäº›è¦å‰‡ç¶“å¸¸è¢«ç”³è«‹ä¾‹å¤–? â†’ è€ƒæ…®æ”¾å¯¬
2. å“ªäº›è¦å‰‡å¾ˆå°‘è¢«é•å? â†’ å¯èƒ½å¤ªé¬†æ•£
3. æ˜¯å¦æœ‰æ–°çš„æœ€ä½³å¯¦è¸éœ€è¦åŠ å…¥?
4. åœ˜éšŠåé¥‹
```

---

#### Q6: å¦‚ä½•å¹³è¡¡æ–‡ä»¶èˆ‡ç¨‹å¼ç¢¼?

**A**: æ–‡ä»¶æ˜¯æŠ•è³‡,ä¸æ˜¯è² æ“”ã€‚

**æ™‚é–“åˆ†é…å»ºè­°**:

```text
ç¸½é–‹ç™¼æ™‚é–“ = 100%
â”œâ”€ Spec/Plan æ’°å¯«: 15-20%
â”œâ”€ å¯¦ä½œ: 50-60%
â”œâ”€ æ¸¬è©¦: 20-25%
â””â”€ æ–‡ä»¶: 5-10%(API æ–‡ä»¶ã€README)
```

**é™ä½æ–‡ä»¶è² æ“”çš„æŠ€å·§**:

1. **ä½¿ç”¨ AI ç”¢ç”Ÿåˆç¨¿** - AI ç”¢ç”Ÿ 80%,äººå·¥èª¿æ•´ 20%

2. **æ¨¡æ¿åŒ–** - ä½¿ç”¨åœ˜éšŠçµ±ä¸€çš„ Spec/Plan æ¨¡æ¿

3. **æ–‡ä»¶å³ç¨‹å¼ç¢¼** - æ–‡ä»¶èˆ‡ç¨‹å¼ç¢¼æ”¾åœ¨åŒä¸€å€‹ Repo

4. **è‡ªå‹•ç”¢ç”Ÿ** - API æ–‡ä»¶è‡ªå‹•ç”¢ç”Ÿ(OpenAPI)

**è¨˜ä½**:
> "æ²’æœ‰æ–‡ä»¶çš„ç¨‹å¼ç¢¼,6 å€‹æœˆå¾Œé€£è‡ªå·±éƒ½çœ‹ä¸æ‡‚"

---

#### Q7: å°åœ˜éšŠ(1-2 äºº)éœ€è¦ SDD å—?

**A**: éœ€è¦,ä½†å¯ç°¡åŒ–ã€‚

**ç°¡åŒ–ç‰ˆ SDD**:

1. **Spec**: ä¿ç•™,ä½†å¯æ›´ç°¡æ½”
2. **Plan**: ä¿ç•™æ ¸å¿ƒéƒ¨åˆ†(æŠ€è¡“é¸æ“‡ã€API Contracts)
3. **Tasks**: å¯çœç•¥,ç›´æ¥ä½¿ç”¨ GitHub Issues
4. **Constitution**: ç°¡åŒ–ç‰ˆ(3-5 æ¢æ ¸å¿ƒè¦å‰‡)

**å¥½è™•**:

- å³ä½¿ 1 äººé–‹ç™¼,3 å€‹æœˆå¾Œçš„è‡ªå·±ä¹Ÿèƒ½ç†è§£
- æ–¹ä¾¿æœªä¾†æ“´å±•åœ˜éšŠ

---

### 5.2 å¸¸è¦‹é™·é˜±èˆ‡é¿å…æ–¹æ³•

#### é™·é˜± 1:éåº¦è¨­è¨ˆ(Over-Engineering)

**ç—‡ç‹€**:

- Plan åŒ…å«è¤‡é›œçš„è¨­è¨ˆæ¨¡å¼(ä½†éœ€æ±‚ç°¡å–®)
- éåº¦æŠ½è±¡(å¤ªå¤š Interfaceã€Abstract Class)
- é æ¸¬æœªä¾†éœ€æ±‚(YAGNI é•å)

**é¿å…æ–¹æ³•**:

1. éµå¾ª Constitution Article VIII (Anti-Abstraction)
2. å•è‡ªå·±:ã€Œç¾åœ¨çœŸçš„éœ€è¦é€™å€‹æŠ½è±¡å—?ã€
3. ä½¿ç”¨ YAGNI åŸå‰‡
4. Code Review æ™‚æŒ‘æˆ°éåº¦è¨­è¨ˆ

---

#### é™·é˜± 2:æ–‡ä»¶èˆ‡ç¨‹å¼ç¢¼ä¸åŒæ­¥

**ç—‡ç‹€**:

- Spec èªªè¦åš A,ç¨‹å¼ç¢¼å¯¦ä½œ B
- Plan å®šç¾© API `/v1/orders`,ç¨‹å¼ç¢¼å¯«æˆ `/api/orders`

**é¿å…æ–¹æ³•**:

1. **æ–‡ä»¶èˆ‡ç¨‹å¼ç¢¼åœ¨åŒä¸€å€‹ PR**
2. **PR Checklist å¼·åˆ¶æª¢æŸ¥**
3. **å®šæœŸåŸ·è¡Œ analyze** - CI Pipeline ä¸­è‡ªå‹•åŸ·è¡Œ
4. **æ–‡ä»¶ Review** - æ–‡ä»¶è®Šæ›´ä¹Ÿéœ€è¦ Code Review

---

#### é™·é˜± 3:è·³éæ¸¬è©¦

**ç—‡ç‹€**:

- ã€Œå…ˆå¯¦ä½œ,æ¸¬è©¦ä¹‹å¾Œè£œã€(ç„¶å¾Œå°±å¿˜äº†)
- æ¸¬è©¦è¦†è“‹ç‡ä¸è¶³

**é¿å…æ–¹æ³•**:

1. åš´æ ¼åŸ·è¡Œ TDD(ç´…-ç¶ -é‡æ§‹)
2. DoD åŒ…å«ã€Œæ¸¬è©¦è¦†è“‹ç‡ > 80%ã€
3. CI Pipeline æª¢æŸ¥æ¸¬è©¦è¦†è“‹ç‡
4. Code Review æ‹’çµ•ç„¡æ¸¬è©¦çš„ç¨‹å¼ç¢¼

---

#### é™·é˜± 4:å¿½ç•¥ NFR

**ç—‡ç‹€**:

- åªé—œæ³¨åŠŸèƒ½éœ€æ±‚,å¿½ç•¥æ•ˆèƒ½ã€å®‰å…¨ã€å¯ç”¨æ€§
- NFR å®šç¾©æ¨¡ç³Š(ã€Œè¦å¿«ã€è€Œéã€Œ< 500msã€)

**é¿å…æ–¹æ³•**:

1. Spec å¿…é ˆåŒ…å«å¯é‡åŒ–çš„ NFR
2. Plan åŒ…å« NFR å¯¦ä½œç­–ç•¥
3. å¯¦ä½œéšæ®µé€²è¡Œæ•ˆèƒ½æ¸¬è©¦
4. /speckit.checklist æª¢æŸ¥ NFR è¦†è“‹

---

#### é™·é˜± 5:ç›²ç›®ä¿¡ä»» AI

**ç—‡ç‹€**:

- ä¸ç†è§£ AI ç”¢ç”Ÿçš„ç¨‹å¼ç¢¼å°±ç›´æ¥ä½¿ç”¨
- AI å»ºè­°é•å Constitution ä½†æœªå¯Ÿè¦º

**é¿å…æ–¹æ³•**:

1. ç†è§£æ¯ä¸€è¡Œ AI ç”¢ç”Ÿçš„ç¨‹å¼ç¢¼
2. åŸ·è¡Œä¸¦é©—è­‰æ¸¬è©¦
3. äººå·¥å¯©æŸ¥é—œéµæ±ºç­–
4. å°‡ AI ç•¶ä½œåŠ©æ‰‹,ä¸æ˜¯æ›¿ä»£å“

---

#### é™·é˜± 6:éåº¦å …æŒ Constitution

**ç—‡ç‹€**:

- æ˜çŸ¥ç‰¹æ®Šæƒ…æ³,ä½†ä»æ­»å®ˆè¦å‰‡
- Constitution é˜»ç¤™å‰µæ–°

**é¿å…æ–¹æ³•**:

1. Constitution æ˜¯æŒ‡å¼•,ä¸æ˜¯æ•™æ¢
2. å»ºç«‹ Exception æµç¨‹
3. å®šæœŸå›é¡§ Constitution
4. é¼“å‹µæŒ‘æˆ°ä¸åˆç†çš„è¦å‰‡

---

## ç¬¬äº”ç« å°çµ

**æ ¸å¿ƒè§€å¿µ**:

- ğŸ¤” **FAQ å¹«åŠ©æ±ºç­–** - ä¸ç¢ºå®šæ™‚æŸ¥é–±å¸¸è¦‹å•é¡Œ
- âš ï¸ **èªè­˜é™·é˜±** - é¿å…å¸¸è¦‹éŒ¯èª¤
- ğŸ“ˆ **æŒçºŒæ”¹é€²** - å¾éŒ¯èª¤ä¸­å­¸ç¿’

**è¨˜ä½**:

> "SDD æ˜¯å¹«åŠ©åœ˜éšŠçš„å·¥å…·,ä¸æ˜¯è² æ“”ã€‚  
> å¦‚æœæ„Ÿåˆ°å›°é›£,æª¢è¦–æ˜¯å¦éåº¦åƒµåŒ–æˆ–ç†è§£æœ‰èª¤ã€‚"

---

## ç¬¬å…­ç« :é™„éŒ„

### 6.1 å®Œæ•´æ¨¡æ¿ç¯„ä¾‹

#### Spec æ¨¡æ¿

```markdown
# Spec: [åŠŸèƒ½åç¨±]

## Overview
[1-2 æ®µç°¡çŸ­æè¿°]

## User Stories

### US-001: [æ¨™é¡Œ]
**As a** [è§’è‰²]  
**I want to** [å‹•ä½œ]  
**So that** [åƒ¹å€¼]

**Acceptance Criteria**:
1. [å¯æ¸¬è©¦çš„æ¢ä»¶ 1]
2. [å¯æ¸¬è©¦çš„æ¢ä»¶ 2]

**Priority**: High/Medium/Low  
**Estimated Effort**: [å¤©æ•¸]

---

## Non-Functional Requirements

### NFR-001: Performance
- [å¯é‡åŒ–çš„æ•ˆèƒ½æŒ‡æ¨™]

### NFR-002: Security
- [å®‰å…¨éœ€æ±‚]

## Technical Constraints
- [æŠ€è¡“é™åˆ¶]

## Dependencies
- [ä¾è³´é …ç›®]

## Risks & Mitigation

| Risk | Impact | Probability | Mitigation |
|------|--------|-------------|------------|
| [é¢¨éšª] | High/Medium/Low | High/Medium/Low | [æ‡‰å°ç­–ç•¥] |

## Out of Scope
- [ ] [ä¸åœ¨ç¯„åœçš„åŠŸèƒ½]

## Open Questions
1. **[NEEDS CLARIFICATION]** [å¾…æ¾„æ¸…çš„å•é¡Œ]
```

---

#### Plan æ¨¡æ¿

```markdown
# Plan: [åŠŸèƒ½åç¨±]

## Phase -1: Pre-Implementation Gates

### [Gate Name]
- [ ] [æª¢æŸ¥é …ç›®]

**All Gates Passed**: âœ…/âŒ

---

## 1. Technology Stack

| Category | Technology | Version | Justification |
|----------|-----------|---------|---------------|
| [é¡åˆ¥] | [æŠ€è¡“] | [ç‰ˆæœ¬] | [ç†ç”±] |

---

## 2. Architecture

### High-Level Architecture

```text
[æ¶æ§‹åœ–]
```

---

## 3. Data Model

### Entity: [å¯¦é«”åç¨±]

```java
// å¯¦é«”å®šç¾©
```

---

## 4. API Contracts

#### 4.1 [API åç¨±]

**Request**:
```json
{}
```

**Response**:
```json
{}
```

---

## 5. Implementation Phases

### Phase 0: [éšæ®µåç¨±] (X days)

**Tasks**:
- [ ] [ä»»å‹™]

**Deliverables**:
- [ ] [ç”¢å‡ºç‰©]

---

## 6. Testing Strategy

### Unit Tests
- [æ¸¬è©¦ç¯„åœ]

### Integration Tests
- [æ¸¬è©¦ç¯„åœ]

---

## 7. Risk Mitigation
[é¢¨éšªæ‡‰å°]

---

## 8. Deployment
[éƒ¨ç½²æ­¥é©Ÿ]
```

---

### 6.2 æª¢æŸ¥æ¸…å–®

#### Spec å®Œæ•´æ€§æª¢æŸ¥æ¸…å–®

```markdown
## Spec Completeness Checklist

### åŸºæœ¬è³‡è¨Š
- [ ] æœ‰ Overview èªªæ˜
- [ ] æœ‰æ˜ç¢ºçš„åŠŸèƒ½ç¯„åœ

### User Stories
- [ ] æ¯å€‹ Story æœ‰ As a/I want to/So that
- [ ] æ¯å€‹ Story æœ‰ Acceptance Criteria
- [ ] Acceptance Criteria å¯æ¸¬è©¦
- [ ] æœ‰ Priority èˆ‡ Estimated Effort

### Non-Functional Requirements
- [ ] NFR å¯é‡åŒ–
- [ ] æ¶µè“‹æ•ˆèƒ½ã€å®‰å…¨ã€æ“´å±•æ€§

### é‚Šç•Œèˆ‡é¢¨éšª
- [ ] Out of Scope æ¸…æ¥šåˆ—å‡º
- [ ] ä¾è³´é—œä¿‚å·²è­˜åˆ¥
- [ ] é¢¨éšªèˆ‡æ‡‰å°ç­–ç•¥å®Œæ•´

### æ¨¡ç³Šéœ€æ±‚
- [ ] ç„¡ [NEEDS CLARIFICATION] æ®˜ç•™
- [ ] æ‰€æœ‰ Open Questions å·²è§£æ±º
```

---

#### Plan å®Œæ•´æ€§æª¢æŸ¥æ¸…å–®

```markdown
## Plan Completeness Checklist

### Constitution åˆè¦
- [ ] é€šéæ‰€æœ‰ Pre-Implementation Gates
- [ ] ç„¡æœªè¨˜éŒ„çš„ä¾‹å¤–

### æŠ€è¡“é¸æ“‡
- [ ] Technology Stack å®Œæ•´
- [ ] æ¯å€‹æŠ€è¡“æœ‰é¸æ“‡ç†ç”±

### æ¶æ§‹è¨­è¨ˆ
- [ ] æœ‰æ¶æ§‹åœ–
- [ ] å…ƒä»¶è·è²¬æ˜ç¢º
- [ ] ç„¡éåº¦æŠ½è±¡

### è³‡æ–™æ¨¡å‹
- [ ] Entity å®šç¾©å®Œæ•´
- [ ] Database Schema å®Œæ•´
- [ ] ç´¢å¼•è¨­è¨ˆåˆç†

### API Contracts
- [ ] æ‰€æœ‰ API æœ‰å®Œæ•´å®šç¾©
- [ ] Request/Response ç¯„ä¾‹å®Œæ•´

### å¯¦ä½œè¨ˆç•«
- [ ] Implementation Phases æ¸…æ¥š
- [ ] æ¯å€‹ Phase æœ‰æ˜ç¢ºç”¢å‡ºç‰©

### æ¸¬è©¦ç­–ç•¥
- [ ] æ¸¬è©¦ç­–ç•¥å®Œæ•´
- [ ] æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™æ˜ç¢º
```

---

#### Code Review æª¢æŸ¥æ¸…å–®

```markdown
## Code Review Checklist

### éœ€æ±‚ç¬¦åˆæ€§
- [ ] ç¬¦åˆ Spec çš„ Acceptance Criteria
- [ ] ç¬¦åˆ Plan çš„è¨­è¨ˆ
- [ ] ç¬¦åˆ Task çš„æè¿°

### ç¨‹å¼ç¢¼å“è³ª
- [ ] å‘½åæ¸…æ¥šæ˜“æ‡‚
- [ ] ç„¡é‡è¤‡ç¨‹å¼ç¢¼(DRY)
- [ ] å‡½å¼é•·åº¦åˆç†(< 50 è¡Œ)

### æ¸¬è©¦
- [ ] æœ‰å°æ‡‰çš„æ¸¬è©¦
- [ ] æ¸¬è©¦è¦†è“‹ç‡ > 80%
- [ ] æ¸¬è©¦æ¶µè“‹é‚Šç•Œæ¢ä»¶

### éŒ¯èª¤è™•ç†
- [ ] ç•°å¸¸è™•ç†å®Œæ•´
- [ ] éŒ¯èª¤è¨Šæ¯å‹å–„

### å®‰å…¨
- [ ] è¼¸å…¥é©—è­‰å®Œæ•´
- [ ] ç„¡ SQL Injection é¢¨éšª
- [ ] ç„¡ XSS é¢¨éšª

### Constitution åˆè¦
- [ ] ç¬¦åˆ Constitution è¦ç¯„
- [ ] ä¾‹å¤–å·²è¨˜éŒ„
```

---

### 6.3 åƒè€ƒè³‡æº

#### å®˜æ–¹è³‡æº

- **Spec-Kit GitHub**: https://github.com/github/spec-kit
- **Spec-Driven æ–¹æ³•è«–**: https://spec-driven.md
- **GitHub Copilot æ–‡ä»¶**: https://docs.github.com/copilot

#### å»¶ä¼¸é–±è®€

**æ›¸ç±**:

- *Test-Driven Development* by Kent Beck
- *Clean Code* by Robert C. Martin
- *Design Patterns* by Gang of Four
- *Building Microservices* by Sam Newman

**æ–‡ç« **:

- "YAGNI Principle" (You Aren't Gonna Need It)
- "SOLID Principles"
- "Contract-First Development"
- "Strangler Fig Pattern" (Martin Fowler)

#### å·¥å…·æ¨è–¦

**é–‹ç™¼å·¥å…·**:

- **VS Code**: æœ€ä½³ GitHub Copilot æ•´åˆ
- **IntelliJ IDEA**: Java é–‹ç™¼é¦–é¸
- **Cursor**: AI-first IDE

**æ¸¬è©¦å·¥å…·**:

- **JUnit 5**: Java å–®å…ƒæ¸¬è©¦
- **Vitest**: JavaScript å–®å…ƒæ¸¬è©¦
- **Testcontainers**: æ•´åˆæ¸¬è©¦
- **JMeter / Gatling**: æ•ˆèƒ½æ¸¬è©¦

**æ–‡ä»¶å·¥å…·**:

- **Markdown**: æ–‡ä»¶æ’°å¯«
- **Mermaid**: åœ–è¡¨ç¹ªè£½
- **Swagger / OpenAPI**: API æ–‡ä»¶

**CI/CD å·¥å…·**:

- **GitHub Actions**: CI/CD è‡ªå‹•åŒ–
- **Jenkins**: ä¼æ¥­ç´š CI/CD
- **SonarQube**: ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥

---

### 6.4 è¡“èªè¡¨

| è¡“èª | èªªæ˜ |
|------|------|
| **SDD** | Specification-Driven Development,è¦æ ¼é©…å‹•é–‹ç™¼ |
| **Spec** | Specification,éœ€æ±‚è¦æ ¼ |
| **Plan** | å¯¦ä½œè¨ˆç•«,æŠ€è¡“è¨­è¨ˆæ–‡ä»¶ |
| **Tasks** | å¯åŸ·è¡Œçš„ä»»å‹™æ¸…å–® |
| **Constitution** | å°ˆæ¡ˆå®ˆå‰‡,é–‹ç™¼åŸå‰‡ |
| **NFR** | Non-Functional Requirement,éåŠŸèƒ½æ€§éœ€æ±‚ |
| **TDD** | Test-Driven Development,æ¸¬è©¦é©…å‹•é–‹ç™¼ |
| **DoD** | Definition of Done,å®Œæˆå®šç¾© |
| **AC** | Acceptance Criteria,é©—æ”¶æ¨™æº– |
| **User Story** | ä½¿ç”¨è€…æ•…äº‹ |
| **API Contract** | API å¥‘ç´„,ä»‹é¢è¦æ ¼ |
| **Pre-Implementation Gate** | å¯¦ä½œå‰æª¢æŸ¥é» |
| **Characterization Test** | ç‰¹å¾µæ¸¬è©¦,è¨˜éŒ„æ—¢æœ‰è¡Œç‚ºçš„æ¸¬è©¦ |
| **Feature Toggle** | åŠŸèƒ½é–‹é—œ |
| **Strangler Fig Pattern** | çµæ®ºè€…æ¨¡å¼,é€æ­¥æ›¿æ›æ—¢æœ‰ç³»çµ± |
| **YAGNI** | You Aren't Gonna Need It,é¿å…éåº¦è¨­è¨ˆ |
| **DRY** | Don't Repeat Yourself,é¿å…é‡è¤‡ |
| **SOLID** | ç‰©ä»¶å°å‘è¨­è¨ˆäº”å¤§åŸå‰‡ |

---

### 6.5 å¿«é€ŸæŒ‡ä»¤åƒè€ƒ

#### Spec-Kit æ ¸å¿ƒæŒ‡ä»¤

```bash
# 1. åˆå§‹åŒ–å°ˆæ¡ˆ
specify init

# 2. æ’°å¯« Spec
/speckit.specify

# 3. æ¾„æ¸…éœ€æ±‚
/speckit.clarify

# 4. æ’°å¯« Plan
/speckit.plan

# 5. æ‹†åˆ† Tasks
/speckit.tasks

# 6. åˆ†æä¸€è‡´æ€§
/speckit.analyze

# 7. å“è³ªæª¢æŸ¥
/speckit.checklist

# 8. å¯¦ä½œ
/speckit.implement <task-id>
```

#### Git å·¥ä½œæµç¨‹

```bash
# å»ºç«‹ Feature åˆ†æ”¯
git checkout -b feature/US-001-user-login

# æ’°å¯« Spec/Plan
git add .speckit/
git commit -m "docs(spec): add user login spec (US-001)"

# å¯¦ä½œ
git add src/ tests/
git commit -m "feat(auth): implement user login (US-001)

- Add LoginService
- Add JWT token generation
- Test coverage: 85%

Related: US-001, T007
"

# æ¨é€
git push origin feature/US-001-user-login
```

#### æ¸¬è©¦æŒ‡ä»¤

```bash
# å–®å…ƒæ¸¬è©¦
npm run test
mvn test

# æ¸¬è©¦è¦†è“‹ç‡
npm run test:coverage
mvn test jacoco:report

# æ•´åˆæ¸¬è©¦
npm run test:integration
mvn verify

# E2E æ¸¬è©¦
npm run test:e2e
```

---

## çµèª

æ­å–œä½ å®Œæˆäº†é€™ä»½ Spec-Kit ä½¿ç”¨æ•™å­¸æ‰‹å†Š!

### æ ¸å¿ƒè¦é»å›é¡§

1. **SDD çš„æ ¸å¿ƒåƒ¹å€¼**:
   - ğŸ“ éœ€æ±‚è¿½æº¯æ€§
   - ğŸ¯ æ–¹å‘æ˜ç¢º
   - ğŸ§ª å“è³ªä¿è­‰
   - ğŸ¤– AI å”ä½œ

2. **é—œéµå·¥ä»¶**:
   - **Spec**: éœ€æ±‚çš„å”¯ä¸€çœŸç›¸ä¾†æº
   - **Plan**: æŠ€è¡“æ±ºç­–çš„è¨˜éŒ„
   - **Tasks**: å¯åŸ·è¡Œçš„æœ€å°å–®ä½
   - **Constitution**: åœ˜éšŠçš„é–‹ç™¼å®ˆå‰‡

3. **æˆåŠŸè¦ç´ **:
   - âœ… åœ˜éšŠå…±è­˜
   - âœ… æŒçºŒå¯¦è¸
   - âœ… éˆæ´»èª¿æ•´
   - âœ… å·¥å…·è¼”åŠ©

### ä¸‹ä¸€æ­¥è¡Œå‹•

**ç«‹å³é–‹å§‹**:

1. é¸æ“‡ä¸€å€‹å°å°ˆæ¡ˆä½œç‚ºè©¦é»
2. å»ºç«‹å°ˆæ¡ˆ Constitution
3. åŸ·è¡Œå®Œæ•´çš„ SDD æµç¨‹
4. è¨˜éŒ„ç¶“é©—èˆ‡å•é¡Œ

**æŒçºŒæ”¹é€²**:

1. å®šæœŸå›é¡§ Constitution
2. åˆ†äº«æˆåŠŸæ¡ˆä¾‹
3. å„ªåŒ–æ¨¡æ¿èˆ‡æµç¨‹
4. åŸ¹é¤Šåœ˜éšŠç¿’æ…£

**æ“´å±•æ‡‰ç”¨**:

1. æ¨å»£è‡³æ›´å¤šå°ˆæ¡ˆ
2. å»ºç«‹åœ˜éšŠæ¨™æº–
3. æ•´åˆåˆ° CI/CD
4. å»ºç«‹çŸ¥è­˜åº«

---

### ä¿æŒè¯ç¹«

- **GitHub**: https://github.com/github/spec-kit
- **ç¤¾ç¾¤è¨è«–**: GitHub Discussions
- **å•é¡Œå›å ±**: GitHub Issues

---

**ç¥ä½ åœ¨ Specification-Driven Development çš„æ—…ç¨‹ä¸­é †åˆ©!** ğŸš€

*æ–‡ä»¶ç‰ˆæœ¬: v1.0*  
*æœ€å¾Œæ›´æ–°: 2025-10-29*

